var mg=u=>{throw TypeError(u)};var xu=(u,t,i)=>t.has(u)||mg("Cannot "+i);var di=(u,t,i)=>(xu(u,t,"read from private field"),i?i.call(u):t.get(u)),Us=(u,t,i)=>t.has(u)?mg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(u):t.set(u,i),$a=(u,t,i,s)=>(xu(u,t,"write to private field"),s?s.call(u,i):t.set(u,i),i),Nl=(u,t,i)=>(xu(u,t,"access private method"),i);var yg=(u,t,i,s)=>({set _(r){$a(u,t,r,i)},get _(){return di(u,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=i(r);fetch(r.href,o)}})();function Pv(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var Tu={exports:{}},Wa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function Fv(){if(bg)return Wa;bg=1;var u=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:u,type:s,key:c,ref:r!==void 0?r:null,props:o}}return Wa.Fragment=t,Wa.jsx=i,Wa.jsxs=i,Wa}var vg;function Hv(){return vg||(vg=1,Tu.exports=Fv()),Tu.exports}var K=Hv(),Cu={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag;function zv(){if(Ag)return vt;Ag=1;var u=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function b(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function x(C,G,Q){this.props=C,this.context=G,this.refs=E,this.updater=Q||A}x.prototype.isReactComponent={},x.prototype.setState=function(C,G){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,G,"setState")},x.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function w(){}w.prototype=x.prototype;function M(C,G,Q){this.props=C,this.context=G,this.refs=E,this.updater=Q||A}var O=M.prototype=new w;O.constructor=M,S(O,x.prototype),O.isPureReactComponent=!0;var k=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function X(C,G,Q,$,et,mt){return Q=mt.ref,{$$typeof:u,type:C,key:G,ref:Q!==void 0?Q:null,props:mt}}function Z(C,G){return X(C.type,G,void 0,void 0,void 0,C.props)}function W(C){return typeof C=="object"&&C!==null&&C.$$typeof===u}function tt(C){var G={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(Q){return G[Q]})}var J=/\/+/g;function ot(C,G){return typeof C=="object"&&C!==null&&C.key!=null?tt(""+C.key):G.toString(36)}function dt(){}function ht(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(dt,dt):(C.status="pending",C.then(function(G){C.status==="pending"&&(C.status="fulfilled",C.value=G)},function(G){C.status==="pending"&&(C.status="rejected",C.reason=G)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function rt(C,G,Q,$,et){var mt=typeof C;(mt==="undefined"||mt==="boolean")&&(C=null);var it=!1;if(C===null)it=!0;else switch(mt){case"bigint":case"string":case"number":it=!0;break;case"object":switch(C.$$typeof){case u:case t:it=!0;break;case m:return it=C._init,rt(it(C._payload),G,Q,$,et)}}if(it)return et=et(C),it=$===""?"."+ot(C,0):$,k(et)?(Q="",it!=null&&(Q=it.replace(J,"$&/")+"/"),rt(et,G,Q,"",function(te){return te})):et!=null&&(W(et)&&(et=Z(et,Q+(et.key==null||C&&C.key===et.key?"":(""+et.key).replace(J,"$&/")+"/")+it)),G.push(et)),1;it=0;var yt=$===""?".":$+":";if(k(C))for(var Tt=0;Tt<C.length;Tt++)$=C[Tt],mt=yt+ot($,Tt),it+=rt($,G,Q,mt,et);else if(Tt=b(C),typeof Tt=="function")for(C=Tt.call(C),Tt=0;!($=C.next()).done;)$=$.value,mt=yt+ot($,Tt++),it+=rt($,G,Q,mt,et);else if(mt==="object"){if(typeof C.then=="function")return rt(ht(C),G,Q,$,et);throw G=String(C),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return it}function P(C,G,Q){if(C==null)return C;var $=[],et=0;return rt(C,$,"","",function(mt){return G.call(Q,mt,et++)}),$}function B(C){if(C._status===-1){var G=C._result;G=G(),G.then(function(Q){(C._status===0||C._status===-1)&&(C._status=1,C._result=Q)},function(Q){(C._status===0||C._status===-1)&&(C._status=2,C._result=Q)}),C._status===-1&&(C._status=0,C._result=G)}if(C._status===1)return C._result.default;throw C._result}var Y=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function gt(){}return vt.Children={map:P,forEach:function(C,G,Q){P(C,function(){G.apply(this,arguments)},Q)},count:function(C){var G=0;return P(C,function(){G++}),G},toArray:function(C){return P(C,function(G){return G})||[]},only:function(C){if(!W(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},vt.Component=x,vt.Fragment=i,vt.Profiler=r,vt.PureComponent=M,vt.StrictMode=s,vt.Suspense=f,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,vt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return H.H.useMemoCache(C)}},vt.cache=function(C){return function(){return C.apply(null,arguments)}},vt.cloneElement=function(C,G,Q){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var $=S({},C.props),et=C.key,mt=void 0;if(G!=null)for(it in G.ref!==void 0&&(mt=void 0),G.key!==void 0&&(et=""+G.key),G)!j.call(G,it)||it==="key"||it==="__self"||it==="__source"||it==="ref"&&G.ref===void 0||($[it]=G[it]);var it=arguments.length-2;if(it===1)$.children=Q;else if(1<it){for(var yt=Array(it),Tt=0;Tt<it;Tt++)yt[Tt]=arguments[Tt+2];$.children=yt}return X(C.type,et,void 0,void 0,mt,$)},vt.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:o,_context:C},C},vt.createElement=function(C,G,Q){var $,et={},mt=null;if(G!=null)for($ in G.key!==void 0&&(mt=""+G.key),G)j.call(G,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(et[$]=G[$]);var it=arguments.length-2;if(it===1)et.children=Q;else if(1<it){for(var yt=Array(it),Tt=0;Tt<it;Tt++)yt[Tt]=arguments[Tt+2];et.children=yt}if(C&&C.defaultProps)for($ in it=C.defaultProps,it)et[$]===void 0&&(et[$]=it[$]);return X(C,mt,void 0,void 0,null,et)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(C){return{$$typeof:h,render:C}},vt.isValidElement=W,vt.lazy=function(C){return{$$typeof:m,_payload:{_status:-1,_result:C},_init:B}},vt.memo=function(C,G){return{$$typeof:p,type:C,compare:G===void 0?null:G}},vt.startTransition=function(C){var G=H.T,Q={};H.T=Q;try{var $=C(),et=H.S;et!==null&&et(Q,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(gt,Y)}catch(mt){Y(mt)}finally{H.T=G}},vt.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},vt.use=function(C){return H.H.use(C)},vt.useActionState=function(C,G,Q){return H.H.useActionState(C,G,Q)},vt.useCallback=function(C,G){return H.H.useCallback(C,G)},vt.useContext=function(C){return H.H.useContext(C)},vt.useDebugValue=function(){},vt.useDeferredValue=function(C,G){return H.H.useDeferredValue(C,G)},vt.useEffect=function(C,G,Q){var $=H.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(C,G)},vt.useId=function(){return H.H.useId()},vt.useImperativeHandle=function(C,G,Q){return H.H.useImperativeHandle(C,G,Q)},vt.useInsertionEffect=function(C,G){return H.H.useInsertionEffect(C,G)},vt.useLayoutEffect=function(C,G){return H.H.useLayoutEffect(C,G)},vt.useMemo=function(C,G){return H.H.useMemo(C,G)},vt.useOptimistic=function(C,G){return H.H.useOptimistic(C,G)},vt.useReducer=function(C,G,Q){return H.H.useReducer(C,G,Q)},vt.useRef=function(C){return H.H.useRef(C)},vt.useState=function(C){return H.H.useState(C)},vt.useSyncExternalStore=function(C,G,Q){return H.H.useSyncExternalStore(C,G,Q)},vt.useTransition=function(){return H.H.useTransition()},vt.version="19.1.0",vt}var Sg;function ih(){return Sg||(Sg=1,Cu.exports=zv()),Cu.exports}var L=ih(),Ru={exports:{}},Qa={},Mu={exports:{}},Du={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function Uv(){return _g||(_g=1,function(u){function t(P,B){var Y=P.length;P.push(B);t:for(;0<Y;){var gt=Y-1>>>1,C=P[gt];if(0<r(C,B))P[gt]=B,P[Y]=C,Y=gt;else break t}}function i(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var B=P[0],Y=P.pop();if(Y!==B){P[0]=Y;t:for(var gt=0,C=P.length,G=C>>>1;gt<G;){var Q=2*(gt+1)-1,$=P[Q],et=Q+1,mt=P[et];if(0>r($,Y))et<C&&0>r(mt,$)?(P[gt]=mt,P[et]=Y,gt=et):(P[gt]=$,P[Q]=Y,gt=Q);else if(et<C&&0>r(mt,Y))P[gt]=mt,P[et]=Y,gt=et;else break t}}return B}function r(P,B){var Y=P.sortIndex-B.sortIndex;return Y!==0?Y:P.id-B.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;u.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();u.unstable_now=function(){return c.now()-h}}var f=[],p=[],m=1,y=null,b=3,A=!1,S=!1,E=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function k(P){for(var B=i(p);B!==null;){if(B.callback===null)s(p);else if(B.startTime<=P)s(p),B.sortIndex=B.expirationTime,t(f,B);else break;B=i(p)}}function H(P){if(E=!1,k(P),!S)if(i(f)!==null)S=!0,j||(j=!0,ot());else{var B=i(p);B!==null&&rt(H,B.startTime-P)}}var j=!1,X=-1,Z=5,W=-1;function tt(){return x?!0:!(u.unstable_now()-W<Z)}function J(){if(x=!1,j){var P=u.unstable_now();W=P;var B=!0;try{t:{S=!1,E&&(E=!1,M(X),X=-1),A=!0;var Y=b;try{e:{for(k(P),y=i(f);y!==null&&!(y.expirationTime>P&&tt());){var gt=y.callback;if(typeof gt=="function"){y.callback=null,b=y.priorityLevel;var C=gt(y.expirationTime<=P);if(P=u.unstable_now(),typeof C=="function"){y.callback=C,k(P),B=!0;break e}y===i(f)&&s(f),k(P)}else s(f);y=i(f)}if(y!==null)B=!0;else{var G=i(p);G!==null&&rt(H,G.startTime-P),B=!1}}break t}finally{y=null,b=Y,A=!1}B=void 0}}finally{B?ot():j=!1}}}var ot;if(typeof O=="function")ot=function(){O(J)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,ht=dt.port2;dt.port1.onmessage=J,ot=function(){ht.postMessage(null)}}else ot=function(){w(J,0)};function rt(P,B){X=w(function(){P(u.unstable_now())},B)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(P){P.callback=null},u.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<P?Math.floor(1e3/P):5},u.unstable_getCurrentPriorityLevel=function(){return b},u.unstable_next=function(P){switch(b){case 1:case 2:case 3:var B=3;break;default:B=b}var Y=b;b=B;try{return P()}finally{b=Y}},u.unstable_requestPaint=function(){x=!0},u.unstable_runWithPriority=function(P,B){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var Y=b;b=P;try{return B()}finally{b=Y}},u.unstable_scheduleCallback=function(P,B,Y){var gt=u.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?gt+Y:gt):Y=gt,P){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=Y+C,P={id:m++,callback:B,priorityLevel:P,startTime:Y,expirationTime:C,sortIndex:-1},Y>gt?(P.sortIndex=Y,t(p,P),i(f)===null&&P===i(p)&&(E?(M(X),X=-1):E=!0,rt(H,Y-gt))):(P.sortIndex=C,t(f,P),S||A||(S=!0,j||(j=!0,ot()))),P},u.unstable_shouldYield=tt,u.unstable_wrapCallback=function(P){var B=b;return function(){var Y=b;b=B;try{return P.apply(this,arguments)}finally{b=Y}}}}(Du)),Du}var Eg;function Bv(){return Eg||(Eg=1,Mu.exports=Uv()),Mu.exports}var Lu={exports:{}},xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg;function Iv(){if(wg)return xe;wg=1;var u=ih();function t(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,p,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:f,containerInfo:p,implementation:m}}var c=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,xe.createPortal=function(f,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return o(f,p,null,m)},xe.flushSync=function(f){var p=c.T,m=s.p;try{if(c.T=null,s.p=2,f)return f()}finally{c.T=p,s.p=m,s.d.f()}},xe.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(f,p))},xe.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},xe.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var m=p.as,y=h(m,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?s.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:A}):m==="script"&&s.d.X(f,{crossOrigin:y,integrity:b,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},xe.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=h(p.as,p.crossOrigin);s.d.M(f,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(f)},xe.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,y=h(m,p.crossOrigin);s.d.L(f,m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},xe.preloadModule=function(f,p){if(typeof f=="string")if(p){var m=h(p.as,p.crossOrigin);s.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(f)},xe.requestFormReset=function(f){s.d.r(f)},xe.unstable_batchedUpdates=function(f,p){return f(p)},xe.useFormState=function(f,p,m){return c.H.useFormState(f,p,m)},xe.useFormStatus=function(){return c.H.useHostTransitionStatus()},xe.version="19.1.0",xe}var xg;function jv(){if(xg)return Lu.exports;xg=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(t){console.error(t)}}return u(),Lu.exports=Iv(),Lu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tg;function Gv(){if(Tg)return Qa;Tg=1;var u=Bv(),t=ih(),i=jv();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function c(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(o(e)!==e)throw Error(s(188))}function f(e){var n=e.alternate;if(!n){if(n=o(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,l=n;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return h(d),e;if(g===l)return h(d),n;g=g.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=g;else{for(var v=!1,_=d.child;_;){if(_===a){v=!0,a=d,l=g;break}if(_===l){v=!0,l=d,a=g;break}_=_.sibling}if(!v){for(_=g.child;_;){if(_===a){v=!0,a=g,l=d;break}if(_===l){v=!0,l=g,a=d;break}_=_.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function p(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=p(e),n!==null)return n;e=e.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),O=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),tt=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function ot(e){return e===null||typeof e!="object"?null:(e=J&&e[J]||e["@@iterator"],typeof e=="function"?e:null)}var dt=Symbol.for("react.client.reference");function ht(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===dt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case x:return"Profiler";case E:return"StrictMode";case H:return"Suspense";case j:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case O:return(e.displayName||"Context")+".Provider";case M:return(e._context.displayName||"Context")+".Consumer";case k:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return n=e.displayName||null,n!==null?n:ht(e.type)||"Memo";case Z:n=e._payload,e=e._init;try{return ht(e(n))}catch{}}return null}var rt=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},gt=[],C=-1;function G(e){return{current:e}}function Q(e){0>C||(e.current=gt[C],gt[C]=null,C--)}function $(e,n){C++,gt[C]=e.current,e.current=n}var et=G(null),mt=G(null),it=G(null),yt=G(null);function Tt(e,n){switch($(it,n),$(mt,e),$(et,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?qp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=qp(n),e=Vp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(et),$(et,e)}function te(){Q(et),Q(mt),Q(it)}function Nt(e){e.memoizedState!==null&&$(yt,e);var n=et.current,a=Vp(n,e.type);n!==a&&($(mt,e),$(et,a))}function pi(e){mt.current===e&&(Q(et),Q(mt)),yt.current===e&&(Q(yt),qa._currentValue=Y)}var wi=Object.prototype.hasOwnProperty,Lt=u.unstable_scheduleCallback,jt=u.unstable_cancelCallback,he=u.unstable_shouldYield,ee=u.unstable_requestPaint,be=u.unstable_now,En=u.unstable_getCurrentPriorityLevel,br=u.unstable_ImmediatePriority,vr=u.unstable_UserBlockingPriority,xi=u.unstable_NormalPriority,uo=u.unstable_LowPriority,Ar=u.unstable_IdlePriority,ho=u.log,fo=u.unstable_setDisableYieldValue,wn=null,ie=null;function Be(e){if(typeof ho=="function"&&fo(e),ie&&typeof ie.setStrictMode=="function")try{ie.setStrictMode(wn,e)}catch{}}var de=Math.clz32?Math.clz32:Sy,Zs=Math.log,Ay=Math.LN2;function Sy(e){return e>>>=0,e===0?32:31-(Zs(e)/Ay|0)|0}var Sr=256,_r=4194304;function xn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Er(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var d=0,g=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var _=l&134217727;return _!==0?(l=_&~g,l!==0?d=xn(l):(v&=_,v!==0?d=xn(v):a||(a=_&~e,a!==0&&(d=xn(a))))):(_=l&~g,_!==0?d=xn(_):v!==0?d=xn(v):a||(a=l&~e,a!==0&&(d=xn(a)))),d===0?0:n!==0&&n!==d&&(n&g)===0&&(g=d&-d,a=n&-n,g>=a||g===32&&(a&4194048)!==0)?n:d}function Js(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function _y(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Th(){var e=Sr;return Sr<<=1,(Sr&4194048)===0&&(Sr=256),e}function Ch(){var e=_r;return _r<<=1,(_r&62914560)===0&&(_r=4194304),e}function po(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ta(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ey(e,n,a,l,d,g){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var _=e.entanglements,T=e.expirationTimes,F=e.hiddenUpdates;for(a=v&~a;0<a;){var I=31-de(a),V=1<<I;_[I]=0,T[I]=-1;var z=F[I];if(z!==null)for(F[I]=null,I=0;I<z.length;I++){var U=z[I];U!==null&&(U.lane&=-536870913)}a&=~V}l!==0&&Rh(e,l,0),g!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=g&~(v&~n))}function Rh(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-de(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Mh(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-de(a),d=1<<l;d&n|e[l]&n&&(e[l]|=n),a&=~d}}function go(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function mo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Dh(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:ug(e.type))}function wy(e,n){var a=B.p;try{return B.p=e,n()}finally{B.p=a}}var $i=Math.random().toString(36).slice(2),Ee="__reactFiber$"+$i,ke="__reactProps$"+$i,ts="__reactContainer$"+$i,yo="__reactEvents$"+$i,xy="__reactListeners$"+$i,Ty="__reactHandles$"+$i,Lh="__reactResources$"+$i,ea="__reactMarker$"+$i;function bo(e){delete e[Ee],delete e[ke],delete e[yo],delete e[xy],delete e[Ty]}function es(e){var n=e[Ee];if(n)return n;for(var a=e.parentNode;a;){if(n=a[ts]||a[Ee]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=$p(e);e!==null;){if(a=e[Ee])return a;e=$p(e)}return n}e=a,a=e.parentNode}return null}function is(e){if(e=e[Ee]||e[ts]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function ia(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function ns(e){var n=e[Lh];return n||(n=e[Lh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function fe(e){e[ea]=!0}var Oh=new Set,kh={};function Tn(e,n){ss(e,n),ss(e+"Capture",n)}function ss(e,n){for(kh[e]=n,e=0;e<n.length;e++)Oh.add(n[e])}var Cy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nh={},Ph={};function Ry(e){return wi.call(Ph,e)?!0:wi.call(Nh,e)?!1:Cy.test(e)?Ph[e]=!0:(Nh[e]=!0,!1)}function wr(e,n,a){if(Ry(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function xr(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ti(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}var vo,Fh;function as(e){if(vo===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);vo=n&&n[1]||"",Fh=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vo+e+Fh}var Ao=!1;function So(e,n){if(!e||Ao)return"";Ao=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(U){var z=U}Reflect.construct(e,[],V)}else{try{V.call()}catch(U){z=U}e.call(V.prototype)}}else{try{throw Error()}catch(U){z=U}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(U){if(U&&z&&typeof U.stack=="string")return[U.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=l.DetermineComponentFrameRoot(),v=g[0],_=g[1];if(v&&_){var T=v.split(`
`),F=_.split(`
`);for(d=l=0;l<T.length&&!T[l].includes("DetermineComponentFrameRoot");)l++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(l===T.length||d===F.length)for(l=T.length-1,d=F.length-1;1<=l&&0<=d&&T[l]!==F[d];)d--;for(;1<=l&&0<=d;l--,d--)if(T[l]!==F[d]){if(l!==1||d!==1)do if(l--,d--,0>d||T[l]!==F[d]){var I=`
`+T[l].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=l&&0<=d);break}}}finally{Ao=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?as(a):""}function My(e){switch(e.tag){case 26:case 27:case 5:return as(e.type);case 16:return as("Lazy");case 13:return as("Suspense");case 19:return as("SuspenseList");case 0:case 15:return So(e.type,!1);case 11:return So(e.type.render,!1);case 1:return So(e.type,!0);case 31:return as("Activity");default:return""}}function Hh(e){try{var n="";do n+=My(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function We(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zh(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Dy(e){var n=zh(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(v){l=""+v,g.call(this,v)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Tr(e){e._valueTracker||(e._valueTracker=Dy(e))}function Uh(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=zh(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function Cr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ly=/[\n"\\]/g;function Qe(e){return e.replace(Ly,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function _o(e,n,a,l,d,g,v,_){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+We(n)):e.value!==""+We(n)&&(e.value=""+We(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?Eo(e,v,We(n)):a!=null?Eo(e,v,We(a)):l!=null&&e.removeAttribute("value"),d==null&&g!=null&&(e.defaultChecked=!!g),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+We(_):e.removeAttribute("name")}function Bh(e,n,a,l,d,g,v,_){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),n!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||n!=null))return;a=a!=null?""+We(a):"",n=n!=null?""+We(n):a,_||n===e.value||(e.value=n),e.defaultValue=n}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=_?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Eo(e,n,a){n==="number"&&Cr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function rs(e,n,a,l){if(e=e.options,n){n={};for(var d=0;d<a.length;d++)n["$"+a[d]]=!0;for(a=0;a<e.length;a++)d=n.hasOwnProperty("$"+e[a].value),e[a].selected!==d&&(e[a].selected=d),d&&l&&(e[a].defaultSelected=!0)}else{for(a=""+We(a),n=null,d=0;d<e.length;d++){if(e[d].value===a){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Ih(e,n,a){if(n!=null&&(n=""+We(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+We(a):""}function jh(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(rt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=We(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function ls(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Oy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gh(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||Oy.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function qh(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var d in n)l=n[d],n.hasOwnProperty(d)&&a[d]!==l&&Gh(e,d,l)}else for(var g in n)n.hasOwnProperty(g)&&Gh(e,g,n[g])}function wo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ky=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ny=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rr(e){return Ny.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var xo=null;function To(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var os=null,cs=null;function Vh(e){var n=is(e);if(n&&(e=n.stateNode)){var a=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(_o(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Qe(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var d=l[ke]||null;if(!d)throw Error(s(90));_o(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&Uh(l)}break t;case"textarea":Ih(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&rs(e,!!a.multiple,n,!1)}}}var Co=!1;function Xh(e,n,a){if(Co)return e(n,a);Co=!0;try{var l=e(n);return l}finally{if(Co=!1,(os!==null||cs!==null)&&(fl(),os&&(n=os,e=cs,cs=os=null,Vh(n),e)))for(n=0;n<e.length;n++)Vh(e[n])}}function na(e,n){var a=e.stateNode;if(a===null)return null;var l=a[ke]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ro=!1;if(Ci)try{var sa={};Object.defineProperty(sa,"passive",{get:function(){Ro=!0}}),window.addEventListener("test",sa,sa),window.removeEventListener("test",sa,sa)}catch{Ro=!1}var Wi=null,Mo=null,Mr=null;function Yh(){if(Mr)return Mr;var e,n=Mo,a=n.length,l,d="value"in Wi?Wi.value:Wi.textContent,g=d.length;for(e=0;e<a&&n[e]===d[e];e++);var v=a-e;for(l=1;l<=v&&n[a-l]===d[g-l];l++);return Mr=d.slice(e,1<l?1-l:void 0)}function Dr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Lr(){return!0}function Kh(){return!1}function Ne(e){function n(a,l,d,g,v){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=g,this.target=v,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(a=e[_],this[_]=a?a(g):g[_]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Lr:Kh,this.isPropagationStopped=Kh,this}return m(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),n}var Cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Or=Ne(Cn),aa=m({},Cn,{view:0,detail:0}),Py=Ne(aa),Do,Lo,ra,kr=m({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ko,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ra&&(ra&&e.type==="mousemove"?(Do=e.screenX-ra.screenX,Lo=e.screenY-ra.screenY):Lo=Do=0,ra=e),Do)},movementY:function(e){return"movementY"in e?e.movementY:Lo}}),$h=Ne(kr),Fy=m({},kr,{dataTransfer:0}),Hy=Ne(Fy),zy=m({},aa,{relatedTarget:0}),Oo=Ne(zy),Uy=m({},Cn,{animationName:0,elapsedTime:0,pseudoElement:0}),By=Ne(Uy),Iy=m({},Cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jy=Ne(Iy),Gy=m({},Cn,{data:0}),Wh=Ne(Gy),qy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Xy[e])?!!n[e]:!1}function ko(){return Yy}var Ky=m({},aa,{key:function(e){if(e.key){var n=qy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ko,charCode:function(e){return e.type==="keypress"?Dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$y=Ne(Ky),Wy=m({},kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qh=Ne(Wy),Qy=m({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ko}),Zy=Ne(Qy),Jy=m({},Cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),tb=Ne(Jy),eb=m({},kr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ib=Ne(eb),nb=m({},Cn,{newState:0,oldState:0}),sb=Ne(nb),ab=[9,13,27,32],No=Ci&&"CompositionEvent"in window,la=null;Ci&&"documentMode"in document&&(la=document.documentMode);var rb=Ci&&"TextEvent"in window&&!la,Zh=Ci&&(!No||la&&8<la&&11>=la),Jh=" ",td=!1;function ed(e,n){switch(e){case"keyup":return ab.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function id(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var us=!1;function lb(e,n){switch(e){case"compositionend":return id(n);case"keypress":return n.which!==32?null:(td=!0,Jh);case"textInput":return e=n.data,e===Jh&&td?null:e;default:return null}}function ob(e,n){if(us)return e==="compositionend"||!No&&ed(e,n)?(e=Yh(),Mr=Mo=Wi=null,us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Zh&&n.locale!=="ko"?null:n.data;default:return null}}var cb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!cb[e.type]:n==="textarea"}function sd(e,n,a,l){os?cs?cs.push(l):cs=[l]:os=l,n=vl(n,"onChange"),0<n.length&&(a=new Or("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var oa=null,ca=null;function ub(e){Up(e,0)}function Nr(e){var n=ia(e);if(Uh(n))return e}function ad(e,n){if(e==="change")return n}var rd=!1;if(Ci){var Po;if(Ci){var Fo="oninput"in document;if(!Fo){var ld=document.createElement("div");ld.setAttribute("oninput","return;"),Fo=typeof ld.oninput=="function"}Po=Fo}else Po=!1;rd=Po&&(!document.documentMode||9<document.documentMode)}function od(){oa&&(oa.detachEvent("onpropertychange",cd),ca=oa=null)}function cd(e){if(e.propertyName==="value"&&Nr(ca)){var n=[];sd(n,ca,e,To(e)),Xh(ub,n)}}function hb(e,n,a){e==="focusin"?(od(),oa=n,ca=a,oa.attachEvent("onpropertychange",cd)):e==="focusout"&&od()}function db(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nr(ca)}function fb(e,n){if(e==="click")return Nr(n)}function pb(e,n){if(e==="input"||e==="change")return Nr(n)}function gb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ie=typeof Object.is=="function"?Object.is:gb;function ua(e,n){if(Ie(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!wi.call(n,d)||!Ie(e[d],n[d]))return!1}return!0}function ud(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hd(e,n){var a=ud(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ud(a)}}function dd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?dd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function fd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Cr(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Cr(e.document)}return n}function Ho(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var mb=Ci&&"documentMode"in document&&11>=document.documentMode,hs=null,zo=null,ha=null,Uo=!1;function pd(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uo||hs==null||hs!==Cr(l)||(l=hs,"selectionStart"in l&&Ho(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ha&&ua(ha,l)||(ha=l,l=vl(zo,"onSelect"),0<l.length&&(n=new Or("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=hs)))}function Rn(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ds={animationend:Rn("Animation","AnimationEnd"),animationiteration:Rn("Animation","AnimationIteration"),animationstart:Rn("Animation","AnimationStart"),transitionrun:Rn("Transition","TransitionRun"),transitionstart:Rn("Transition","TransitionStart"),transitioncancel:Rn("Transition","TransitionCancel"),transitionend:Rn("Transition","TransitionEnd")},Bo={},gd={};Ci&&(gd=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function Mn(e){if(Bo[e])return Bo[e];if(!ds[e])return e;var n=ds[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in gd)return Bo[e]=n[a];return e}var md=Mn("animationend"),yd=Mn("animationiteration"),bd=Mn("animationstart"),yb=Mn("transitionrun"),bb=Mn("transitionstart"),vb=Mn("transitioncancel"),vd=Mn("transitionend"),Ad=new Map,Io="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Io.push("scrollEnd");function ci(e,n){Ad.set(e,n),Tn(n,[e])}var Sd=new WeakMap;function Ze(e,n){if(typeof e=="object"&&e!==null){var a=Sd.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Hh(n)},Sd.set(e,n),n)}return{value:e,source:n,stack:Hh(n)}}var Je=[],fs=0,jo=0;function Pr(){for(var e=fs,n=jo=fs=0;n<e;){var a=Je[n];Je[n++]=null;var l=Je[n];Je[n++]=null;var d=Je[n];Je[n++]=null;var g=Je[n];if(Je[n++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}g!==0&&_d(a,d,g)}}function Fr(e,n,a,l){Je[fs++]=e,Je[fs++]=n,Je[fs++]=a,Je[fs++]=l,jo|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Go(e,n,a,l){return Fr(e,n,a,l),Hr(e)}function ps(e,n){return Fr(e,null,null,n),Hr(e)}function _d(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var d=!1,g=e.return;g!==null;)g.childLanes|=a,l=g.alternate,l!==null&&(l.childLanes|=a),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(d=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,d&&n!==null&&(d=31-de(a),e=g.hiddenUpdates,l=e[d],l===null?e[d]=[n]:l.push(n),n.lane=a|536870912),g):null}function Hr(e){if(50<Fa)throw Fa=0,$c=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var gs={};function Ab(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function je(e,n,a,l){return new Ab(e,n,a,l)}function qo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ri(e,n){var a=e.alternate;return a===null?(a=je(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ed(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function zr(e,n,a,l,d,g){var v=0;if(l=e,typeof e=="function")qo(e)&&(v=1);else if(typeof e=="string")v=_v(e,a,et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case W:return e=je(31,a,n,d),e.elementType=W,e.lanes=g,e;case S:return Dn(a.children,d,g,n);case E:v=8,d|=24;break;case x:return e=je(12,a,n,d|2),e.elementType=x,e.lanes=g,e;case H:return e=je(13,a,n,d),e.elementType=H,e.lanes=g,e;case j:return e=je(19,a,n,d),e.elementType=j,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case w:case O:v=10;break t;case M:v=9;break t;case k:v=11;break t;case X:v=14;break t;case Z:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=je(v,a,n,d),n.elementType=e,n.type=l,n.lanes=g,n}function Dn(e,n,a,l){return e=je(7,e,l,n),e.lanes=a,e}function Vo(e,n,a){return e=je(6,e,null,n),e.lanes=a,e}function Xo(e,n,a){return n=je(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ms=[],ys=0,Ur=null,Br=0,ti=[],ei=0,Ln=null,Mi=1,Di="";function On(e,n){ms[ys++]=Br,ms[ys++]=Ur,Ur=e,Br=n}function wd(e,n,a){ti[ei++]=Mi,ti[ei++]=Di,ti[ei++]=Ln,Ln=e;var l=Mi;e=Di;var d=32-de(l)-1;l&=~(1<<d),a+=1;var g=32-de(n)+d;if(30<g){var v=d-d%5;g=(l&(1<<v)-1).toString(32),l>>=v,d-=v,Mi=1<<32-de(n)+d|a<<d|l,Di=g+e}else Mi=1<<g|a<<d|l,Di=e}function Yo(e){e.return!==null&&(On(e,1),wd(e,1,0))}function Ko(e){for(;e===Ur;)Ur=ms[--ys],ms[ys]=null,Br=ms[--ys],ms[ys]=null;for(;e===Ln;)Ln=ti[--ei],ti[ei]=null,Di=ti[--ei],ti[ei]=null,Mi=ti[--ei],ti[ei]=null}var De=null,Kt=null,Dt=!1,kn=null,gi=!1,$o=Error(s(519));function Nn(e){var n=Error(s(418,""));throw pa(Ze(n,e)),$o}function xd(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[Ee]=e,n[ke]=l,a){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(a=0;a<za.length;a++)xt(za[a],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),Bh(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Tr(n);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),jh(n,l.value,l.defaultValue,l.children),Tr(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Gp(n.textContent,a)?(l.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),l.onScroll!=null&&xt("scroll",n),l.onScrollEnd!=null&&xt("scrollend",n),l.onClick!=null&&(n.onclick=Al),n=!0):n=!1,n||Nn(e)}function Td(e){for(De=e.return;De;)switch(De.tag){case 5:case 13:gi=!1;return;case 27:case 3:gi=!0;return;default:De=De.return}}function da(e){if(e!==De)return!1;if(!Dt)return Td(e),Dt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||hu(e.type,e.memoizedProps)),a=!a),a&&Kt&&Nn(e),Td(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){Kt=hi(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}Kt=null}}else n===27?(n=Kt,fn(e.type)?(e=gu,gu=null,Kt=e):Kt=n):Kt=De?hi(e.stateNode.nextSibling):null;return!0}function fa(){Kt=De=null,Dt=!1}function Cd(){var e=kn;return e!==null&&(He===null?He=e:He.push.apply(He,e),kn=null),e}function pa(e){kn===null?kn=[e]:kn.push(e)}var Wo=G(null),Pn=null,Li=null;function Qi(e,n,a){$(Wo,n._currentValue),n._currentValue=a}function Oi(e){e._currentValue=Wo.current,Q(Wo)}function Qo(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function Zo(e,n,a,l){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var g=d.dependencies;if(g!==null){var v=d.child;g=g.firstContext;t:for(;g!==null;){var _=g;g=d;for(var T=0;T<n.length;T++)if(_.context===n[T]){g.lanes|=a,_=g.alternate,_!==null&&(_.lanes|=a),Qo(g.return,a,e),l||(v=null);break t}g=_.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(s(341));v.lanes|=a,g=v.alternate,g!==null&&(g.lanes|=a),Qo(v,a,e),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===e){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function ga(e,n,a,l){e=null;for(var d=n,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var _=d.type;Ie(d.pendingProps.value,v.value)||(e!==null?e.push(_):e=[_])}}else if(d===yt.current){if(v=d.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(qa):e=[qa])}d=d.return}e!==null&&Zo(n,e,a,l),n.flags|=262144}function Ir(e){for(e=e.firstContext;e!==null;){if(!Ie(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fn(e){Pn=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function we(e){return Rd(Pn,e)}function jr(e,n){return Pn===null&&Fn(e),Rd(e,n)}function Rd(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Li===null){if(e===null)throw Error(s(308));Li=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Li=Li.next=n;return a}var Sb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},_b=u.unstable_scheduleCallback,Eb=u.unstable_NormalPriority,re={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jo(){return{controller:new Sb,data:new Map,refCount:0}}function ma(e){e.refCount--,e.refCount===0&&_b(Eb,function(){e.controller.abort()})}var ya=null,tc=0,bs=0,vs=null;function wb(e,n){if(ya===null){var a=ya=[];tc=0,bs=iu(),vs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return tc++,n.then(Md,Md),n}function Md(){if(--tc===0&&ya!==null){vs!==null&&(vs.status="fulfilled");var e=ya;ya=null,bs=0,vs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function xb(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var d=0;d<a.length;d++)(0,a[d])(n)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Dd=P.S;P.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&wb(e,n),Dd!==null&&Dd(e,n)};var Hn=G(null);function ec(){var e=Hn.current;return e!==null?e:Bt.pooledCache}function Gr(e,n){n===null?$(Hn,Hn.current):$(Hn,n.pool)}function Ld(){var e=ec();return e===null?null:{parent:re._currentValue,pool:e}}var ba=Error(s(460)),Od=Error(s(474)),qr=Error(s(542)),ic={then:function(){}};function kd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vr(){}function Nd(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Vr,Vr),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Fd(e),e;default:if(typeof n.status=="string")n.then(Vr,Vr);else{if(e=Bt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=l}},function(l){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Fd(e),e}throw va=n,ba}}var va=null;function Pd(){if(va===null)throw Error(s(459));var e=va;return va=null,e}function Fd(e){if(e===ba||e===qr)throw Error(s(483))}var Zi=!1;function nc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ji(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function tn(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ot&2)!==0){var d=l.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n,n=Hr(e),_d(e,null,a),n}return Fr(e,l,n,a),Hr(e)}function Aa(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Mh(e,a)}}function ac(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?d=g=v:g=g.next=v,a=a.next}while(a!==null);g===null?d=g=n:g=g.next=n}else d=g=n;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var rc=!1;function Sa(){if(rc){var e=vs;if(e!==null)throw e}}function _a(e,n,a,l){rc=!1;var d=e.updateQueue;Zi=!1;var g=d.firstBaseUpdate,v=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var T=_,F=T.next;T.next=null,v===null?g=F:v.next=F,v=T;var I=e.alternate;I!==null&&(I=I.updateQueue,_=I.lastBaseUpdate,_!==v&&(_===null?I.firstBaseUpdate=F:_.next=F,I.lastBaseUpdate=T))}if(g!==null){var V=d.baseState;v=0,I=F=T=null,_=g;do{var z=_.lane&-536870913,U=z!==_.lane;if(U?(Rt&z)===z:(l&z)===z){z!==0&&z===bs&&(rc=!0),I!==null&&(I=I.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});t:{var ut=e,lt=_;z=n;var Ht=a;switch(lt.tag){case 1:if(ut=lt.payload,typeof ut=="function"){V=ut.call(Ht,V,z);break t}V=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=lt.payload,z=typeof ut=="function"?ut.call(Ht,V,z):ut,z==null)break t;V=m({},V,z);break t;case 2:Zi=!0}}z=_.callback,z!==null&&(e.flags|=64,U&&(e.flags|=8192),U=d.callbacks,U===null?d.callbacks=[z]:U.push(z))}else U={lane:z,tag:_.tag,payload:_.payload,callback:_.callback,next:null},I===null?(F=I=U,T=V):I=I.next=U,v|=z;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;U=_,_=U.next,U.next=null,d.lastBaseUpdate=U,d.shared.pending=null}}while(!0);I===null&&(T=V),d.baseState=T,d.firstBaseUpdate=F,d.lastBaseUpdate=I,g===null&&(d.shared.lanes=0),cn|=v,e.lanes=v,e.memoizedState=V}}function Hd(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function zd(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Hd(a[e],n)}var As=G(null),Xr=G(0);function Ud(e,n){e=Ui,$(Xr,e),$(As,n),Ui=e|n.baseLanes}function lc(){$(Xr,Ui),$(As,As.current)}function oc(){Ui=Xr.current,Q(As),Q(Xr)}var en=0,St=null,Pt=null,ne=null,Yr=!1,Ss=!1,zn=!1,Kr=0,Ea=0,_s=null,Tb=0;function Wt(){throw Error(s(321))}function cc(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Ie(e[a],n[a]))return!1;return!0}function uc(e,n,a,l,d,g){return en=g,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,P.H=e===null||e.memoizedState===null?Ef:wf,zn=!1,g=a(l,d),zn=!1,Ss&&(g=Id(n,a,l,d)),Bd(e),g}function Bd(e){P.H=tl;var n=Pt!==null&&Pt.next!==null;if(en=0,ne=Pt=St=null,Yr=!1,Ea=0,_s=null,n)throw Error(s(300));e===null||pe||(e=e.dependencies,e!==null&&Ir(e)&&(pe=!0))}function Id(e,n,a,l){St=e;var d=0;do{if(Ss&&(_s=null),Ea=0,Ss=!1,25<=d)throw Error(s(301));if(d+=1,ne=Pt=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}P.H=kb,g=n(a,l)}while(Ss);return g}function Cb(){var e=P.H,n=e.useState()[0];return n=typeof n.then=="function"?wa(n):n,e=e.useState()[0],(Pt!==null?Pt.memoizedState:null)!==e&&(St.flags|=1024),n}function hc(){var e=Kr!==0;return Kr=0,e}function dc(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function fc(e){if(Yr){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Yr=!1}en=0,ne=Pt=St=null,Ss=!1,Ea=Kr=0,_s=null}function Pe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ne===null?St.memoizedState=ne=e:ne=ne.next=e,ne}function se(){if(Pt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Pt.next;var n=ne===null?St.memoizedState:ne.next;if(n!==null)ne=n,Pt=e;else{if(e===null)throw St.alternate===null?Error(s(467)):Error(s(310));Pt=e,e={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},ne===null?St.memoizedState=ne=e:ne=ne.next=e}return ne}function pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wa(e){var n=Ea;return Ea+=1,_s===null&&(_s=[]),e=Nd(_s,e,n),n=St,(ne===null?n.memoizedState:ne.next)===null&&(n=n.alternate,P.H=n===null||n.memoizedState===null?Ef:wf),e}function $r(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return wa(e);if(e.$$typeof===O)return we(e)}throw Error(s(438,String(e)))}function gc(e){var n=null,a=St.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=pc(),St.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=tt;return n.index++,a}function ki(e,n){return typeof n=="function"?n(e):n}function Wr(e){var n=se();return mc(n,Pt,e)}function mc(e,n,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=e.baseQueue,g=l.pending;if(g!==null){if(d!==null){var v=d.next;d.next=g.next,g.next=v}n.baseQueue=d=g,l.pending=null}if(g=e.baseState,d===null)e.memoizedState=g;else{n=d.next;var _=v=null,T=null,F=n,I=!1;do{var V=F.lane&-536870913;if(V!==F.lane?(Rt&V)===V:(en&V)===V){var z=F.revertLane;if(z===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),V===bs&&(I=!0);else if((en&z)===z){F=F.next,z===bs&&(I=!0);continue}else V={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},T===null?(_=T=V,v=g):T=T.next=V,St.lanes|=z,cn|=z;V=F.action,zn&&a(g,V),g=F.hasEagerState?F.eagerState:a(g,V)}else z={lane:V,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},T===null?(_=T=z,v=g):T=T.next=z,St.lanes|=V,cn|=V;F=F.next}while(F!==null&&F!==n);if(T===null?v=g:T.next=_,!Ie(g,e.memoizedState)&&(pe=!0,I&&(a=vs,a!==null)))throw a;e.memoizedState=g,e.baseState=v,e.baseQueue=T,l.lastRenderedState=g}return d===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function yc(e){var n=se(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,d=a.pending,g=n.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do g=e(g,v.action),v=v.next;while(v!==d);Ie(g,n.memoizedState)||(pe=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),a.lastRenderedState=g}return[g,l]}function jd(e,n,a){var l=St,d=se(),g=Dt;if(g){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!Ie((Pt||d).memoizedState,a);v&&(d.memoizedState=a,pe=!0),d=d.queue;var _=Vd.bind(null,l,d,e);if(xa(2048,8,_,[e]),d.getSnapshot!==n||v||ne!==null&&ne.memoizedState.tag&1){if(l.flags|=2048,Es(9,Qr(),qd.bind(null,l,d,a,n),null),Bt===null)throw Error(s(349));g||(en&124)!==0||Gd(l,n,a)}return a}function Gd(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=St.updateQueue,n===null?(n=pc(),St.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function qd(e,n,a,l){n.value=a,n.getSnapshot=l,Xd(n)&&Yd(e)}function Vd(e,n,a){return a(function(){Xd(n)&&Yd(e)})}function Xd(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Ie(e,a)}catch{return!0}}function Yd(e){var n=ps(e,2);n!==null&&Ye(n,e,2)}function bc(e){var n=Pe();if(typeof e=="function"){var a=e;if(e=a(),zn){Be(!0);try{a()}finally{Be(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},n}function Kd(e,n,a,l){return e.baseState=a,mc(e,Pt,typeof l=="function"?l:ki)}function Rb(e,n,a,l,d){if(Jr(e))throw Error(s(485));if(e=n.action,e!==null){var g={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){g.listeners.push(v)}};P.T!==null?a(!0):g.isTransition=!1,l(g),a=n.pending,a===null?(g.next=n.pending=g,$d(n,g)):(g.next=a.next,n.pending=a.next=g)}}function $d(e,n){var a=n.action,l=n.payload,d=e.state;if(n.isTransition){var g=P.T,v={};P.T=v;try{var _=a(d,l),T=P.S;T!==null&&T(v,_),Wd(e,n,_)}catch(F){vc(e,n,F)}finally{P.T=g}}else try{g=a(d,l),Wd(e,n,g)}catch(F){vc(e,n,F)}}function Wd(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Qd(e,n,l)},function(l){return vc(e,n,l)}):Qd(e,n,a)}function Qd(e,n,a){n.status="fulfilled",n.value=a,Zd(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,$d(e,a)))}function vc(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Zd(n),n=n.next;while(n!==l)}e.action=null}function Zd(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Jd(e,n){return n}function tf(e,n){if(Dt){var a=Bt.formState;if(a!==null){t:{var l=St;if(Dt){if(Kt){e:{for(var d=Kt,g=gi;d.nodeType!==8;){if(!g){d=null;break e}if(d=hi(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){Kt=hi(d.nextSibling),l=d.data==="F!";break t}}Nn(l)}l=!1}l&&(n=a[0])}}return a=Pe(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jd,lastRenderedState:n},a.queue=l,a=Af.bind(null,St,l),l.dispatch=a,l=bc(!1),g=wc.bind(null,St,!1,l.queue),l=Pe(),d={state:n,dispatch:null,action:e,pending:null},l.queue=d,a=Rb.bind(null,St,d,g,a),d.dispatch=a,l.memoizedState=e,[n,a,!1]}function ef(e){var n=se();return nf(n,Pt,e)}function nf(e,n,a){if(n=mc(e,n,Jd)[0],e=Wr(ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=wa(n)}catch(v){throw v===ba?qr:v}else l=n;n=se();var d=n.queue,g=d.dispatch;return a!==n.memoizedState&&(St.flags|=2048,Es(9,Qr(),Mb.bind(null,d,a),null)),[l,g,e]}function Mb(e,n){e.action=n}function sf(e){var n=se(),a=Pt;if(a!==null)return nf(n,a,e);se(),n=n.memoizedState,a=se();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function Es(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=pc(),St.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function Qr(){return{destroy:void 0,resource:void 0}}function af(){return se().memoizedState}function Zr(e,n,a,l){var d=Pe();l=l===void 0?null:l,St.flags|=e,d.memoizedState=Es(1|n,Qr(),a,l)}function xa(e,n,a,l){var d=se();l=l===void 0?null:l;var g=d.memoizedState.inst;Pt!==null&&l!==null&&cc(l,Pt.memoizedState.deps)?d.memoizedState=Es(n,g,a,l):(St.flags|=e,d.memoizedState=Es(1|n,g,a,l))}function rf(e,n){Zr(8390656,8,e,n)}function lf(e,n){xa(2048,8,e,n)}function of(e,n){return xa(4,2,e,n)}function cf(e,n){return xa(4,4,e,n)}function uf(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function hf(e,n,a){a=a!=null?a.concat([e]):null,xa(4,4,uf.bind(null,n,e),a)}function Ac(){}function df(e,n){var a=se();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&cc(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function ff(e,n){var a=se();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&cc(n,l[1]))return l[0];if(l=e(),zn){Be(!0);try{e()}finally{Be(!1)}}return a.memoizedState=[l,n],l}function Sc(e,n,a){return a===void 0||(en&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=mp(),St.lanes|=e,cn|=e,a)}function pf(e,n,a,l){return Ie(a,n)?a:As.current!==null?(e=Sc(e,a,l),Ie(e,n)||(pe=!0),e):(en&42)===0?(pe=!0,e.memoizedState=a):(e=mp(),St.lanes|=e,cn|=e,n)}function gf(e,n,a,l,d){var g=B.p;B.p=g!==0&&8>g?g:8;var v=P.T,_={};P.T=_,wc(e,!1,n,a);try{var T=d(),F=P.S;if(F!==null&&F(_,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var I=xb(T,l);Ta(e,n,I,Xe(e))}else Ta(e,n,l,Xe(e))}catch(V){Ta(e,n,{then:function(){},status:"rejected",reason:V},Xe())}finally{B.p=g,P.T=v}}function Db(){}function _c(e,n,a,l){if(e.tag!==5)throw Error(s(476));var d=mf(e).queue;gf(e,d,n,Y,a===null?Db:function(){return yf(e),a(l)})}function mf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:Y},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function yf(e){var n=mf(e).next.queue;Ta(e,n,{},Xe())}function Ec(){return we(qa)}function bf(){return se().memoizedState}function vf(){return se().memoizedState}function Lb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Xe();e=Ji(a);var l=tn(n,e,a);l!==null&&(Ye(l,n,a),Aa(l,n,a)),n={cache:Jo()},e.payload=n;return}n=n.return}}function Ob(e,n,a){var l=Xe();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Jr(e)?Sf(n,a):(a=Go(e,n,a,l),a!==null&&(Ye(a,e,l),_f(a,n,l)))}function Af(e,n,a){var l=Xe();Ta(e,n,a,l)}function Ta(e,n,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Jr(e))Sf(n,d);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var v=n.lastRenderedState,_=g(v,a);if(d.hasEagerState=!0,d.eagerState=_,Ie(_,v))return Fr(e,n,d,0),Bt===null&&Pr(),!1}catch{}finally{}if(a=Go(e,n,d,l),a!==null)return Ye(a,e,l),_f(a,n,l),!0}return!1}function wc(e,n,a,l){if(l={lane:2,revertLane:iu(),action:l,hasEagerState:!1,eagerState:null,next:null},Jr(e)){if(n)throw Error(s(479))}else n=Go(e,a,l,2),n!==null&&Ye(n,e,2)}function Jr(e){var n=e.alternate;return e===St||n!==null&&n===St}function Sf(e,n){Ss=Yr=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function _f(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Mh(e,a)}}var tl={readContext:we,use:$r,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt},Ef={readContext:we,use:$r,useCallback:function(e,n){return Pe().memoizedState=[e,n===void 0?null:n],e},useContext:we,useEffect:rf,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Zr(4194308,4,uf.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Zr(4194308,4,e,n)},useInsertionEffect:function(e,n){Zr(4,2,e,n)},useMemo:function(e,n){var a=Pe();n=n===void 0?null:n;var l=e();if(zn){Be(!0);try{e()}finally{Be(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=Pe();if(a!==void 0){var d=a(n);if(zn){Be(!0);try{a(n)}finally{Be(!1)}}}else d=n;return l.memoizedState=l.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},l.queue=e,e=e.dispatch=Ob.bind(null,St,e),[l.memoizedState,e]},useRef:function(e){var n=Pe();return e={current:e},n.memoizedState=e},useState:function(e){e=bc(e);var n=e.queue,a=Af.bind(null,St,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Ac,useDeferredValue:function(e,n){var a=Pe();return Sc(a,e,n)},useTransition:function(){var e=bc(!1);return e=gf.bind(null,St,e.queue,!0,!1),Pe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=St,d=Pe();if(Dt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Bt===null)throw Error(s(349));(Rt&124)!==0||Gd(l,n,a)}d.memoizedState=a;var g={value:a,getSnapshot:n};return d.queue=g,rf(Vd.bind(null,l,g,e),[e]),l.flags|=2048,Es(9,Qr(),qd.bind(null,l,g,a,n),null),a},useId:function(){var e=Pe(),n=Bt.identifierPrefix;if(Dt){var a=Di,l=Mi;a=(l&~(1<<32-de(l)-1)).toString(32)+a,n=""+n+"R"+a,a=Kr++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=Tb++,n=""+n+"r"+a.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:Ec,useFormState:tf,useActionState:tf,useOptimistic:function(e){var n=Pe();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=wc.bind(null,St,!0,a),a.dispatch=n,[e,n]},useMemoCache:gc,useCacheRefresh:function(){return Pe().memoizedState=Lb.bind(null,St)}},wf={readContext:we,use:$r,useCallback:df,useContext:we,useEffect:lf,useImperativeHandle:hf,useInsertionEffect:of,useLayoutEffect:cf,useMemo:ff,useReducer:Wr,useRef:af,useState:function(){return Wr(ki)},useDebugValue:Ac,useDeferredValue:function(e,n){var a=se();return pf(a,Pt.memoizedState,e,n)},useTransition:function(){var e=Wr(ki)[0],n=se().memoizedState;return[typeof e=="boolean"?e:wa(e),n]},useSyncExternalStore:jd,useId:bf,useHostTransitionStatus:Ec,useFormState:ef,useActionState:ef,useOptimistic:function(e,n){var a=se();return Kd(a,Pt,e,n)},useMemoCache:gc,useCacheRefresh:vf},kb={readContext:we,use:$r,useCallback:df,useContext:we,useEffect:lf,useImperativeHandle:hf,useInsertionEffect:of,useLayoutEffect:cf,useMemo:ff,useReducer:yc,useRef:af,useState:function(){return yc(ki)},useDebugValue:Ac,useDeferredValue:function(e,n){var a=se();return Pt===null?Sc(a,e,n):pf(a,Pt.memoizedState,e,n)},useTransition:function(){var e=yc(ki)[0],n=se().memoizedState;return[typeof e=="boolean"?e:wa(e),n]},useSyncExternalStore:jd,useId:bf,useHostTransitionStatus:Ec,useFormState:sf,useActionState:sf,useOptimistic:function(e,n){var a=se();return Pt!==null?Kd(a,Pt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:gc,useCacheRefresh:vf},ws=null,Ca=0;function el(e){var n=Ca;return Ca+=1,ws===null&&(ws=[]),Nd(ws,e,n)}function Ra(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function il(e,n){throw n.$$typeof===y?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function xf(e){var n=e._init;return n(e._payload)}function Tf(e){function n(D,R){if(e){var N=D.deletions;N===null?(D.deletions=[R],D.flags|=16):N.push(R)}}function a(D,R){if(!e)return null;for(;R!==null;)n(D,R),R=R.sibling;return null}function l(D){for(var R=new Map;D!==null;)D.key!==null?R.set(D.key,D):R.set(D.index,D),D=D.sibling;return R}function d(D,R){return D=Ri(D,R),D.index=0,D.sibling=null,D}function g(D,R,N){return D.index=N,e?(N=D.alternate,N!==null?(N=N.index,N<R?(D.flags|=67108866,R):N):(D.flags|=67108866,R)):(D.flags|=1048576,R)}function v(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function _(D,R,N,q){return R===null||R.tag!==6?(R=Vo(N,D.mode,q),R.return=D,R):(R=d(R,N),R.return=D,R)}function T(D,R,N,q){var nt=N.type;return nt===S?I(D,R,N.props.children,q,N.key):R!==null&&(R.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===Z&&xf(nt)===R.type)?(R=d(R,N.props),Ra(R,N),R.return=D,R):(R=zr(N.type,N.key,N.props,null,D.mode,q),Ra(R,N),R.return=D,R)}function F(D,R,N,q){return R===null||R.tag!==4||R.stateNode.containerInfo!==N.containerInfo||R.stateNode.implementation!==N.implementation?(R=Xo(N,D.mode,q),R.return=D,R):(R=d(R,N.children||[]),R.return=D,R)}function I(D,R,N,q,nt){return R===null||R.tag!==7?(R=Dn(N,D.mode,q,nt),R.return=D,R):(R=d(R,N),R.return=D,R)}function V(D,R,N){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Vo(""+R,D.mode,N),R.return=D,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case b:return N=zr(R.type,R.key,R.props,null,D.mode,N),Ra(N,R),N.return=D,N;case A:return R=Xo(R,D.mode,N),R.return=D,R;case Z:var q=R._init;return R=q(R._payload),V(D,R,N)}if(rt(R)||ot(R))return R=Dn(R,D.mode,N,null),R.return=D,R;if(typeof R.then=="function")return V(D,el(R),N);if(R.$$typeof===O)return V(D,jr(D,R),N);il(D,R)}return null}function z(D,R,N,q){var nt=R!==null?R.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return nt!==null?null:_(D,R,""+N,q);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case b:return N.key===nt?T(D,R,N,q):null;case A:return N.key===nt?F(D,R,N,q):null;case Z:return nt=N._init,N=nt(N._payload),z(D,R,N,q)}if(rt(N)||ot(N))return nt!==null?null:I(D,R,N,q,null);if(typeof N.then=="function")return z(D,R,el(N),q);if(N.$$typeof===O)return z(D,R,jr(D,N),q);il(D,N)}return null}function U(D,R,N,q,nt){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return D=D.get(N)||null,_(R,D,""+q,nt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return D=D.get(q.key===null?N:q.key)||null,T(R,D,q,nt);case A:return D=D.get(q.key===null?N:q.key)||null,F(R,D,q,nt);case Z:var Et=q._init;return q=Et(q._payload),U(D,R,N,q,nt)}if(rt(q)||ot(q))return D=D.get(N)||null,I(R,D,q,nt,null);if(typeof q.then=="function")return U(D,R,N,el(q),nt);if(q.$$typeof===O)return U(D,R,N,jr(R,q),nt);il(R,q)}return null}function ut(D,R,N,q){for(var nt=null,Et=null,st=R,ct=R=0,me=null;st!==null&&ct<N.length;ct++){st.index>ct?(me=st,st=null):me=st.sibling;var Mt=z(D,st,N[ct],q);if(Mt===null){st===null&&(st=me);break}e&&st&&Mt.alternate===null&&n(D,st),R=g(Mt,R,ct),Et===null?nt=Mt:Et.sibling=Mt,Et=Mt,st=me}if(ct===N.length)return a(D,st),Dt&&On(D,ct),nt;if(st===null){for(;ct<N.length;ct++)st=V(D,N[ct],q),st!==null&&(R=g(st,R,ct),Et===null?nt=st:Et.sibling=st,Et=st);return Dt&&On(D,ct),nt}for(st=l(st);ct<N.length;ct++)me=U(st,D,ct,N[ct],q),me!==null&&(e&&me.alternate!==null&&st.delete(me.key===null?ct:me.key),R=g(me,R,ct),Et===null?nt=me:Et.sibling=me,Et=me);return e&&st.forEach(function(bn){return n(D,bn)}),Dt&&On(D,ct),nt}function lt(D,R,N,q){if(N==null)throw Error(s(151));for(var nt=null,Et=null,st=R,ct=R=0,me=null,Mt=N.next();st!==null&&!Mt.done;ct++,Mt=N.next()){st.index>ct?(me=st,st=null):me=st.sibling;var bn=z(D,st,Mt.value,q);if(bn===null){st===null&&(st=me);break}e&&st&&bn.alternate===null&&n(D,st),R=g(bn,R,ct),Et===null?nt=bn:Et.sibling=bn,Et=bn,st=me}if(Mt.done)return a(D,st),Dt&&On(D,ct),nt;if(st===null){for(;!Mt.done;ct++,Mt=N.next())Mt=V(D,Mt.value,q),Mt!==null&&(R=g(Mt,R,ct),Et===null?nt=Mt:Et.sibling=Mt,Et=Mt);return Dt&&On(D,ct),nt}for(st=l(st);!Mt.done;ct++,Mt=N.next())Mt=U(st,D,ct,Mt.value,q),Mt!==null&&(e&&Mt.alternate!==null&&st.delete(Mt.key===null?ct:Mt.key),R=g(Mt,R,ct),Et===null?nt=Mt:Et.sibling=Mt,Et=Mt);return e&&st.forEach(function(Nv){return n(D,Nv)}),Dt&&On(D,ct),nt}function Ht(D,R,N,q){if(typeof N=="object"&&N!==null&&N.type===S&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case b:t:{for(var nt=N.key;R!==null;){if(R.key===nt){if(nt=N.type,nt===S){if(R.tag===7){a(D,R.sibling),q=d(R,N.props.children),q.return=D,D=q;break t}}else if(R.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===Z&&xf(nt)===R.type){a(D,R.sibling),q=d(R,N.props),Ra(q,N),q.return=D,D=q;break t}a(D,R);break}else n(D,R);R=R.sibling}N.type===S?(q=Dn(N.props.children,D.mode,q,N.key),q.return=D,D=q):(q=zr(N.type,N.key,N.props,null,D.mode,q),Ra(q,N),q.return=D,D=q)}return v(D);case A:t:{for(nt=N.key;R!==null;){if(R.key===nt)if(R.tag===4&&R.stateNode.containerInfo===N.containerInfo&&R.stateNode.implementation===N.implementation){a(D,R.sibling),q=d(R,N.children||[]),q.return=D,D=q;break t}else{a(D,R);break}else n(D,R);R=R.sibling}q=Xo(N,D.mode,q),q.return=D,D=q}return v(D);case Z:return nt=N._init,N=nt(N._payload),Ht(D,R,N,q)}if(rt(N))return ut(D,R,N,q);if(ot(N)){if(nt=ot(N),typeof nt!="function")throw Error(s(150));return N=nt.call(N),lt(D,R,N,q)}if(typeof N.then=="function")return Ht(D,R,el(N),q);if(N.$$typeof===O)return Ht(D,R,jr(D,N),q);il(D,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,R!==null&&R.tag===6?(a(D,R.sibling),q=d(R,N),q.return=D,D=q):(a(D,R),q=Vo(N,D.mode,q),q.return=D,D=q),v(D)):a(D,R)}return function(D,R,N,q){try{Ca=0;var nt=Ht(D,R,N,q);return ws=null,nt}catch(st){if(st===ba||st===qr)throw st;var Et=je(29,st,null,D.mode);return Et.lanes=q,Et.return=D,Et}finally{}}}var xs=Tf(!0),Cf=Tf(!1),ii=G(null),mi=null;function nn(e){var n=e.alternate;$(le,le.current&1),$(ii,e),mi===null&&(n===null||As.current!==null||n.memoizedState!==null)&&(mi=e)}function Rf(e){if(e.tag===22){if($(le,le.current),$(ii,e),mi===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(mi=e)}}else sn()}function sn(){$(le,le.current),$(ii,ii.current)}function Ni(e){Q(ii),mi===e&&(mi=null),Q(le)}var le=G(0);function nl(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||pu(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function xc(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:m({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Tc={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=Xe(),d=Ji(l);d.payload=n,a!=null&&(d.callback=a),n=tn(e,d,l),n!==null&&(Ye(n,e,l),Aa(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=Xe(),d=Ji(l);d.tag=1,d.payload=n,a!=null&&(d.callback=a),n=tn(e,d,l),n!==null&&(Ye(n,e,l),Aa(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Xe(),l=Ji(a);l.tag=2,n!=null&&(l.callback=n),n=tn(e,l,a),n!==null&&(Ye(n,e,a),Aa(n,e,a))}};function Mf(e,n,a,l,d,g,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,g,v):n.prototype&&n.prototype.isPureReactComponent?!ua(a,l)||!ua(d,g):!0}function Df(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&Tc.enqueueReplaceState(n,n.state,null)}function Un(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=m({},a));for(var d in e)a[d]===void 0&&(a[d]=e[d])}return a}var sl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Lf(e){sl(e)}function Of(e){console.error(e)}function kf(e){sl(e)}function al(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Nf(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Cc(e,n,a){return a=Ji(a),a.tag=3,a.payload={element:null},a.callback=function(){al(e,n)},a}function Pf(e){return e=Ji(e),e.tag=3,e}function Ff(e,n,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var g=l.value;e.payload=function(){return d(g)},e.callback=function(){Nf(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Nf(n,a,l),typeof d!="function"&&(un===null?un=new Set([this]):un.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function Nb(e,n,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ga(n,a,d,!0),a=ii.current,a!==null){switch(a.tag){case 13:return mi===null?Qc():a.alternate===null&&$t===0&&($t=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===ic?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Jc(e,l,d)),!1;case 22:return a.flags|=65536,l===ic?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Jc(e,l,d)),!1}throw Error(s(435,a.tag))}return Jc(e,l,d),Qc(),!1}if(Dt)return n=ii.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,l!==$o&&(e=Error(s(422),{cause:l}),pa(Ze(e,a)))):(l!==$o&&(n=Error(s(423),{cause:l}),pa(Ze(n,a))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,l=Ze(l,a),d=Cc(e.stateNode,l,d),ac(e,d),$t!==4&&($t=2)),!1;var g=Error(s(520),{cause:l});if(g=Ze(g,a),Pa===null?Pa=[g]:Pa.push(g),$t!==4&&($t=2),n===null)return!0;l=Ze(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=d&-d,a.lanes|=e,e=Cc(a.stateNode,l,e),ac(a,e),!1;case 1:if(n=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(un===null||!un.has(g))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Pf(d),Ff(d,e,a,l),ac(a,d),!1}a=a.return}while(a!==null);return!1}var Hf=Error(s(461)),pe=!1;function ve(e,n,a,l){n.child=e===null?Cf(n,null,a,l):xs(n,e.child,a,l)}function zf(e,n,a,l,d){a=a.render;var g=n.ref;if("ref"in l){var v={};for(var _ in l)_!=="ref"&&(v[_]=l[_])}else v=l;return Fn(n),l=uc(e,n,a,v,g,d),_=hc(),e!==null&&!pe?(dc(e,n,d),Pi(e,n,d)):(Dt&&_&&Yo(n),n.flags|=1,ve(e,n,l,d),n.child)}function Uf(e,n,a,l,d){if(e===null){var g=a.type;return typeof g=="function"&&!qo(g)&&g.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=g,Bf(e,n,g,l,d)):(e=zr(a.type,null,l,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!Pc(e,d)){var v=g.memoizedProps;if(a=a.compare,a=a!==null?a:ua,a(v,l)&&e.ref===n.ref)return Pi(e,n,d)}return n.flags|=1,e=Ri(g,l),e.ref=n.ref,e.return=n,n.child=e}function Bf(e,n,a,l,d){if(e!==null){var g=e.memoizedProps;if(ua(g,l)&&e.ref===n.ref)if(pe=!1,n.pendingProps=l=g,Pc(e,d))(e.flags&131072)!==0&&(pe=!0);else return n.lanes=e.lanes,Pi(e,n,d)}return Rc(e,n,a,l,d)}function If(e,n,a){var l=n.pendingProps,d=l.children,g=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=g!==null?g.baseLanes|a:a,e!==null){for(d=n.child=e.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;n.childLanes=g&~l}else n.childLanes=0,n.child=null;return jf(e,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gr(n,g!==null?g.cachePool:null),g!==null?Ud(n,g):lc(),Rf(n);else return n.lanes=n.childLanes=536870912,jf(e,n,g!==null?g.baseLanes|a:a,a)}else g!==null?(Gr(n,g.cachePool),Ud(n,g),sn(),n.memoizedState=null):(e!==null&&Gr(n,null),lc(),sn());return ve(e,n,d,a),n.child}function jf(e,n,a,l){var d=ec();return d=d===null?null:{parent:re._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},e!==null&&Gr(n,null),lc(),Rf(n),e!==null&&ga(e,n,l,!0),null}function rl(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Rc(e,n,a,l,d){return Fn(n),a=uc(e,n,a,l,void 0,d),l=hc(),e!==null&&!pe?(dc(e,n,d),Pi(e,n,d)):(Dt&&l&&Yo(n),n.flags|=1,ve(e,n,a,d),n.child)}function Gf(e,n,a,l,d,g){return Fn(n),n.updateQueue=null,a=Id(n,l,a,d),Bd(e),l=hc(),e!==null&&!pe?(dc(e,n,g),Pi(e,n,g)):(Dt&&l&&Yo(n),n.flags|=1,ve(e,n,a,g),n.child)}function qf(e,n,a,l,d){if(Fn(n),n.stateNode===null){var g=gs,v=a.contextType;typeof v=="object"&&v!==null&&(g=we(v)),g=new a(l,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Tc,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=l,g.state=n.memoizedState,g.refs={},nc(n),v=a.contextType,g.context=typeof v=="object"&&v!==null?we(v):gs,g.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(xc(n,a,v,l),g.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(v=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),v!==g.state&&Tc.enqueueReplaceState(g,g.state,null),_a(n,l,g,d),Sa(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){g=n.stateNode;var _=n.memoizedProps,T=Un(a,_);g.props=T;var F=g.context,I=a.contextType;v=gs,typeof I=="object"&&I!==null&&(v=we(I));var V=a.getDerivedStateFromProps;I=typeof V=="function"||typeof g.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,I||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_||F!==v)&&Df(n,g,l,v),Zi=!1;var z=n.memoizedState;g.state=z,_a(n,l,g,d),Sa(),F=n.memoizedState,_||z!==F||Zi?(typeof V=="function"&&(xc(n,a,V,l),F=n.memoizedState),(T=Zi||Mf(n,a,T,l,z,F,v))?(I||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=F),g.props=l,g.state=F,g.context=v,l=T):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{g=n.stateNode,sc(e,n),v=n.memoizedProps,I=Un(a,v),g.props=I,V=n.pendingProps,z=g.context,F=a.contextType,T=gs,typeof F=="object"&&F!==null&&(T=we(F)),_=a.getDerivedStateFromProps,(F=typeof _=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v!==V||z!==T)&&Df(n,g,l,T),Zi=!1,z=n.memoizedState,g.state=z,_a(n,l,g,d),Sa();var U=n.memoizedState;v!==V||z!==U||Zi||e!==null&&e.dependencies!==null&&Ir(e.dependencies)?(typeof _=="function"&&(xc(n,a,_,l),U=n.memoizedState),(I=Zi||Mf(n,a,I,l,z,U,T)||e!==null&&e.dependencies!==null&&Ir(e.dependencies))?(F||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,U,T),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,U,T)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=U),g.props=l,g.state=U,g.context=T,l=I):(typeof g.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),l=!1)}return g=l,rl(e,n),l=(n.flags&128)!==0,g||l?(g=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,e!==null&&l?(n.child=xs(n,e.child,null,d),n.child=xs(n,null,a,d)):ve(e,n,a,d),n.memoizedState=g.state,e=n.child):e=Pi(e,n,d),e}function Vf(e,n,a,l){return fa(),n.flags|=256,ve(e,n,a,l),n.child}var Mc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dc(e){return{baseLanes:e,cachePool:Ld()}}function Lc(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=ni),e}function Xf(e,n,a){var l=n.pendingProps,d=!1,g=(n.flags&128)!==0,v;if((v=g)||(v=e!==null&&e.memoizedState===null?!1:(le.current&2)!==0),v&&(d=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Dt){if(d?nn(n):sn(),Dt){var _=Kt,T;if(T=_){t:{for(T=_,_=gi;T.nodeType!==8;){if(!_){_=null;break t}if(T=hi(T.nextSibling),T===null){_=null;break t}}_=T}_!==null?(n.memoizedState={dehydrated:_,treeContext:Ln!==null?{id:Mi,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},T=je(18,null,null,0),T.stateNode=_,T.return=n,n.child=T,De=n,Kt=null,T=!0):T=!1}T||Nn(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return pu(_)?n.lanes=32:n.lanes=536870912,null;Ni(n)}return _=l.children,l=l.fallback,d?(sn(),d=n.mode,_=ll({mode:"hidden",children:_},d),l=Dn(l,d,a,null),_.return=n,l.return=n,_.sibling=l,n.child=_,d=n.child,d.memoizedState=Dc(a),d.childLanes=Lc(e,v,a),n.memoizedState=Mc,l):(nn(n),Oc(n,_))}if(T=e.memoizedState,T!==null&&(_=T.dehydrated,_!==null)){if(g)n.flags&256?(nn(n),n.flags&=-257,n=kc(e,n,a)):n.memoizedState!==null?(sn(),n.child=e.child,n.flags|=128,n=null):(sn(),d=l.fallback,_=n.mode,l=ll({mode:"visible",children:l.children},_),d=Dn(d,_,a,null),d.flags|=2,l.return=n,d.return=n,l.sibling=d,n.child=l,xs(n,e.child,null,a),l=n.child,l.memoizedState=Dc(a),l.childLanes=Lc(e,v,a),n.memoizedState=Mc,n=d);else if(nn(n),pu(_)){if(v=_.nextSibling&&_.nextSibling.dataset,v)var F=v.dgst;v=F,l=Error(s(419)),l.stack="",l.digest=v,pa({value:l,source:null,stack:null}),n=kc(e,n,a)}else if(pe||ga(e,n,a,!1),v=(a&e.childLanes)!==0,pe||v){if(v=Bt,v!==null&&(l=a&-a,l=(l&42)!==0?1:go(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==T.retryLane))throw T.retryLane=l,ps(e,l),Ye(v,e,l),Hf;_.data==="$?"||Qc(),n=kc(e,n,a)}else _.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=T.treeContext,Kt=hi(_.nextSibling),De=n,Dt=!0,kn=null,gi=!1,e!==null&&(ti[ei++]=Mi,ti[ei++]=Di,ti[ei++]=Ln,Mi=e.id,Di=e.overflow,Ln=n),n=Oc(n,l.children),n.flags|=4096);return n}return d?(sn(),d=l.fallback,_=n.mode,T=e.child,F=T.sibling,l=Ri(T,{mode:"hidden",children:l.children}),l.subtreeFlags=T.subtreeFlags&65011712,F!==null?d=Ri(F,d):(d=Dn(d,_,a,null),d.flags|=2),d.return=n,l.return=n,l.sibling=d,n.child=l,l=d,d=n.child,_=e.child.memoizedState,_===null?_=Dc(a):(T=_.cachePool,T!==null?(F=re._currentValue,T=T.parent!==F?{parent:F,pool:F}:T):T=Ld(),_={baseLanes:_.baseLanes|a,cachePool:T}),d.memoizedState=_,d.childLanes=Lc(e,v,a),n.memoizedState=Mc,l):(nn(n),a=e.child,e=a.sibling,a=Ri(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=a,n.memoizedState=null,a)}function Oc(e,n){return n=ll({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ll(e,n){return e=je(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function kc(e,n,a){return xs(n,e.child,null,a),e=Oc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Yf(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Qo(e.return,n,a)}function Nc(e,n,a,l,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=d)}function Kf(e,n,a){var l=n.pendingProps,d=l.revealOrder,g=l.tail;if(ve(e,n,l.children,a),l=le.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yf(e,a,n);else if(e.tag===19)Yf(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch($(le,l),d){case"forwards":for(a=n.child,d=null;a!==null;)e=a.alternate,e!==null&&nl(e)===null&&(d=a),a=a.sibling;a=d,a===null?(d=n.child,n.child=null):(d=a.sibling,a.sibling=null),Nc(n,!1,d,a,g);break;case"backwards":for(a=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&nl(e)===null){n.child=d;break}e=d.sibling,d.sibling=a,a=d,d=e}Nc(n,!0,a,null,g);break;case"together":Nc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Pi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),cn|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ga(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Ri(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Ri(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Pc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ir(e)))}function Pb(e,n,a){switch(n.tag){case 3:Tt(n,n.stateNode.containerInfo),Qi(n,re,e.memoizedState.cache),fa();break;case 27:case 5:Nt(n);break;case 4:Tt(n,n.stateNode.containerInfo);break;case 10:Qi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(nn(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Xf(e,n,a):(nn(n),e=Pi(e,n,a),e!==null?e.sibling:null);nn(n);break;case 19:var d=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ga(e,n,a,!1),l=(a&n.childLanes)!==0),d){if(l)return Kf(e,n,a);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),$(le,le.current),l)break;return null;case 22:case 23:return n.lanes=0,If(e,n,a);case 24:Qi(n,re,e.memoizedState.cache)}return Pi(e,n,a)}function $f(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)pe=!0;else{if(!Pc(e,a)&&(n.flags&128)===0)return pe=!1,Pb(e,n,a);pe=(e.flags&131072)!==0}else pe=!1,Dt&&(n.flags&1048576)!==0&&wd(n,Br,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var l=n.elementType,d=l._init;if(l=d(l._payload),n.type=l,typeof l=="function")qo(l)?(e=Un(l,e),n.tag=1,n=qf(null,n,l,e,a)):(n.tag=0,n=Rc(null,n,l,e,a));else{if(l!=null){if(d=l.$$typeof,d===k){n.tag=11,n=zf(null,n,l,e,a);break t}else if(d===X){n.tag=14,n=Uf(null,n,l,e,a);break t}}throw n=ht(l)||l,Error(s(306,n,""))}}return n;case 0:return Rc(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,d=Un(l,n.pendingProps),qf(e,n,l,d,a);case 3:t:{if(Tt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var g=n.memoizedState;d=g.element,sc(e,n),_a(n,l,null,a);var v=n.memoizedState;if(l=v.cache,Qi(n,re,l),l!==g.cache&&Zo(n,[re],a,!0),Sa(),l=v.element,g.isDehydrated)if(g={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=Vf(e,n,l,a);break t}else if(l!==d){d=Ze(Error(s(424)),n),pa(d),n=Vf(e,n,l,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Kt=hi(e.firstChild),De=n,Dt=!0,kn=null,gi=!0,a=Cf(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(fa(),l===d){n=Pi(e,n,a);break t}ve(e,n,l,a)}n=n.child}return n;case 26:return rl(e,n),e===null?(a=Jp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Dt||(a=n.type,e=n.pendingProps,l=Sl(it.current).createElement(a),l[Ee]=n,l[ke]=e,Se(l,a,e),fe(l),n.stateNode=l):n.memoizedState=Jp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Nt(n),e===null&&Dt&&(l=n.stateNode=Wp(n.type,n.pendingProps,it.current),De=n,gi=!0,d=Kt,fn(n.type)?(gu=d,Kt=hi(l.firstChild)):Kt=d),ve(e,n,n.pendingProps.children,a),rl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Dt&&((d=l=Kt)&&(l=cv(l,n.type,n.pendingProps,gi),l!==null?(n.stateNode=l,De=n,Kt=hi(l.firstChild),gi=!1,d=!0):d=!1),d||Nn(n)),Nt(n),d=n.type,g=n.pendingProps,v=e!==null?e.memoizedProps:null,l=g.children,hu(d,g)?l=null:v!==null&&hu(d,v)&&(n.flags|=32),n.memoizedState!==null&&(d=uc(e,n,Cb,null,null,a),qa._currentValue=d),rl(e,n),ve(e,n,l,a),n.child;case 6:return e===null&&Dt&&((e=a=Kt)&&(a=uv(a,n.pendingProps,gi),a!==null?(n.stateNode=a,De=n,Kt=null,e=!0):e=!1),e||Nn(n)),null;case 13:return Xf(e,n,a);case 4:return Tt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=xs(n,null,l,a):ve(e,n,l,a),n.child;case 11:return zf(e,n,n.type,n.pendingProps,a);case 7:return ve(e,n,n.pendingProps,a),n.child;case 8:return ve(e,n,n.pendingProps.children,a),n.child;case 12:return ve(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Qi(n,n.type,l.value),ve(e,n,l.children,a),n.child;case 9:return d=n.type._context,l=n.pendingProps.children,Fn(n),d=we(d),l=l(d),n.flags|=1,ve(e,n,l,a),n.child;case 14:return Uf(e,n,n.type,n.pendingProps,a);case 15:return Bf(e,n,n.type,n.pendingProps,a);case 19:return Kf(e,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},e===null?(a=ll(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Ri(e.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return If(e,n,a);case 24:return Fn(n),l=we(re),e===null?(d=ec(),d===null&&(d=Bt,g=Jo(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=a),d=g),n.memoizedState={parent:l,cache:d},nc(n),Qi(n,re,d)):((e.lanes&a)!==0&&(sc(e,n),_a(n,null,null,a),Sa()),d=e.memoizedState,g=n.memoizedState,d.parent!==l?(d={parent:l,cache:l},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Qi(n,re,l)):(l=g.cache,Qi(n,re,l),l!==d.cache&&Zo(n,[re],a,!0))),ve(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Fi(e){e.flags|=4}function Wf(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!sg(n)){if(n=ii.current,n!==null&&((Rt&4194048)===Rt?mi!==null:(Rt&62914560)!==Rt&&(Rt&536870912)===0||n!==mi))throw va=ic,Od;e.flags|=8192}}function ol(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ch():536870912,e.lanes|=n,Ms|=n)}function Ma(e,n){if(!Dt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Vt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var d=e.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function Fb(e,n,a){var l=n.pendingProps;switch(Ko(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(n),null;case 1:return Vt(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Oi(re),te(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(da(n)?Fi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Cd())),Vt(n),null;case 26:return a=n.memoizedState,e===null?(Fi(n),a!==null?(Vt(n),Wf(n,a)):(Vt(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Fi(n),Vt(n),Wf(n,a)):(Vt(n),n.flags&=-16777217):(e.memoizedProps!==l&&Fi(n),Vt(n),n.flags&=-16777217),null;case 27:pi(n),a=it.current;var d=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Fi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Vt(n),null}e=et.current,da(n)?xd(n):(e=Wp(d,l,a),n.stateNode=e,Fi(n))}return Vt(n),null;case 5:if(pi(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Fi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Vt(n),null}if(e=et.current,da(n))xd(n);else{switch(d=Sl(it.current),e){case 1:e=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}e[Ee]=n,e[ke]=l;t:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)e.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break t;for(;d.sibling===null;){if(d.return===null||d.return===n)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=e;t:switch(Se(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Fi(n)}}return Vt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Fi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=it.current,da(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,d=De,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Gp(e.nodeValue,a)),e||Nn(n)}else e=Sl(e).createTextNode(l),e[Ee]=n,n.stateNode=e}return Vt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=da(n),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Ee]=n}else fa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Vt(n),d=!1}else d=Cd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Ni(n),n):(Ni(n),null)}if(Ni(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=n.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var g=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==d&&(l.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),ol(n,n.updateQueue),Vt(n),null;case 4:return te(),e===null&&ru(n.stateNode.containerInfo),Vt(n),null;case 10:return Oi(n.type),Vt(n),null;case 19:if(Q(le),d=n.memoizedState,d===null)return Vt(n),null;if(l=(n.flags&128)!==0,g=d.rendering,g===null)if(l)Ma(d,!1);else{if($t!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=nl(e),g!==null){for(n.flags|=128,Ma(d,!1),e=g.updateQueue,n.updateQueue=e,ol(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Ed(a,e),a=a.sibling;return $(le,le.current&1|2),n.child}e=e.sibling}d.tail!==null&&be()>hl&&(n.flags|=128,l=!0,Ma(d,!1),n.lanes=4194304)}else{if(!l)if(e=nl(g),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,ol(n,e),Ma(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Dt)return Vt(n),null}else 2*be()-d.renderingStartTime>hl&&a!==536870912&&(n.flags|=128,l=!0,Ma(d,!1),n.lanes=4194304);d.isBackwards?(g.sibling=n.child,n.child=g):(e=d.last,e!==null?e.sibling=g:n.child=g,d.last=g)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=be(),n.sibling=null,e=le.current,$(le,l?e&1|2:e&1),n):(Vt(n),null);case 22:case 23:return Ni(n),oc(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Vt(n),n.subtreeFlags&6&&(n.flags|=8192)):Vt(n),a=n.updateQueue,a!==null&&ol(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&Q(Hn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Oi(re),Vt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Hb(e,n){switch(Ko(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Oi(re),te(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return pi(n),null;case 13:if(Ni(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));fa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(le),null;case 4:return te(),null;case 10:return Oi(n.type),null;case 22:case 23:return Ni(n),oc(),e!==null&&Q(Hn),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Oi(re),null;case 25:return null;default:return null}}function Qf(e,n){switch(Ko(n),n.tag){case 3:Oi(re),te();break;case 26:case 27:case 5:pi(n);break;case 4:te();break;case 13:Ni(n);break;case 19:Q(le);break;case 10:Oi(n.type);break;case 22:case 23:Ni(n),oc(),e!==null&&Q(Hn);break;case 24:Oi(re)}}function Da(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&e)===e){l=void 0;var g=a.create,v=a.inst;l=g(),v.destroy=l}a=a.next}while(a!==d)}}catch(_){zt(n,n.return,_)}}function an(e,n,a){try{var l=n.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var g=d.next;l=g;do{if((l.tag&e)===e){var v=l.inst,_=v.destroy;if(_!==void 0){v.destroy=void 0,d=n;var T=a,F=_;try{F()}catch(I){zt(d,T,I)}}}l=l.next}while(l!==g)}}catch(I){zt(n,n.return,I)}}function Zf(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{zd(n,a)}catch(l){zt(e,e.return,l)}}}function Jf(e,n,a){a.props=Un(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){zt(e,n,l)}}function La(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(d){zt(e,n,d)}}function yi(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){zt(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){zt(e,n,d)}else a.current=null}function tp(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){zt(e,e.return,d)}}function Fc(e,n,a){try{var l=e.stateNode;sv(l,e.type,a,n),l[ke]=n}catch(d){zt(e,e.return,d)}}function ep(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fn(e.type)||e.tag===4}function Hc(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ep(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fn(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zc(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Al));else if(l!==4&&(l===27&&fn(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(zc(e,n,a),e=e.sibling;e!==null;)zc(e,n,a),e=e.sibling}function cl(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&fn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(cl(e,n,a),e=e.sibling;e!==null;)cl(e,n,a),e=e.sibling}function ip(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);Se(n,l,a),n[Ee]=e,n[ke]=a}catch(g){zt(e,e.return,g)}}var Hi=!1,Qt=!1,Uc=!1,np=typeof WeakSet=="function"?WeakSet:Set,ge=null;function zb(e,n){if(e=e.containerInfo,cu=Cl,e=fd(e),Ho(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,g=l.focusNode;l=l.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break t}var v=0,_=-1,T=-1,F=0,I=0,V=e,z=null;e:for(;;){for(var U;V!==a||d!==0&&V.nodeType!==3||(_=v+d),V!==g||l!==0&&V.nodeType!==3||(T=v+l),V.nodeType===3&&(v+=V.nodeValue.length),(U=V.firstChild)!==null;)z=V,V=U;for(;;){if(V===e)break e;if(z===a&&++F===d&&(_=v),z===g&&++I===l&&(T=v),(U=V.nextSibling)!==null)break;V=z,z=V.parentNode}V=U}a=_===-1||T===-1?null:{start:_,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(uu={focusedElem:e,selectionRange:a},Cl=!1,ge=n;ge!==null;)if(n=ge,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,ge=e;else for(;ge!==null;){switch(n=ge,g=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,a=n,d=g.memoizedProps,g=g.memoizedState,l=a.stateNode;try{var ut=Un(a.type,d,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(ut,g),l.__reactInternalSnapshotBeforeUpdate=e}catch(lt){zt(a,a.return,lt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)fu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,ge=e;break}ge=n.return}}function sp(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:rn(e,a),l&4&&Da(5,a);break;case 1:if(rn(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(v){zt(a,a.return,v)}else{var d=Un(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){zt(a,a.return,v)}}l&64&&Zf(a),l&512&&La(a,a.return);break;case 3:if(rn(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{zd(e,n)}catch(v){zt(a,a.return,v)}}break;case 27:n===null&&l&4&&ip(a);case 26:case 5:rn(e,a),n===null&&l&4&&tp(a),l&512&&La(a,a.return);break;case 12:rn(e,a);break;case 13:rn(e,a),l&4&&lp(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Yb.bind(null,a),hv(e,a))));break;case 22:if(l=a.memoizedState!==null||Hi,!l){n=n!==null&&n.memoizedState!==null||Qt,d=Hi;var g=Qt;Hi=l,(Qt=n)&&!g?ln(e,a,(a.subtreeFlags&8772)!==0):rn(e,a),Hi=d,Qt=g}break;case 30:break;default:rn(e,a)}}function ap(e){var n=e.alternate;n!==null&&(e.alternate=null,ap(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&bo(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Gt=null,Fe=!1;function zi(e,n,a){for(a=a.child;a!==null;)rp(e,n,a),a=a.sibling}function rp(e,n,a){if(ie&&typeof ie.onCommitFiberUnmount=="function")try{ie.onCommitFiberUnmount(wn,a)}catch{}switch(a.tag){case 26:Qt||yi(a,n),zi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Qt||yi(a,n);var l=Gt,d=Fe;fn(a.type)&&(Gt=a.stateNode,Fe=!1),zi(e,n,a),Ba(a.stateNode),Gt=l,Fe=d;break;case 5:Qt||yi(a,n);case 6:if(l=Gt,d=Fe,Gt=null,zi(e,n,a),Gt=l,Fe=d,Gt!==null)if(Fe)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(a.stateNode)}catch(g){zt(a,n,g)}else try{Gt.removeChild(a.stateNode)}catch(g){zt(a,n,g)}break;case 18:Gt!==null&&(Fe?(e=Gt,Kp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ka(e)):Kp(Gt,a.stateNode));break;case 4:l=Gt,d=Fe,Gt=a.stateNode.containerInfo,Fe=!0,zi(e,n,a),Gt=l,Fe=d;break;case 0:case 11:case 14:case 15:Qt||an(2,a,n),Qt||an(4,a,n),zi(e,n,a);break;case 1:Qt||(yi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Jf(a,n,l)),zi(e,n,a);break;case 21:zi(e,n,a);break;case 22:Qt=(l=Qt)||a.memoizedState!==null,zi(e,n,a),Qt=l;break;default:zi(e,n,a)}}function lp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ka(e)}catch(a){zt(n,n.return,a)}}function Ub(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new np),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new np),n;default:throw Error(s(435,e.tag))}}function Bc(e,n){var a=Ub(e);n.forEach(function(l){var d=Kb.bind(null,e,l);a.has(l)||(a.add(l),l.then(d,d))})}function Ge(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],g=e,v=n,_=v;t:for(;_!==null;){switch(_.tag){case 27:if(fn(_.type)){Gt=_.stateNode,Fe=!1;break t}break;case 5:Gt=_.stateNode,Fe=!1;break t;case 3:case 4:Gt=_.stateNode.containerInfo,Fe=!0;break t}_=_.return}if(Gt===null)throw Error(s(160));rp(g,v,d),Gt=null,Fe=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)op(n,e),n=n.sibling}var ui=null;function op(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ge(n,e),qe(e),l&4&&(an(3,e,e.return),Da(3,e),an(5,e,e.return));break;case 1:Ge(n,e),qe(e),l&512&&(Qt||a===null||yi(a,a.return)),l&64&&Hi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=ui;if(Ge(n,e),qe(e),l&512&&(Qt||a===null||yi(a,a.return)),l&4){var g=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,d=d.ownerDocument||d;e:switch(l){case"title":g=d.getElementsByTagName("title")[0],(!g||g[ea]||g[Ee]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(l),d.head.insertBefore(g,d.querySelector("head > title"))),Se(g,l,a),g[Ee]=e,fe(g),l=g;break t;case"link":var v=ig("link","href",d).get(l+(a.href||""));if(v){for(var _=0;_<v.length;_++)if(g=v[_],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(_,1);break e}}g=d.createElement(l),Se(g,l,a),d.head.appendChild(g);break;case"meta":if(v=ig("meta","content",d).get(l+(a.content||""))){for(_=0;_<v.length;_++)if(g=v[_],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(_,1);break e}}g=d.createElement(l),Se(g,l,a),d.head.appendChild(g);break;default:throw Error(s(468,l))}g[Ee]=e,fe(g),l=g}e.stateNode=l}else ng(d,e.type,e.stateNode);else e.stateNode=eg(d,l,e.memoizedProps);else g!==l?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,l===null?ng(d,e.type,e.stateNode):eg(d,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Fc(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ge(n,e),qe(e),l&512&&(Qt||a===null||yi(a,a.return)),a!==null&&l&4&&Fc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ge(n,e),qe(e),l&512&&(Qt||a===null||yi(a,a.return)),e.flags&32){d=e.stateNode;try{ls(d,"")}catch(U){zt(e,e.return,U)}}l&4&&e.stateNode!=null&&(d=e.memoizedProps,Fc(e,d,a!==null?a.memoizedProps:d)),l&1024&&(Uc=!0);break;case 6:if(Ge(n,e),qe(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(U){zt(e,e.return,U)}}break;case 3:if(wl=null,d=ui,ui=_l(n.containerInfo),Ge(n,e),ui=d,qe(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ka(n.containerInfo)}catch(U){zt(e,e.return,U)}Uc&&(Uc=!1,cp(e));break;case 4:l=ui,ui=_l(e.stateNode.containerInfo),Ge(n,e),qe(e),ui=l;break;case 12:Ge(n,e),qe(e);break;case 13:Ge(n,e),qe(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Xc=be()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Bc(e,l)));break;case 22:d=e.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,F=Hi,I=Qt;if(Hi=F||d,Qt=I||T,Ge(n,e),Qt=I,Hi=F,qe(e),l&8192)t:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(a===null||T||Hi||Qt||Bn(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){T=a=n;try{if(g=T.stateNode,d)v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{_=T.stateNode;var V=T.memoizedProps.style,z=V!=null&&V.hasOwnProperty("display")?V.display:null;_.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(U){zt(T,T.return,U)}}}else if(n.tag===6){if(a===null){T=n;try{T.stateNode.nodeValue=d?"":T.memoizedProps}catch(U){zt(T,T.return,U)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bc(e,a))));break;case 19:Ge(n,e),qe(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Bc(e,l)));break;case 30:break;case 21:break;default:Ge(n,e),qe(e)}}function qe(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(ep(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,g=Hc(e);cl(e,g,d);break;case 5:var v=a.stateNode;a.flags&32&&(ls(v,""),a.flags&=-33);var _=Hc(e);cl(e,_,v);break;case 3:case 4:var T=a.stateNode.containerInfo,F=Hc(e);zc(e,F,T);break;default:throw Error(s(161))}}catch(I){zt(e,e.return,I)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function cp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;cp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function rn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)sp(e,n.alternate,n),n=n.sibling}function Bn(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:an(4,n,n.return),Bn(n);break;case 1:yi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Jf(n,n.return,a),Bn(n);break;case 27:Ba(n.stateNode);case 26:case 5:yi(n,n.return),Bn(n);break;case 22:n.memoizedState===null&&Bn(n);break;case 30:Bn(n);break;default:Bn(n)}e=e.sibling}}function ln(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,d=e,g=n,v=g.flags;switch(g.tag){case 0:case 11:case 15:ln(d,g,a),Da(4,g);break;case 1:if(ln(d,g,a),l=g,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){zt(l,l.return,F)}if(l=g,d=l.updateQueue,d!==null){var _=l.stateNode;try{var T=d.shared.hiddenCallbacks;if(T!==null)for(d.shared.hiddenCallbacks=null,d=0;d<T.length;d++)Hd(T[d],_)}catch(F){zt(l,l.return,F)}}a&&v&64&&Zf(g),La(g,g.return);break;case 27:ip(g);case 26:case 5:ln(d,g,a),a&&l===null&&v&4&&tp(g),La(g,g.return);break;case 12:ln(d,g,a);break;case 13:ln(d,g,a),a&&v&4&&lp(d,g);break;case 22:g.memoizedState===null&&ln(d,g,a),La(g,g.return);break;case 30:break;default:ln(d,g,a)}n=n.sibling}}function Ic(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ma(a))}function jc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ma(e))}function bi(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)up(e,n,a,l),n=n.sibling}function up(e,n,a,l){var d=n.flags;switch(n.tag){case 0:case 11:case 15:bi(e,n,a,l),d&2048&&Da(9,n);break;case 1:bi(e,n,a,l);break;case 3:bi(e,n,a,l),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ma(e)));break;case 12:if(d&2048){bi(e,n,a,l),e=n.stateNode;try{var g=n.memoizedProps,v=g.id,_=g.onPostCommit;typeof _=="function"&&_(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){zt(n,n.return,T)}}else bi(e,n,a,l);break;case 13:bi(e,n,a,l);break;case 23:break;case 22:g=n.stateNode,v=n.alternate,n.memoizedState!==null?g._visibility&2?bi(e,n,a,l):Oa(e,n):g._visibility&2?bi(e,n,a,l):(g._visibility|=2,Ts(e,n,a,l,(n.subtreeFlags&10256)!==0)),d&2048&&Ic(v,n);break;case 24:bi(e,n,a,l),d&2048&&jc(n.alternate,n);break;default:bi(e,n,a,l)}}function Ts(e,n,a,l,d){for(d=d&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var g=e,v=n,_=a,T=l,F=v.flags;switch(v.tag){case 0:case 11:case 15:Ts(g,v,_,T,d),Da(8,v);break;case 23:break;case 22:var I=v.stateNode;v.memoizedState!==null?I._visibility&2?Ts(g,v,_,T,d):Oa(g,v):(I._visibility|=2,Ts(g,v,_,T,d)),d&&F&2048&&Ic(v.alternate,v);break;case 24:Ts(g,v,_,T,d),d&&F&2048&&jc(v.alternate,v);break;default:Ts(g,v,_,T,d)}n=n.sibling}}function Oa(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,d=l.flags;switch(l.tag){case 22:Oa(a,l),d&2048&&Ic(l.alternate,l);break;case 24:Oa(a,l),d&2048&&jc(l.alternate,l);break;default:Oa(a,l)}n=n.sibling}}var ka=8192;function Cs(e){if(e.subtreeFlags&ka)for(e=e.child;e!==null;)hp(e),e=e.sibling}function hp(e){switch(e.tag){case 26:Cs(e),e.flags&ka&&e.memoizedState!==null&&wv(ui,e.memoizedState,e.memoizedProps);break;case 5:Cs(e);break;case 3:case 4:var n=ui;ui=_l(e.stateNode.containerInfo),Cs(e),ui=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=ka,ka=16777216,Cs(e),ka=n):Cs(e));break;default:Cs(e)}}function dp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Na(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ge=l,pp(l,e)}dp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fp(e),e=e.sibling}function fp(e){switch(e.tag){case 0:case 11:case 15:Na(e),e.flags&2048&&an(9,e,e.return);break;case 3:Na(e);break;case 12:Na(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ul(e)):Na(e);break;default:Na(e)}}function ul(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ge=l,pp(l,e)}dp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:an(8,n,n.return),ul(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ul(n));break;default:ul(n)}e=e.sibling}}function pp(e,n){for(;ge!==null;){var a=ge;switch(a.tag){case 0:case 11:case 15:an(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ma(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ge=l;else t:for(a=e;ge!==null;){l=ge;var d=l.sibling,g=l.return;if(ap(l),l===a){ge=null;break t}if(d!==null){d.return=g,ge=d;break t}ge=g}}}var Bb={getCacheForType:function(e){var n=we(re),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},Ib=typeof WeakMap=="function"?WeakMap:Map,Ot=0,Bt=null,wt=null,Rt=0,kt=0,Ve=null,on=!1,Rs=!1,Gc=!1,Ui=0,$t=0,cn=0,In=0,qc=0,ni=0,Ms=0,Pa=null,He=null,Vc=!1,Xc=0,hl=1/0,dl=null,un=null,Ae=0,hn=null,Ds=null,Ls=0,Yc=0,Kc=null,gp=null,Fa=0,$c=null;function Xe(){if((Ot&2)!==0&&Rt!==0)return Rt&-Rt;if(P.T!==null){var e=bs;return e!==0?e:iu()}return Dh()}function mp(){ni===0&&(ni=(Rt&536870912)===0||Dt?Th():536870912);var e=ii.current;return e!==null&&(e.flags|=32),ni}function Ye(e,n,a){(e===Bt&&(kt===2||kt===9)||e.cancelPendingCommit!==null)&&(Os(e,0),dn(e,Rt,ni,!1)),ta(e,a),((Ot&2)===0||e!==Bt)&&(e===Bt&&((Ot&2)===0&&(In|=a),$t===4&&dn(e,Rt,ni,!1)),vi(e))}function yp(e,n,a){if((Ot&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&e.expiredLanes)===0||Js(e,n),d=l?qb(e,n):Zc(e,n,!0),g=l;do{if(d===0){Rs&&!l&&dn(e,n,0,!1);break}else{if(a=e.current.alternate,g&&!jb(a)){d=Zc(e,n,!1),g=!1;continue}if(d===2){if(g=n,e.errorRecoveryDisabledLanes&g)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var _=e;d=Pa;var T=_.current.memoizedState.isDehydrated;if(T&&(Os(_,v).flags|=256),v=Zc(_,v,!1),v!==2){if(Gc&&!T){_.errorRecoveryDisabledLanes|=g,In|=g,d=4;break t}g=He,He=d,g!==null&&(He===null?He=g:He.push.apply(He,g))}d=v}if(g=!1,d!==2)continue}}if(d===1){Os(e,0),dn(e,n,0,!0);break}t:{switch(l=e,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:dn(l,n,ni,!on);break t;case 2:He=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(d=Xc+300-be(),10<d)){if(dn(l,n,ni,!on),Er(l,0,!0)!==0)break t;l.timeoutHandle=Xp(bp.bind(null,l,a,He,dl,Vc,n,ni,In,Ms,on,g,2,-0,0),d);break t}bp(l,a,He,dl,Vc,n,ni,In,Ms,on,g,0,-0,0)}}break}while(!0);vi(e)}function bp(e,n,a,l,d,g,v,_,T,F,I,V,z,U){if(e.timeoutHandle=-1,V=n.subtreeFlags,(V&8192||(V&16785408)===16785408)&&(Ga={stylesheets:null,count:0,unsuspend:Ev},hp(n),V=xv(),V!==null)){e.cancelPendingCommit=V(xp.bind(null,e,n,g,a,l,d,v,_,T,I,1,z,U)),dn(e,g,v,!F);return}xp(e,n,g,a,l,d,v,_,T)}function jb(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],g=d.getSnapshot;d=d.value;try{if(!Ie(g(),d))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function dn(e,n,a,l){n&=~qc,n&=~In,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var d=n;0<d;){var g=31-de(d),v=1<<g;l[g]=-1,d&=~v}a!==0&&Rh(e,a,n)}function fl(){return(Ot&6)===0?(Ha(0),!1):!0}function Wc(){if(wt!==null){if(kt===0)var e=wt.return;else e=wt,Li=Pn=null,fc(e),ws=null,Ca=0,e=wt;for(;e!==null;)Qf(e.alternate,e),e=e.return;wt=null}}function Os(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,rv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Wc(),Bt=e,wt=a=Ri(e.current,null),Rt=n,kt=0,Ve=null,on=!1,Rs=Js(e,n),Gc=!1,Ms=ni=qc=In=cn=$t=0,He=Pa=null,Vc=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var d=31-de(l),g=1<<d;n|=e[d],l&=~g}return Ui=n,Pr(),a}function vp(e,n){St=null,P.H=tl,n===ba||n===qr?(n=Pd(),kt=3):n===Od?(n=Pd(),kt=4):kt=n===Hf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ve=n,wt===null&&($t=1,al(e,Ze(n,e.current)))}function Ap(){var e=P.H;return P.H=tl,e===null?tl:e}function Sp(){var e=P.A;return P.A=Bb,e}function Qc(){$t=4,on||(Rt&4194048)!==Rt&&ii.current!==null||(Rs=!0),(cn&134217727)===0&&(In&134217727)===0||Bt===null||dn(Bt,Rt,ni,!1)}function Zc(e,n,a){var l=Ot;Ot|=2;var d=Ap(),g=Sp();(Bt!==e||Rt!==n)&&(dl=null,Os(e,n)),n=!1;var v=$t;t:do try{if(kt!==0&&wt!==null){var _=wt,T=Ve;switch(kt){case 8:Wc(),v=6;break t;case 3:case 2:case 9:case 6:ii.current===null&&(n=!0);var F=kt;if(kt=0,Ve=null,ks(e,_,T,F),a&&Rs){v=0;break t}break;default:F=kt,kt=0,Ve=null,ks(e,_,T,F)}}Gb(),v=$t;break}catch(I){vp(e,I)}while(!0);return n&&e.shellSuspendCounter++,Li=Pn=null,Ot=l,P.H=d,P.A=g,wt===null&&(Bt=null,Rt=0,Pr()),v}function Gb(){for(;wt!==null;)_p(wt)}function qb(e,n){var a=Ot;Ot|=2;var l=Ap(),d=Sp();Bt!==e||Rt!==n?(dl=null,hl=be()+500,Os(e,n)):Rs=Js(e,n);t:do try{if(kt!==0&&wt!==null){n=wt;var g=Ve;e:switch(kt){case 1:kt=0,Ve=null,ks(e,n,g,1);break;case 2:case 9:if(kd(g)){kt=0,Ve=null,Ep(n);break}n=function(){kt!==2&&kt!==9||Bt!==e||(kt=7),vi(e)},g.then(n,n);break t;case 3:kt=7;break t;case 4:kt=5;break t;case 7:kd(g)?(kt=0,Ve=null,Ep(n)):(kt=0,Ve=null,ks(e,n,g,7));break;case 5:var v=null;switch(wt.tag){case 26:v=wt.memoizedState;case 5:case 27:var _=wt;if(!v||sg(v)){kt=0,Ve=null;var T=_.sibling;if(T!==null)wt=T;else{var F=_.return;F!==null?(wt=F,pl(F)):wt=null}break e}}kt=0,Ve=null,ks(e,n,g,5);break;case 6:kt=0,Ve=null,ks(e,n,g,6);break;case 8:Wc(),$t=6;break t;default:throw Error(s(462))}}Vb();break}catch(I){vp(e,I)}while(!0);return Li=Pn=null,P.H=l,P.A=d,Ot=a,wt!==null?0:(Bt=null,Rt=0,Pr(),$t)}function Vb(){for(;wt!==null&&!he();)_p(wt)}function _p(e){var n=$f(e.alternate,e,Ui);e.memoizedProps=e.pendingProps,n===null?pl(e):wt=n}function Ep(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Gf(a,n,n.pendingProps,n.type,void 0,Rt);break;case 11:n=Gf(a,n,n.pendingProps,n.type.render,n.ref,Rt);break;case 5:fc(n);default:Qf(a,n),n=wt=Ed(n,Ui),n=$f(a,n,Ui)}e.memoizedProps=e.pendingProps,n===null?pl(e):wt=n}function ks(e,n,a,l){Li=Pn=null,fc(n),ws=null,Ca=0;var d=n.return;try{if(Nb(e,d,n,a,Rt)){$t=1,al(e,Ze(a,e.current)),wt=null;return}}catch(g){if(d!==null)throw wt=d,g;$t=1,al(e,Ze(a,e.current)),wt=null;return}n.flags&32768?(Dt||l===1?e=!0:Rs||(Rt&536870912)!==0?e=!1:(on=e=!0,(l===2||l===9||l===3||l===6)&&(l=ii.current,l!==null&&l.tag===13&&(l.flags|=16384))),wp(n,e)):pl(n)}function pl(e){var n=e;do{if((n.flags&32768)!==0){wp(n,on);return}e=n.return;var a=Fb(n.alternate,n,Ui);if(a!==null){wt=a;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);$t===0&&($t=5)}function wp(e,n){do{var a=Hb(e.alternate,e);if(a!==null){a.flags&=32767,wt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){wt=e;return}wt=e=a}while(e!==null);$t=6,wt=null}function xp(e,n,a,l,d,g,v,_,T){e.cancelPendingCommit=null;do gl();while(Ae!==0);if((Ot&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(g=n.lanes|n.childLanes,g|=jo,Ey(e,a,g,v,_,T),e===Bt&&(wt=Bt=null,Rt=0),Ds=n,hn=e,Ls=a,Yc=g,Kc=d,gp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,$b(xi,function(){return Dp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,d=B.p,B.p=2,v=Ot,Ot|=4;try{zb(e,n,a)}finally{Ot=v,B.p=d,P.T=l}}Ae=1,Tp(),Cp(),Rp()}}function Tp(){if(Ae===1){Ae=0;var e=hn,n=Ds,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=P.T,P.T=null;var l=B.p;B.p=2;var d=Ot;Ot|=4;try{op(n,e);var g=uu,v=fd(e.containerInfo),_=g.focusedElem,T=g.selectionRange;if(v!==_&&_&&_.ownerDocument&&dd(_.ownerDocument.documentElement,_)){if(T!==null&&Ho(_)){var F=T.start,I=T.end;if(I===void 0&&(I=F),"selectionStart"in _)_.selectionStart=F,_.selectionEnd=Math.min(I,_.value.length);else{var V=_.ownerDocument||document,z=V&&V.defaultView||window;if(z.getSelection){var U=z.getSelection(),ut=_.textContent.length,lt=Math.min(T.start,ut),Ht=T.end===void 0?lt:Math.min(T.end,ut);!U.extend&&lt>Ht&&(v=Ht,Ht=lt,lt=v);var D=hd(_,lt),R=hd(_,Ht);if(D&&R&&(U.rangeCount!==1||U.anchorNode!==D.node||U.anchorOffset!==D.offset||U.focusNode!==R.node||U.focusOffset!==R.offset)){var N=V.createRange();N.setStart(D.node,D.offset),U.removeAllRanges(),lt>Ht?(U.addRange(N),U.extend(R.node,R.offset)):(N.setEnd(R.node,R.offset),U.addRange(N))}}}}for(V=[],U=_;U=U.parentNode;)U.nodeType===1&&V.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<V.length;_++){var q=V[_];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}Cl=!!cu,uu=cu=null}finally{Ot=d,B.p=l,P.T=a}}e.current=n,Ae=2}}function Cp(){if(Ae===2){Ae=0;var e=hn,n=Ds,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=P.T,P.T=null;var l=B.p;B.p=2;var d=Ot;Ot|=4;try{sp(e,n.alternate,n)}finally{Ot=d,B.p=l,P.T=a}}Ae=3}}function Rp(){if(Ae===4||Ae===3){Ae=0,ee();var e=hn,n=Ds,a=Ls,l=gp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ae=5:(Ae=0,Ds=hn=null,Mp(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(un=null),mo(a),n=n.stateNode,ie&&typeof ie.onCommitFiberRoot=="function")try{ie.onCommitFiberRoot(wn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=P.T,d=B.p,B.p=2,P.T=null;try{for(var g=e.onRecoverableError,v=0;v<l.length;v++){var _=l[v];g(_.value,{componentStack:_.stack})}}finally{P.T=n,B.p=d}}(Ls&3)!==0&&gl(),vi(e),d=e.pendingLanes,(a&4194090)!==0&&(d&42)!==0?e===$c?Fa++:(Fa=0,$c=e):Fa=0,Ha(0)}}function Mp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ma(n)))}function gl(e){return Tp(),Cp(),Rp(),Dp()}function Dp(){if(Ae!==5)return!1;var e=hn,n=Yc;Yc=0;var a=mo(Ls),l=P.T,d=B.p;try{B.p=32>a?32:a,P.T=null,a=Kc,Kc=null;var g=hn,v=Ls;if(Ae=0,Ds=hn=null,Ls=0,(Ot&6)!==0)throw Error(s(331));var _=Ot;if(Ot|=4,fp(g.current),up(g,g.current,v,a),Ot=_,Ha(0,!1),ie&&typeof ie.onPostCommitFiberRoot=="function")try{ie.onPostCommitFiberRoot(wn,g)}catch{}return!0}finally{B.p=d,P.T=l,Mp(e,n)}}function Lp(e,n,a){n=Ze(a,n),n=Cc(e.stateNode,n,2),e=tn(e,n,2),e!==null&&(ta(e,2),vi(e))}function zt(e,n,a){if(e.tag===3)Lp(e,e,a);else for(;n!==null;){if(n.tag===3){Lp(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(un===null||!un.has(l))){e=Ze(a,e),a=Pf(2),l=tn(n,a,2),l!==null&&(Ff(a,l,n,e),ta(l,2),vi(l));break}}n=n.return}}function Jc(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Ib;var d=new Set;l.set(n,d)}else d=l.get(n),d===void 0&&(d=new Set,l.set(n,d));d.has(a)||(Gc=!0,d.add(a),e=Xb.bind(null,e,n,a),n.then(e,e))}function Xb(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Bt===e&&(Rt&a)===a&&($t===4||$t===3&&(Rt&62914560)===Rt&&300>be()-Xc?(Ot&2)===0&&Os(e,0):qc|=a,Ms===Rt&&(Ms=0)),vi(e)}function Op(e,n){n===0&&(n=Ch()),e=ps(e,n),e!==null&&(ta(e,n),vi(e))}function Yb(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Op(e,a)}function Kb(e,n){var a=0;switch(e.tag){case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Op(e,a)}function $b(e,n){return Lt(e,n)}var ml=null,Ns=null,tu=!1,yl=!1,eu=!1,jn=0;function vi(e){e!==Ns&&e.next===null&&(Ns===null?ml=Ns=e:Ns=Ns.next=e),yl=!0,tu||(tu=!0,Qb())}function Ha(e,n){if(!eu&&yl){eu=!0;do for(var a=!1,l=ml;l!==null;){if(e!==0){var d=l.pendingLanes;if(d===0)var g=0;else{var v=l.suspendedLanes,_=l.pingedLanes;g=(1<<31-de(42|e)+1)-1,g&=d&~(v&~_),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,Fp(l,g))}else g=Rt,g=Er(l,l===Bt?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(g&3)===0||Js(l,g)||(a=!0,Fp(l,g));l=l.next}while(a);eu=!1}}function Wb(){kp()}function kp(){yl=tu=!1;var e=0;jn!==0&&(av()&&(e=jn),jn=0);for(var n=be(),a=null,l=ml;l!==null;){var d=l.next,g=Np(l,n);g===0?(l.next=null,a===null?ml=d:a.next=d,d===null&&(Ns=a)):(a=l,(e!==0||(g&3)!==0)&&(yl=!0)),l=d}Ha(e)}function Np(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var v=31-de(g),_=1<<v,T=d[v];T===-1?((_&a)===0||(_&l)!==0)&&(d[v]=_y(_,n)):T<=n&&(e.expiredLanes|=_),g&=~_}if(n=Bt,a=Rt,a=Er(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(kt===2||kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&jt(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Js(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&jt(l),mo(a)){case 2:case 8:a=vr;break;case 32:a=xi;break;case 268435456:a=Ar;break;default:a=xi}return l=Pp.bind(null,e),a=Lt(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&jt(l),e.callbackPriority=2,e.callbackNode=null,2}function Pp(e,n){if(Ae!==0&&Ae!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(gl()&&e.callbackNode!==a)return null;var l=Rt;return l=Er(e,e===Bt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(yp(e,l,n),Np(e,be()),e.callbackNode!=null&&e.callbackNode===a?Pp.bind(null,e):null)}function Fp(e,n){if(gl())return null;yp(e,n,!0)}function Qb(){lv(function(){(Ot&6)!==0?Lt(br,Wb):kp()})}function iu(){return jn===0&&(jn=Th()),jn}function Hp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Rr(""+e)}function zp(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function Zb(e,n,a,l,d){if(n==="submit"&&a&&a.stateNode===d){var g=Hp((d[ke]||null).action),v=l.submitter;v&&(n=(n=v[ke]||null)?Hp(n.formAction):v.getAttribute("formAction"),n!==null&&(g=n,v=null));var _=new Or("action","action",null,l,d);e.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(jn!==0){var T=v?zp(d,v):new FormData(d);_c(a,{pending:!0,data:T,method:d.method,action:g},null,T)}}else typeof g=="function"&&(_.preventDefault(),T=v?zp(d,v):new FormData(d),_c(a,{pending:!0,data:T,method:d.method,action:g},g,T))},currentTarget:d}]})}}for(var nu=0;nu<Io.length;nu++){var su=Io[nu],Jb=su.toLowerCase(),tv=su[0].toUpperCase()+su.slice(1);ci(Jb,"on"+tv)}ci(md,"onAnimationEnd"),ci(yd,"onAnimationIteration"),ci(bd,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(yb,"onTransitionRun"),ci(bb,"onTransitionStart"),ci(vb,"onTransitionCancel"),ci(vd,"onTransitionEnd"),ss("onMouseEnter",["mouseout","mouseover"]),ss("onMouseLeave",["mouseout","mouseover"]),ss("onPointerEnter",["pointerout","pointerover"]),ss("onPointerLeave",["pointerout","pointerover"]),Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ev=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(za));function Up(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],d=l.event;l=l.listeners;t:{var g=void 0;if(n)for(var v=l.length-1;0<=v;v--){var _=l[v],T=_.instance,F=_.currentTarget;if(_=_.listener,T!==g&&d.isPropagationStopped())break t;g=_,d.currentTarget=F;try{g(d)}catch(I){sl(I)}d.currentTarget=null,g=T}else for(v=0;v<l.length;v++){if(_=l[v],T=_.instance,F=_.currentTarget,_=_.listener,T!==g&&d.isPropagationStopped())break t;g=_,d.currentTarget=F;try{g(d)}catch(I){sl(I)}d.currentTarget=null,g=T}}}}function xt(e,n){var a=n[yo];a===void 0&&(a=n[yo]=new Set);var l=e+"__bubble";a.has(l)||(Bp(n,e,2,!1),a.add(l))}function au(e,n,a){var l=0;n&&(l|=4),Bp(a,e,l,n)}var bl="_reactListening"+Math.random().toString(36).slice(2);function ru(e){if(!e[bl]){e[bl]=!0,Oh.forEach(function(a){a!=="selectionchange"&&(ev.has(a)||au(a,!1,e),au(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[bl]||(n[bl]=!0,au("selectionchange",!1,n))}}function Bp(e,n,a,l){switch(ug(n)){case 2:var d=Rv;break;case 8:d=Mv;break;default:d=Au}a=d.bind(null,n,a,e),d=void 0,!Ro||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(n,a,{capture:!0,passive:d}):e.addEventListener(n,a,!0):d!==void 0?e.addEventListener(n,a,{passive:d}):e.addEventListener(n,a,!1)}function lu(e,n,a,l,d){var g=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var _=l.stateNode.containerInfo;if(_===d)break;if(v===4)for(v=l.return;v!==null;){var T=v.tag;if((T===3||T===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;_!==null;){if(v=es(_),v===null)return;if(T=v.tag,T===5||T===6||T===26||T===27){l=g=v;continue t}_=_.parentNode}}l=l.return}Xh(function(){var F=g,I=To(a),V=[];t:{var z=Ad.get(e);if(z!==void 0){var U=Or,ut=e;switch(e){case"keypress":if(Dr(a)===0)break t;case"keydown":case"keyup":U=$y;break;case"focusin":ut="focus",U=Oo;break;case"focusout":ut="blur",U=Oo;break;case"beforeblur":case"afterblur":U=Oo;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=$h;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Hy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Zy;break;case md:case yd:case bd:U=By;break;case vd:U=tb;break;case"scroll":case"scrollend":U=Py;break;case"wheel":U=ib;break;case"copy":case"cut":case"paste":U=jy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Qh;break;case"toggle":case"beforetoggle":U=sb}var lt=(n&4)!==0,Ht=!lt&&(e==="scroll"||e==="scrollend"),D=lt?z!==null?z+"Capture":null:z;lt=[];for(var R=F,N;R!==null;){var q=R;if(N=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||N===null||D===null||(q=na(R,D),q!=null&&lt.push(Ua(R,q,N))),Ht)break;R=R.return}0<lt.length&&(z=new U(z,ut,null,a,I),V.push({event:z,listeners:lt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",z&&a!==xo&&(ut=a.relatedTarget||a.fromElement)&&(es(ut)||ut[ts]))break t;if((U||z)&&(z=I.window===I?I:(z=I.ownerDocument)?z.defaultView||z.parentWindow:window,U?(ut=a.relatedTarget||a.toElement,U=F,ut=ut?es(ut):null,ut!==null&&(Ht=o(ut),lt=ut.tag,ut!==Ht||lt!==5&&lt!==27&&lt!==6)&&(ut=null)):(U=null,ut=F),U!==ut)){if(lt=$h,q="onMouseLeave",D="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(lt=Qh,q="onPointerLeave",D="onPointerEnter",R="pointer"),Ht=U==null?z:ia(U),N=ut==null?z:ia(ut),z=new lt(q,R+"leave",U,a,I),z.target=Ht,z.relatedTarget=N,q=null,es(I)===F&&(lt=new lt(D,R+"enter",ut,a,I),lt.target=N,lt.relatedTarget=Ht,q=lt),Ht=q,U&&ut)e:{for(lt=U,D=ut,R=0,N=lt;N;N=Ps(N))R++;for(N=0,q=D;q;q=Ps(q))N++;for(;0<R-N;)lt=Ps(lt),R--;for(;0<N-R;)D=Ps(D),N--;for(;R--;){if(lt===D||D!==null&&lt===D.alternate)break e;lt=Ps(lt),D=Ps(D)}lt=null}else lt=null;U!==null&&Ip(V,z,U,lt,!1),ut!==null&&Ht!==null&&Ip(V,Ht,ut,lt,!0)}}t:{if(z=F?ia(F):window,U=z.nodeName&&z.nodeName.toLowerCase(),U==="select"||U==="input"&&z.type==="file")var nt=ad;else if(nd(z))if(rd)nt=pb;else{nt=db;var Et=hb}else U=z.nodeName,!U||U.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?F&&wo(F.elementType)&&(nt=ad):nt=fb;if(nt&&(nt=nt(e,F))){sd(V,nt,a,I);break t}Et&&Et(e,z,F),e==="focusout"&&F&&z.type==="number"&&F.memoizedProps.value!=null&&Eo(z,"number",z.value)}switch(Et=F?ia(F):window,e){case"focusin":(nd(Et)||Et.contentEditable==="true")&&(hs=Et,zo=F,ha=null);break;case"focusout":ha=zo=hs=null;break;case"mousedown":Uo=!0;break;case"contextmenu":case"mouseup":case"dragend":Uo=!1,pd(V,a,I);break;case"selectionchange":if(mb)break;case"keydown":case"keyup":pd(V,a,I)}var st;if(No)t:{switch(e){case"compositionstart":var ct="onCompositionStart";break t;case"compositionend":ct="onCompositionEnd";break t;case"compositionupdate":ct="onCompositionUpdate";break t}ct=void 0}else us?ed(e,a)&&(ct="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ct="onCompositionStart");ct&&(Zh&&a.locale!=="ko"&&(us||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&us&&(st=Yh()):(Wi=I,Mo="value"in Wi?Wi.value:Wi.textContent,us=!0)),Et=vl(F,ct),0<Et.length&&(ct=new Wh(ct,e,null,a,I),V.push({event:ct,listeners:Et}),st?ct.data=st:(st=id(a),st!==null&&(ct.data=st)))),(st=rb?lb(e,a):ob(e,a))&&(ct=vl(F,"onBeforeInput"),0<ct.length&&(Et=new Wh("onBeforeInput","beforeinput",null,a,I),V.push({event:Et,listeners:ct}),Et.data=st)),Zb(V,e,F,a,I)}Up(V,n)})}function Ua(e,n,a){return{instance:e,listener:n,currentTarget:a}}function vl(e,n){for(var a=n+"Capture",l=[];e!==null;){var d=e,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=na(e,a),d!=null&&l.unshift(Ua(e,d,g)),d=na(e,n),d!=null&&l.push(Ua(e,d,g))),e.tag===3)return l;e=e.return}return[]}function Ps(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ip(e,n,a,l,d){for(var g=n._reactName,v=[];a!==null&&a!==l;){var _=a,T=_.alternate,F=_.stateNode;if(_=_.tag,T!==null&&T===l)break;_!==5&&_!==26&&_!==27||F===null||(T=F,d?(F=na(a,g),F!=null&&v.unshift(Ua(a,F,T))):d||(F=na(a,g),F!=null&&v.push(Ua(a,F,T)))),a=a.return}v.length!==0&&e.push({event:n,listeners:v})}var iv=/\r\n?/g,nv=/\u0000|\uFFFD/g;function jp(e){return(typeof e=="string"?e:""+e).replace(iv,`
`).replace(nv,"")}function Gp(e,n){return n=jp(n),jp(e)===n}function Al(){}function Ft(e,n,a,l,d,g){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||ls(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&ls(e,""+l);break;case"className":xr(e,"class",l);break;case"tabIndex":xr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":xr(e,a,l);break;case"style":qh(e,l,g);break;case"data":if(n!=="object"){xr(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Rr(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(n!=="input"&&Ft(e,n,"name",d.name,d,null),Ft(e,n,"formEncType",d.formEncType,d,null),Ft(e,n,"formMethod",d.formMethod,d,null),Ft(e,n,"formTarget",d.formTarget,d,null)):(Ft(e,n,"encType",d.encType,d,null),Ft(e,n,"method",d.method,d,null),Ft(e,n,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Rr(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Al);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Rr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":xt("beforetoggle",e),xt("toggle",e),wr(e,"popover",l);break;case"xlinkActuate":Ti(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ti(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ti(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ti(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ti(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ti(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ti(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ti(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ti(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ky.get(a)||a,wr(e,a,l))}}function ou(e,n,a,l,d,g){switch(a){case"style":qh(e,l,g);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?ls(e,l):(typeof l=="number"||typeof l=="bigint")&&ls(e,""+l);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Al);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kh.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),n=a.slice(2,d?a.length-7:void 0),g=e[ke]||null,g=g!=null?g[a]:null,typeof g=="function"&&e.removeEventListener(n,g,d),typeof l=="function")){typeof g!="function"&&g!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,d);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):wr(e,a,l)}}}function Se(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var l=!1,d=!1,g;for(g in a)if(a.hasOwnProperty(g)){var v=a[g];if(v!=null)switch(g){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ft(e,n,g,v,a,null)}}d&&Ft(e,n,"srcSet",a.srcSet,a,null),l&&Ft(e,n,"src",a.src,a,null);return;case"input":xt("invalid",e);var _=g=v=d=null,T=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var I=a[l];if(I!=null)switch(l){case"name":d=I;break;case"type":v=I;break;case"checked":T=I;break;case"defaultChecked":F=I;break;case"value":g=I;break;case"defaultValue":_=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,n));break;default:Ft(e,n,l,I,a,null)}}Bh(e,g,_,T,F,v,d,!1),Tr(e);return;case"select":xt("invalid",e),l=v=g=null;for(d in a)if(a.hasOwnProperty(d)&&(_=a[d],_!=null))switch(d){case"value":g=_;break;case"defaultValue":v=_;break;case"multiple":l=_;default:Ft(e,n,d,_,a,null)}n=g,a=v,e.multiple=!!l,n!=null?rs(e,!!l,n,!1):a!=null&&rs(e,!!l,a,!0);return;case"textarea":xt("invalid",e),g=d=l=null;for(v in a)if(a.hasOwnProperty(v)&&(_=a[v],_!=null))switch(v){case"value":l=_;break;case"defaultValue":d=_;break;case"children":g=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:Ft(e,n,v,_,a,null)}jh(e,l,d,g),Tr(e);return;case"option":for(T in a)if(a.hasOwnProperty(T)&&(l=a[T],l!=null))switch(T){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(e,n,T,l,a,null)}return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(l=0;l<za.length;l++)xt(za[l],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ft(e,n,F,l,a,null)}return;default:if(wo(n)){for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!==void 0&&ou(e,n,I,l,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(l=a[_],l!=null&&Ft(e,n,_,l,a,null))}function sv(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,v=null,_=null,T=null,F=null,I=null;for(U in a){var V=a[U];if(a.hasOwnProperty(U)&&V!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":T=V;default:l.hasOwnProperty(U)||Ft(e,n,U,null,l,V)}}for(var z in l){var U=l[z];if(V=a[z],l.hasOwnProperty(z)&&(U!=null||V!=null))switch(z){case"type":g=U;break;case"name":d=U;break;case"checked":F=U;break;case"defaultChecked":I=U;break;case"value":v=U;break;case"defaultValue":_=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,n));break;default:U!==V&&Ft(e,n,z,U,l,V)}}_o(e,v,_,T,F,I,g,d);return;case"select":U=v=_=z=null;for(g in a)if(T=a[g],a.hasOwnProperty(g)&&T!=null)switch(g){case"value":break;case"multiple":U=T;default:l.hasOwnProperty(g)||Ft(e,n,g,null,l,T)}for(d in l)if(g=l[d],T=a[d],l.hasOwnProperty(d)&&(g!=null||T!=null))switch(d){case"value":z=g;break;case"defaultValue":_=g;break;case"multiple":v=g;default:g!==T&&Ft(e,n,d,g,l,T)}n=_,a=v,l=U,z!=null?rs(e,!!a,z,!1):!!l!=!!a&&(n!=null?rs(e,!!a,n,!0):rs(e,!!a,a?[]:"",!1));return;case"textarea":U=z=null;for(_ in a)if(d=a[_],a.hasOwnProperty(_)&&d!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ft(e,n,_,null,l,d)}for(v in l)if(d=l[v],g=a[v],l.hasOwnProperty(v)&&(d!=null||g!=null))switch(v){case"value":z=d;break;case"defaultValue":U=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&Ft(e,n,v,d,l,g)}Ih(e,z,U);return;case"option":for(var ut in a)if(z=a[ut],a.hasOwnProperty(ut)&&z!=null&&!l.hasOwnProperty(ut))switch(ut){case"selected":e.selected=!1;break;default:Ft(e,n,ut,null,l,z)}for(T in l)if(z=l[T],U=a[T],l.hasOwnProperty(T)&&z!==U&&(z!=null||U!=null))switch(T){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Ft(e,n,T,z,l,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lt in a)z=a[lt],a.hasOwnProperty(lt)&&z!=null&&!l.hasOwnProperty(lt)&&Ft(e,n,lt,null,l,z);for(F in l)if(z=l[F],U=a[F],l.hasOwnProperty(F)&&z!==U&&(z!=null||U!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:Ft(e,n,F,z,l,U)}return;default:if(wo(n)){for(var Ht in a)z=a[Ht],a.hasOwnProperty(Ht)&&z!==void 0&&!l.hasOwnProperty(Ht)&&ou(e,n,Ht,void 0,l,z);for(I in l)z=l[I],U=a[I],!l.hasOwnProperty(I)||z===U||z===void 0&&U===void 0||ou(e,n,I,z,l,U);return}}for(var D in a)z=a[D],a.hasOwnProperty(D)&&z!=null&&!l.hasOwnProperty(D)&&Ft(e,n,D,null,l,z);for(V in l)z=l[V],U=a[V],!l.hasOwnProperty(V)||z===U||z==null&&U==null||Ft(e,n,V,z,l,U)}var cu=null,uu=null;function Sl(e){return e.nodeType===9?e:e.ownerDocument}function qp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function hu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var du=null;function av(){var e=window.event;return e&&e.type==="popstate"?e===du?!1:(du=e,!0):(du=null,!1)}var Xp=typeof setTimeout=="function"?setTimeout:void 0,rv=typeof clearTimeout=="function"?clearTimeout:void 0,Yp=typeof Promise=="function"?Promise:void 0,lv=typeof queueMicrotask=="function"?queueMicrotask:typeof Yp<"u"?function(e){return Yp.resolve(null).then(e).catch(ov)}:Xp;function ov(e){setTimeout(function(){throw e})}function fn(e){return e==="head"}function Kp(e,n){var a=n,l=0,d=0;do{var g=a.nextSibling;if(e.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&Ba(v.documentElement),a&2&&Ba(v.body),a&4)for(a=v.head,Ba(a),v=a.firstChild;v;){var _=v.nextSibling,T=v.nodeName;v[ea]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=_}}if(d===0){e.removeChild(g),Ka(n);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=g}while(a);Ka(n)}function fu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fu(a),bo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function cv(e,n,a,l){for(;e.nodeType===1;){var d=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ea])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=hi(e.nextSibling),e===null)break}return null}function uv(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=hi(e.nextSibling),e===null))return null;return e}function pu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function hv(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function hi(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var gu=null;function $p(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Wp(e,n,a){switch(n=Sl(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ba(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);bo(e)}var si=new Map,Qp=new Set;function _l(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Bi=B.d;B.d={f:dv,r:fv,D:pv,C:gv,L:mv,m:yv,X:vv,S:bv,M:Av};function dv(){var e=Bi.f(),n=fl();return e||n}function fv(e){var n=is(e);n!==null&&n.tag===5&&n.type==="form"?yf(n):Bi.r(e)}var Fs=typeof document>"u"?null:document;function Zp(e,n,a){var l=Fs;if(l&&typeof n=="string"&&n){var d=Qe(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Qp.has(d)||(Qp.add(d),e={rel:e,crossOrigin:a,href:n},l.querySelector(d)===null&&(n=l.createElement("link"),Se(n,"link",e),fe(n),l.head.appendChild(n)))}}function pv(e){Bi.D(e),Zp("dns-prefetch",e,null)}function gv(e,n){Bi.C(e,n),Zp("preconnect",e,n)}function mv(e,n,a){Bi.L(e,n,a);var l=Fs;if(l&&e&&n){var d='link[rel="preload"][as="'+Qe(n)+'"]';n==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Qe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Qe(a.imageSizes)+'"]')):d+='[href="'+Qe(e)+'"]';var g=d;switch(n){case"style":g=Hs(e);break;case"script":g=zs(e)}si.has(g)||(e=m({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),si.set(g,e),l.querySelector(d)!==null||n==="style"&&l.querySelector(Ia(g))||n==="script"&&l.querySelector(ja(g))||(n=l.createElement("link"),Se(n,"link",e),fe(n),l.head.appendChild(n)))}}function yv(e,n){Bi.m(e,n);var a=Fs;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+Qe(l)+'"][href="'+Qe(e)+'"]',g=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=zs(e)}if(!si.has(g)&&(e=m({rel:"modulepreload",href:e},n),si.set(g,e),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ja(g)))return}l=a.createElement("link"),Se(l,"link",e),fe(l),a.head.appendChild(l)}}}function bv(e,n,a){Bi.S(e,n,a);var l=Fs;if(l&&e){var d=ns(l).hoistableStyles,g=Hs(e);n=n||"default";var v=d.get(g);if(!v){var _={loading:0,preload:null};if(v=l.querySelector(Ia(g)))_.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":n},a),(a=si.get(g))&&mu(e,a);var T=v=l.createElement("link");fe(T),Se(T,"link",e),T._p=new Promise(function(F,I){T.onload=F,T.onerror=I}),T.addEventListener("load",function(){_.loading|=1}),T.addEventListener("error",function(){_.loading|=2}),_.loading|=4,El(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:_},d.set(g,v)}}}function vv(e,n){Bi.X(e,n);var a=Fs;if(a&&e){var l=ns(a).hoistableScripts,d=zs(e),g=l.get(d);g||(g=a.querySelector(ja(d)),g||(e=m({src:e,async:!0},n),(n=si.get(d))&&yu(e,n),g=a.createElement("script"),fe(g),Se(g,"link",e),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(d,g))}}function Av(e,n){Bi.M(e,n);var a=Fs;if(a&&e){var l=ns(a).hoistableScripts,d=zs(e),g=l.get(d);g||(g=a.querySelector(ja(d)),g||(e=m({src:e,async:!0,type:"module"},n),(n=si.get(d))&&yu(e,n),g=a.createElement("script"),fe(g),Se(g,"link",e),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(d,g))}}function Jp(e,n,a,l){var d=(d=it.current)?_l(d):null;if(!d)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Hs(a.href),a=ns(d).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Hs(a.href);var g=ns(d).hoistableStyles,v=g.get(e);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,v),(g=d.querySelector(Ia(e)))&&!g._p&&(v.instance=g,v.state.loading=5),si.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},si.set(e,a),g||Sv(d,e,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=zs(a),a=ns(d).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Hs(e){return'href="'+Qe(e)+'"'}function Ia(e){return'link[rel="stylesheet"]['+e+"]"}function tg(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Sv(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Se(n,"link",a),fe(n),e.head.appendChild(n))}function zs(e){return'[src="'+Qe(e)+'"]'}function ja(e){return"script[async]"+e}function eg(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Qe(a.href)+'"]');if(l)return n.instance=l,fe(l),l;var d=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),fe(l),Se(l,"style",d),El(l,a.precedence,e),n.instance=l;case"stylesheet":d=Hs(a.href);var g=e.querySelector(Ia(d));if(g)return n.state.loading|=4,n.instance=g,fe(g),g;l=tg(a),(d=si.get(d))&&mu(l,d),g=(e.ownerDocument||e).createElement("link"),fe(g);var v=g;return v._p=new Promise(function(_,T){v.onload=_,v.onerror=T}),Se(g,"link",l),n.state.loading|=4,El(g,a.precedence,e),n.instance=g;case"script":return g=zs(a.src),(d=e.querySelector(ja(g)))?(n.instance=d,fe(d),d):(l=a,(d=si.get(g))&&(l=m({},a),yu(l,d)),e=e.ownerDocument||e,d=e.createElement("script"),fe(d),Se(d,"link",l),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,El(l,a.precedence,e));return n.instance}function El(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,g=d,v=0;v<l.length;v++){var _=l[v];if(_.dataset.precedence===n)g=_;else if(g!==d)break}g?g.parentNode.insertBefore(e,g.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function mu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function yu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var wl=null;function ig(e,n,a){if(wl===null){var l=new Map,d=wl=new Map;d.set(a,l)}else d=wl,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),d=0;d<a.length;d++){var g=a[d];if(!(g[ea]||g[Ee]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var v=g.getAttribute(n)||"";v=e+v;var _=l.get(v);_?_.push(g):l.set(v,[g])}}return l}function ng(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function _v(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function sg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ga=null;function Ev(){}function wv(e,n,a){if(Ga===null)throw Error(s(475));var l=Ga;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var d=Hs(a.href),g=e.querySelector(Ia(d));if(g){e=g._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=xl.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=g,fe(g);return}g=e.ownerDocument||e,a=tg(a),(d=si.get(d))&&mu(a,d),g=g.createElement("link"),fe(g);var v=g;v._p=new Promise(function(_,T){v.onload=_,v.onerror=T}),Se(g,"link",a),n.instance=g}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=xl.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function xv(){if(Ga===null)throw Error(s(475));var e=Ga;return e.stylesheets&&e.count===0&&bu(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&bu(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function xl(){if(this.count--,this.count===0){if(this.stylesheets)bu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tl=null;function bu(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tl=new Map,n.forEach(Tv,e),Tl=null,xl.call(e))}function Tv(e,n){if(!(n.state.loading&4)){var a=Tl.get(e);if(a)var l=a.get(null);else{a=new Map,Tl.set(e,a);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var v=d[g];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}d=n.instance,v=d.getAttribute("data-precedence"),g=a.get(v)||l,g===l&&a.set(null,d),a.set(v,d),this.count++,l=xl.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),g?g.parentNode.insertBefore(d,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var qa={$$typeof:O,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function Cv(e,n,a,l,d,g,v,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=po(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=po(0),this.hiddenUpdates=po(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function ag(e,n,a,l,d,g,v,_,T,F,I,V){return e=new Cv(e,n,a,v,_,T,F,V),n=1,g===!0&&(n|=24),g=je(3,null,null,n),e.current=g,g.stateNode=e,n=Jo(),n.refCount++,e.pooledCache=n,n.refCount++,g.memoizedState={element:l,isDehydrated:a,cache:n},nc(g),e}function rg(e){return e?(e=gs,e):gs}function lg(e,n,a,l,d,g){d=rg(d),l.context===null?l.context=d:l.pendingContext=d,l=Ji(n),l.payload={element:a},g=g===void 0?null:g,g!==null&&(l.callback=g),a=tn(e,l,n),a!==null&&(Ye(a,e,n),Aa(a,e,n))}function og(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function vu(e,n){og(e,n),(e=e.alternate)&&og(e,n)}function cg(e){if(e.tag===13){var n=ps(e,67108864);n!==null&&Ye(n,e,67108864),vu(e,67108864)}}var Cl=!0;function Rv(e,n,a,l){var d=P.T;P.T=null;var g=B.p;try{B.p=2,Au(e,n,a,l)}finally{B.p=g,P.T=d}}function Mv(e,n,a,l){var d=P.T;P.T=null;var g=B.p;try{B.p=8,Au(e,n,a,l)}finally{B.p=g,P.T=d}}function Au(e,n,a,l){if(Cl){var d=Su(l);if(d===null)lu(e,n,l,Rl,a),hg(e,l);else if(Lv(d,e,n,a,l))l.stopPropagation();else if(hg(e,l),n&4&&-1<Dv.indexOf(e)){for(;d!==null;){var g=is(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var v=xn(g.pendingLanes);if(v!==0){var _=g;for(_.pendingLanes|=2,_.entangledLanes|=2;v;){var T=1<<31-de(v);_.entanglements[1]|=T,v&=~T}vi(g),(Ot&6)===0&&(hl=be()+500,Ha(0))}}break;case 13:_=ps(g,2),_!==null&&Ye(_,g,2),fl(),vu(g,2)}if(g=Su(l),g===null&&lu(e,n,l,Rl,a),g===d)break;d=g}d!==null&&l.stopPropagation()}else lu(e,n,l,null,a)}}function Su(e){return e=To(e),_u(e)}var Rl=null;function _u(e){if(Rl=null,e=es(e),e!==null){var n=o(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=c(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Rl=e,null}function ug(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(En()){case br:return 2;case vr:return 8;case xi:case uo:return 32;case Ar:return 268435456;default:return 32}default:return 32}}var Eu=!1,pn=null,gn=null,mn=null,Va=new Map,Xa=new Map,yn=[],Dv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hg(e,n){switch(e){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":Va.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xa.delete(n.pointerId)}}function Ya(e,n,a,l,d,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:g,targetContainers:[d]},n!==null&&(n=is(n),n!==null&&cg(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function Lv(e,n,a,l,d){switch(n){case"focusin":return pn=Ya(pn,e,n,a,l,d),!0;case"dragenter":return gn=Ya(gn,e,n,a,l,d),!0;case"mouseover":return mn=Ya(mn,e,n,a,l,d),!0;case"pointerover":var g=d.pointerId;return Va.set(g,Ya(Va.get(g)||null,e,n,a,l,d)),!0;case"gotpointercapture":return g=d.pointerId,Xa.set(g,Ya(Xa.get(g)||null,e,n,a,l,d)),!0}return!1}function dg(e){var n=es(e.target);if(n!==null){var a=o(n);if(a!==null){if(n=a.tag,n===13){if(n=c(a),n!==null){e.blockedOn=n,wy(e.priority,function(){if(a.tag===13){var l=Xe();l=go(l);var d=ps(a,l);d!==null&&Ye(d,a,l),vu(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ml(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Su(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);xo=l,a.target.dispatchEvent(l),xo=null}else return n=is(a),n!==null&&cg(n),e.blockedOn=a,!1;n.shift()}return!0}function fg(e,n,a){Ml(e)&&a.delete(n)}function Ov(){Eu=!1,pn!==null&&Ml(pn)&&(pn=null),gn!==null&&Ml(gn)&&(gn=null),mn!==null&&Ml(mn)&&(mn=null),Va.forEach(fg),Xa.forEach(fg)}function Dl(e,n){e.blockedOn===n&&(e.blockedOn=null,Eu||(Eu=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,Ov)))}var Ll=null;function pg(e){Ll!==e&&(Ll=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){Ll===e&&(Ll=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],d=e[n+2];if(typeof l!="function"){if(_u(l||a)===null)continue;break}var g=is(a);g!==null&&(e.splice(n,3),n-=3,_c(g,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Ka(e){function n(T){return Dl(T,e)}pn!==null&&Dl(pn,e),gn!==null&&Dl(gn,e),mn!==null&&Dl(mn,e),Va.forEach(n),Xa.forEach(n);for(var a=0;a<yn.length;a++){var l=yn[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<yn.length&&(a=yn[0],a.blockedOn===null);)dg(a),a.blockedOn===null&&yn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],g=a[l+1],v=d[ke]||null;if(typeof g=="function")v||pg(a);else if(v){var _=null;if(g&&g.hasAttribute("formAction")){if(d=g,v=g[ke]||null)_=v.formAction;else if(_u(d)!==null)continue}else _=v.action;typeof _=="function"?a[l+1]=_:(a.splice(l,3),l-=3),pg(a)}}}function wu(e){this._internalRoot=e}Ol.prototype.render=wu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=Xe();lg(a,l,e,n,null,null)},Ol.prototype.unmount=wu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;lg(e.current,2,null,e,null,null),fl(),n[ts]=null}};function Ol(e){this._internalRoot=e}Ol.prototype.unstable_scheduleHydration=function(e){if(e){var n=Dh();e={blockedOn:null,target:e,priority:n};for(var a=0;a<yn.length&&n!==0&&n<yn[a].priority;a++);yn.splice(a,0,e),a===0&&dg(e)}};var gg=t.version;if(gg!=="19.1.0")throw Error(s(527,gg,"19.1.0"));B.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=f(n),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var kv={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kl.isDisabled&&kl.supportsFiber)try{wn=kl.inject(kv),ie=kl}catch{}}return Qa.createRoot=function(e,n){if(!r(e))throw Error(s(299));var a=!1,l="",d=Lf,g=Of,v=kf,_=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=ag(e,1,!1,null,null,a,l,d,g,v,_,null),e[ts]=n.current,ru(e),new wu(n)},Qa.hydrateRoot=function(e,n,a){if(!r(e))throw Error(s(299));var l=!1,d="",g=Lf,v=Of,_=kf,T=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),n=ag(e,1,!0,n,a??null,l,d,g,v,_,T,F),n.context=rg(null),a=n.current,l=Xe(),l=go(l),d=Ji(l),d.callback=null,tn(a,d,l),a=l,n.current.lanes=a,ta(n,a),vi(n),e[ts]=n.current,ru(e),new Ol(n)},Qa.version="19.1.0",Qa}var Cg;function qv(){if(Cg)return Ru.exports;Cg=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(t){console.error(t)}}return u(),Ru.exports=Gv(),Ru.exports}var Vv=qv();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Rg="popstate";function Xv(u={}){function t(s,r){let{pathname:o,search:c,hash:h}=s.location;return Iu("",{pathname:o,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function i(s,r){return typeof r=="string"?r:cr(r)}return Kv(t,i,null,u)}function Yt(u,t){if(u===!1||u===null||typeof u>"u")throw new Error(t)}function _i(u,t){if(!u){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Yv(){return Math.random().toString(36).substring(2,10)}function Mg(u,t){return{usr:u.state,key:u.key,idx:t}}function Iu(u,t,i=null,s){return{pathname:typeof u=="string"?u:u.pathname,search:"",hash:"",...typeof t=="string"?Ws(t):t,state:i,key:t&&t.key||s||Yv()}}function cr({pathname:u="/",search:t="",hash:i=""}){return t&&t!=="?"&&(u+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(u+=i.charAt(0)==="#"?i:"#"+i),u}function Ws(u){let t={};if(u){let i=u.indexOf("#");i>=0&&(t.hash=u.substring(i),u=u.substring(0,i));let s=u.indexOf("?");s>=0&&(t.search=u.substring(s),u=u.substring(0,s)),u&&(t.pathname=u)}return t}function Kv(u,t,i,s={}){let{window:r=document.defaultView,v5Compat:o=!1}=s,c=r.history,h="POP",f=null,p=m();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function m(){return(c.state||{idx:null}).idx}function y(){h="POP";let x=m(),w=x==null?null:x-p;p=x,f&&f({action:h,location:E.location,delta:w})}function b(x,w){h="PUSH";let M=Iu(E.location,x,w);p=m()+1;let O=Mg(M,p),k=E.createHref(M);try{c.pushState(O,"",k)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;r.location.assign(k)}o&&f&&f({action:h,location:E.location,delta:1})}function A(x,w){h="REPLACE";let M=Iu(E.location,x,w);p=m();let O=Mg(M,p),k=E.createHref(M);c.replaceState(O,"",k),o&&f&&f({action:h,location:E.location,delta:0})}function S(x){return $v(x)}let E={get action(){return h},get location(){return u(r,c)},listen(x){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(Rg,y),f=x,()=>{r.removeEventListener(Rg,y),f=null}},createHref(x){return t(r,x)},createURL:S,encodeLocation(x){let w=S(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:b,replace:A,go(x){return c.go(x)}};return E}function $v(u,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Yt(i,"No window.location.(origin|href) available to create URL");let s=typeof u=="string"?u:cr(u);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function hm(u,t,i="/"){return Wv(u,t,i,!1)}function Wv(u,t,i,s){let r=typeof t=="string"?Ws(t):t,o=Yi(r.pathname||"/",i);if(o==null)return null;let c=dm(u);Qv(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let p=o0(o);h=r0(c[f],p,s)}return h}function dm(u,t=[],i=[],s=""){let r=(o,c,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(Yt(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let p=Vi([s,f.relativePath]),m=i.concat(f);o.children&&o.children.length>0&&(Yt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),dm(o.children,t,m,p)),!(o.path==null&&!o.index)&&t.push({path:p,score:s0(p,o.index),routesMeta:m})};return u.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))r(o,c);else for(let h of fm(o.path))r(o,c,h)}),t}function fm(u){let t=u.split("/");if(t.length===0)return[];let[i,...s]=t,r=i.endsWith("?"),o=i.replace(/\?$/,"");if(s.length===0)return r?[o,""]:[o];let c=fm(s.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),r&&h.push(...c),h.map(f=>u.startsWith("/")&&f===""?"/":f)}function Qv(u){u.sort((t,i)=>t.score!==i.score?i.score-t.score:a0(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var Zv=/^:[\w-]+$/,Jv=3,t0=2,e0=1,i0=10,n0=-2,Dg=u=>u==="*";function s0(u,t){let i=u.split("/"),s=i.length;return i.some(Dg)&&(s+=n0),t&&(s+=t0),i.filter(r=>!Dg(r)).reduce((r,o)=>r+(Zv.test(o)?Jv:o===""?e0:i0),s)}function a0(u,t){return u.length===t.length&&u.slice(0,-1).every((s,r)=>s===t[r])?u[u.length-1]-t[t.length-1]:0}function r0(u,t,i=!1){let{routesMeta:s}=u,r={},o="/",c=[];for(let h=0;h<s.length;++h){let f=s[h],p=h===s.length-1,m=o==="/"?t:t.slice(o.length)||"/",y=Yl({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},m),b=f.route;if(!y&&p&&i&&!s[s.length-1].route.index&&(y=Yl({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!y)return null;Object.assign(r,y.params),c.push({params:r,pathname:Vi([o,y.pathname]),pathnameBase:d0(Vi([o,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(o=Vi([o,y.pathnameBase]))}return c}function Yl(u,t){typeof u=="string"&&(u={path:u,caseSensitive:!1,end:!0});let[i,s]=l0(u.path,u.caseSensitive,u.end),r=t.match(i);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:s.reduce((p,{paramName:m,isOptional:y},b)=>{if(m==="*"){let S=h[b]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const A=h[b];return y&&!A?p[m]=void 0:p[m]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:u}}function l0(u,t=!1,i=!0){_i(u==="*"||!u.endsWith("*")||u.endsWith("/*"),`Route path "${u}" will be treated as if it were "${u.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${u.replace(/\*$/,"/*")}".`);let s=[],r="^"+u.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(s.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return u.endsWith("*")?(s.push({paramName:"*"}),r+=u==="*"||u==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?r+="\\/*$":u!==""&&u!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function o0(u){try{return u.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _i(!1,`The URL path "${u}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),u}}function Yi(u,t){if(t==="/")return u;if(!u.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=u.charAt(i);return s&&s!=="/"?null:u.slice(i)||"/"}function c0(u,t="/"){let{pathname:i,search:s="",hash:r=""}=typeof u=="string"?Ws(u):u;return{pathname:i?i.startsWith("/")?i:u0(i,t):t,search:f0(s),hash:p0(r)}}function u0(u,t){let i=t.replace(/\/+$/,"").split("/");return u.split("/").forEach(r=>{r===".."?i.length>1&&i.pop():r!=="."&&i.push(r)}),i.length>1?i.join("/"):"/"}function Ou(u,t,i,s){return`Cannot include a '${u}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function h0(u){return u.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function pm(u){let t=h0(u);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function gm(u,t,i,s=!1){let r;typeof u=="string"?r=Ws(u):(r={...u},Yt(!r.pathname||!r.pathname.includes("?"),Ou("?","pathname","search",r)),Yt(!r.pathname||!r.pathname.includes("#"),Ou("#","pathname","hash",r)),Yt(!r.search||!r.search.includes("#"),Ou("#","search","hash",r)));let o=u===""||r.pathname==="",c=o?"/":r.pathname,h;if(c==null)h=i;else{let y=t.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),y-=1;r.pathname=b.join("/")}h=y>=0?t[y]:"/"}let f=c0(r,h),p=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&i.endsWith("/");return!f.pathname.endsWith("/")&&(p||m)&&(f.pathname+="/"),f}var Vi=u=>u.join("/").replace(/\/\/+/g,"/"),d0=u=>u.replace(/\/+$/,"").replace(/^\/*/,"/"),f0=u=>!u||u==="?"?"":u.startsWith("?")?u:"?"+u,p0=u=>!u||u==="#"?"":u.startsWith("#")?u:"#"+u;function g0(u){return u!=null&&typeof u.status=="number"&&typeof u.statusText=="string"&&typeof u.internal=="boolean"&&"data"in u}var mm=["POST","PUT","PATCH","DELETE"];new Set(mm);var m0=["GET",...mm];new Set(m0);var Qs=L.createContext(null);Qs.displayName="DataRouter";var Wl=L.createContext(null);Wl.displayName="DataRouterState";L.createContext(!1);var ym=L.createContext({isTransitioning:!1});ym.displayName="ViewTransition";var y0=L.createContext(new Map);y0.displayName="Fetchers";var b0=L.createContext(null);b0.displayName="Await";var Ei=L.createContext(null);Ei.displayName="Navigation";var hr=L.createContext(null);hr.displayName="Location";var Ki=L.createContext({outlet:null,matches:[],isDataRoute:!1});Ki.displayName="Route";var nh=L.createContext(null);nh.displayName="RouteError";function v0(u,{relative:t}={}){Yt(dr(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=L.useContext(Ei),{hash:r,pathname:o,search:c}=fr(u,{relative:t}),h=o;return i!=="/"&&(h=o==="/"?i:Vi([i,o])),s.createHref({pathname:h,search:c,hash:r})}function dr(){return L.useContext(hr)!=null}function Wn(){return Yt(dr(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(hr).location}var bm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vm(u){L.useContext(Ei).static||L.useLayoutEffect(u)}function A0(){let{isDataRoute:u}=L.useContext(Ki);return u?k0():S0()}function S0(){Yt(dr(),"useNavigate() may be used only in the context of a <Router> component.");let u=L.useContext(Qs),{basename:t,navigator:i}=L.useContext(Ei),{matches:s}=L.useContext(Ki),{pathname:r}=Wn(),o=JSON.stringify(pm(s)),c=L.useRef(!1);return vm(()=>{c.current=!0}),L.useCallback((f,p={})=>{if(_i(c.current,bm),!c.current)return;if(typeof f=="number"){i.go(f);return}let m=gm(f,JSON.parse(o),r,p.relative==="path");u==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Vi([t,m.pathname])),(p.replace?i.replace:i.push)(m,p.state,p)},[t,i,o,r,u])}L.createContext(null);function fr(u,{relative:t}={}){let{matches:i}=L.useContext(Ki),{pathname:s}=Wn(),r=JSON.stringify(pm(i));return L.useMemo(()=>gm(u,JSON.parse(r),s,t==="path"),[u,r,s,t])}function _0(u,t){return Am(u,t)}function Am(u,t,i,s){Yt(dr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=L.useContext(Ei),{matches:o}=L.useContext(Ki),c=o[o.length-1],h=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let w=m&&m.path||"";Sm(f,!m||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let y=Wn(),b;if(t){let w=typeof t=="string"?Ws(t):t;Yt(p==="/"||w.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${w.pathname}" was given in the \`location\` prop.`),b=w}else b=y;let A=b.pathname||"/",S=A;if(p!=="/"){let w=p.replace(/^\//,"").split("/");S="/"+A.replace(/^\//,"").split("/").slice(w.length).join("/")}let E=hm(u,{pathname:S});_i(m||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),_i(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=C0(E&&E.map(w=>Object.assign({},w,{params:Object.assign({},h,w.params),pathname:Vi([p,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?p:Vi([p,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,i,s);return t&&x?L.createElement(hr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},x):x}function E0(){let u=O0(),t=g0(u)?`${u.status} ${u.statusText}`:u instanceof Error?u.message:JSON.stringify(u),i=u instanceof Error?u.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",u),c=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:o},"ErrorBoundary")," or"," ",L.createElement("code",{style:o},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),i?L.createElement("pre",{style:r},i):null,c)}var w0=L.createElement(E0,null),x0=class extends L.Component{constructor(u){super(u),this.state={location:u.location,revalidation:u.revalidation,error:u.error}}static getDerivedStateFromError(u){return{error:u}}static getDerivedStateFromProps(u,t){return t.location!==u.location||t.revalidation!=="idle"&&u.revalidation==="idle"?{error:u.error,location:u.location,revalidation:u.revalidation}:{error:u.error!==void 0?u.error:t.error,location:t.location,revalidation:u.revalidation||t.revalidation}}componentDidCatch(u,t){console.error("React Router caught the following error during render",u,t)}render(){return this.state.error!==void 0?L.createElement(Ki.Provider,{value:this.props.routeContext},L.createElement(nh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function T0({routeContext:u,match:t,children:i}){let s=L.useContext(Qs);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(Ki.Provider,{value:u},i)}function C0(u,t=[],i=null,s=null){if(u==null){if(!i)return null;if(i.errors)u=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)u=i.matches;else return null}let r=u,o=i?.errors;if(o!=null){let f=r.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);Yt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let c=!1,h=-1;if(i)for(let f=0;f<r.length;f++){let p=r[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:m,errors:y}=i,b=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||b){c=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((f,p,m)=>{let y,b=!1,A=null,S=null;i&&(y=o&&p.route.id?o[p.route.id]:void 0,A=p.route.errorElement||w0,c&&(h<0&&m===0?(Sm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):h===m&&(b=!0,S=p.route.hydrateFallbackElement||null)));let E=t.concat(r.slice(0,m+1)),x=()=>{let w;return y?w=A:b?w=S:p.route.Component?w=L.createElement(p.route.Component,null):p.route.element?w=p.route.element:w=f,L.createElement(T0,{match:p,routeContext:{outlet:f,matches:E,isDataRoute:i!=null},children:w})};return i&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?L.createElement(x0,{location:i.location,revalidation:i.revalidation,component:A,error:y,children:x(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):x()},null)}function sh(u){return`${u} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R0(u){let t=L.useContext(Qs);return Yt(t,sh(u)),t}function M0(u){let t=L.useContext(Wl);return Yt(t,sh(u)),t}function D0(u){let t=L.useContext(Ki);return Yt(t,sh(u)),t}function ah(u){let t=D0(u),i=t.matches[t.matches.length-1];return Yt(i.route.id,`${u} can only be used on routes that contain a unique "id"`),i.route.id}function L0(){return ah("useRouteId")}function O0(){let u=L.useContext(nh),t=M0("useRouteError"),i=ah("useRouteError");return u!==void 0?u:t.errors?.[i]}function k0(){let{router:u}=R0("useNavigate"),t=ah("useNavigate"),i=L.useRef(!1);return vm(()=>{i.current=!0}),L.useCallback(async(r,o={})=>{_i(i.current,bm),i.current&&(typeof r=="number"?u.navigate(r):await u.navigate(r,{fromRouteId:t,...o}))},[u,t])}var Lg={};function Sm(u,t,i){!t&&!Lg[u]&&(Lg[u]=!0,_i(!1,i))}L.memo(N0);function N0({routes:u,future:t,state:i}){return Am(u,void 0,i,t)}function ir(u){Yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function P0({basename:u="/",children:t=null,location:i,navigationType:s="POP",navigator:r,static:o=!1}){Yt(!dr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=u.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof i=="string"&&(i=Ws(i));let{pathname:f="/",search:p="",hash:m="",state:y=null,key:b="default"}=i,A=L.useMemo(()=>{let S=Yi(f,c);return S==null?null:{location:{pathname:S,search:p,hash:m,state:y,key:b},navigationType:s}},[c,f,p,m,y,b,s]);return _i(A!=null,`<Router basename="${c}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:L.createElement(Ei.Provider,{value:h},L.createElement(hr.Provider,{children:t,value:A}))}function F0({children:u,location:t}){return _0(ju(u),t)}function ju(u,t=[]){let i=[];return L.Children.forEach(u,(s,r)=>{if(!L.isValidElement(s))return;let o=[...t,r];if(s.type===L.Fragment){i.push.apply(i,ju(s.props.children,o));return}Yt(s.type===ir,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Yt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=ju(s.props.children,o)),i.push(c)}),i}var jl="get",Gl="application/x-www-form-urlencoded";function Ql(u){return u!=null&&typeof u.tagName=="string"}function H0(u){return Ql(u)&&u.tagName.toLowerCase()==="button"}function z0(u){return Ql(u)&&u.tagName.toLowerCase()==="form"}function U0(u){return Ql(u)&&u.tagName.toLowerCase()==="input"}function B0(u){return!!(u.metaKey||u.altKey||u.ctrlKey||u.shiftKey)}function I0(u,t){return u.button===0&&(!t||t==="_self")&&!B0(u)}var Pl=null;function j0(){if(Pl===null)try{new FormData(document.createElement("form"),0),Pl=!1}catch{Pl=!0}return Pl}var G0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ku(u){return u!=null&&!G0.has(u)?(_i(!1,`"${u}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gl}"`),null):u}function q0(u,t){let i,s,r,o,c;if(z0(u)){let h=u.getAttribute("action");s=h?Yi(h,t):null,i=u.getAttribute("method")||jl,r=ku(u.getAttribute("enctype"))||Gl,o=new FormData(u)}else if(H0(u)||U0(u)&&(u.type==="submit"||u.type==="image")){let h=u.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=u.getAttribute("formaction")||h.getAttribute("action");if(s=f?Yi(f,t):null,i=u.getAttribute("formmethod")||h.getAttribute("method")||jl,r=ku(u.getAttribute("formenctype"))||ku(h.getAttribute("enctype"))||Gl,o=new FormData(h,u),!j0()){let{name:p,type:m,value:y}=u;if(m==="image"){let b=p?`${p}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else p&&o.append(p,y)}}else{if(Ql(u))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=jl,s=null,r=Gl,c=u}return o&&r==="text/plain"&&(c=o,o=void 0),{action:s,method:i.toLowerCase(),encType:r,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rh(u,t){if(u===!1||u===null||typeof u>"u")throw new Error(t)}function V0(u,t,i){let s=typeof u=="string"?new URL(u,typeof window>"u"?"server://singlefetch/":window.location.origin):u;return s.pathname==="/"?s.pathname=`_root.${i}`:t&&Yi(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function X0(u,t){if(u.id in t)return t[u.id];try{let i=await import(u.module);return t[u.id]=i,i}catch(i){return console.error(`Error loading route module \`${u.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Y0(u){return u==null?!1:u.href==null?u.rel==="preload"&&typeof u.imageSrcSet=="string"&&typeof u.imageSizes=="string":typeof u.rel=="string"&&typeof u.href=="string"}async function K0(u,t,i){let s=await Promise.all(u.map(async r=>{let o=t.routes[r.route.id];if(o){let c=await X0(o,i);return c.links?c.links():[]}return[]}));return Z0(s.flat(1).filter(Y0).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Og(u,t,i,s,r,o){let c=(f,p)=>i[p]?f.route.id!==i[p].route.id:!0,h=(f,p)=>i[p].pathname!==f.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,p)=>c(f,p)||h(f,p)):o==="data"?t.filter((f,p)=>{let m=s.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(c(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(u,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function $0(u,t,{includeHydrateFallback:i}={}){return W0(u.map(s=>{let r=t.routes[s.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),i&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function W0(u){return[...new Set(u)]}function Q0(u){let t={},i=Object.keys(u).sort();for(let s of i)t[s]=u[s];return t}function Z0(u,t){let i=new Set;return new Set(t),u.reduce((s,r)=>{let o=JSON.stringify(Q0(r));return i.has(o)||(i.add(o),s.push({key:o,link:r})),s},[])}function _m(){let u=L.useContext(Qs);return rh(u,"You must render this element inside a <DataRouterContext.Provider> element"),u}function J0(){let u=L.useContext(Wl);return rh(u,"You must render this element inside a <DataRouterStateContext.Provider> element"),u}var lh=L.createContext(void 0);lh.displayName="FrameworkContext";function Em(){let u=L.useContext(lh);return rh(u,"You must render this element inside a <HydratedRouter> element"),u}function tA(u,t){let i=L.useContext(lh),[s,r]=L.useState(!1),[o,c]=L.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:m,onTouchStart:y}=t,b=L.useRef(null);L.useEffect(()=>{if(u==="render"&&c(!0),u==="viewport"){let E=w=>{w.forEach(M=>{c(M.isIntersecting)})},x=new IntersectionObserver(E,{threshold:.5});return b.current&&x.observe(b.current),()=>{x.disconnect()}}},[u]),L.useEffect(()=>{if(s){let E=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(E)}}},[s]);let A=()=>{r(!0)},S=()=>{r(!1),c(!1)};return i?u!=="intent"?[o,b,{}]:[o,b,{onFocus:Za(h,A),onBlur:Za(f,S),onMouseEnter:Za(p,A),onMouseLeave:Za(m,S),onTouchStart:Za(y,A)}]:[!1,b,{}]}function Za(u,t){return i=>{u&&u(i),i.defaultPrevented||t(i)}}function eA({page:u,...t}){let{router:i}=_m(),s=L.useMemo(()=>hm(i.routes,u,i.basename),[i.routes,u,i.basename]);return s?L.createElement(nA,{page:u,matches:s,...t}):null}function iA(u){let{manifest:t,routeModules:i}=Em(),[s,r]=L.useState([]);return L.useEffect(()=>{let o=!1;return K0(u,t,i).then(c=>{o||r(c)}),()=>{o=!0}},[u,t,i]),s}function nA({page:u,matches:t,...i}){let s=Wn(),{manifest:r,routeModules:o}=Em(),{basename:c}=_m(),{loaderData:h,matches:f}=J0(),p=L.useMemo(()=>Og(u,t,f,r,s,"data"),[u,t,f,r,s]),m=L.useMemo(()=>Og(u,t,f,r,s,"assets"),[u,t,f,r,s]),y=L.useMemo(()=>{if(u===s.pathname+s.search+s.hash)return[];let S=new Set,E=!1;if(t.forEach(w=>{let M=r.routes[w.route.id];!M||!M.hasLoader||(!p.some(O=>O.route.id===w.route.id)&&w.route.id in h&&o[w.route.id]?.shouldRevalidate||M.hasClientLoader?E=!0:S.add(w.route.id))}),S.size===0)return[];let x=V0(u,c,"data");return E&&S.size>0&&x.searchParams.set("_routes",t.filter(w=>S.has(w.route.id)).map(w=>w.route.id).join(",")),[x.pathname+x.search]},[c,h,s,r,p,t,u,o]),b=L.useMemo(()=>$0(m,r),[m,r]),A=iA(m);return L.createElement(L.Fragment,null,y.map(S=>L.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...i})),b.map(S=>L.createElement("link",{key:S,rel:"modulepreload",href:S,...i})),A.map(({key:S,link:E})=>L.createElement("link",{key:S,...E})))}function sA(...u){return t=>{u.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var wm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wm&&(window.__reactRouterVersion="7.7.0")}catch{}function aA({basename:u,children:t,window:i}){let s=L.useRef();s.current==null&&(s.current=Xv({window:i,v5Compat:!0}));let r=s.current,[o,c]=L.useState({action:r.action,location:r.location}),h=L.useCallback(f=>{L.startTransition(()=>c(f))},[c]);return L.useLayoutEffect(()=>r.listen(h),[r,h]),L.createElement(P0,{basename:u,children:t,location:o.location,navigationType:o.action,navigator:r})}var xm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ar=L.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:r,reloadDocument:o,replace:c,state:h,target:f,to:p,preventScrollReset:m,viewTransition:y,...b},A){let{basename:S}=L.useContext(Ei),E=typeof p=="string"&&xm.test(p),x,w=!1;if(typeof p=="string"&&E&&(x=p,wm))try{let W=new URL(window.location.href),tt=p.startsWith("//")?new URL(W.protocol+p):new URL(p),J=Yi(tt.pathname,S);tt.origin===W.origin&&J!=null?p=J+tt.search+tt.hash:w=!0}catch{_i(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=v0(p,{relative:r}),[O,k,H]=tA(s,b),j=cA(p,{replace:c,state:h,target:f,preventScrollReset:m,relative:r,viewTransition:y});function X(W){t&&t(W),W.defaultPrevented||j(W)}let Z=L.createElement("a",{...b,...H,href:x||M,onClick:w||o?t:X,ref:sA(A,k),target:f,"data-discover":!E&&i==="render"?"true":void 0});return O&&!E?L.createElement(L.Fragment,null,Z,L.createElement(eA,{page:M})):Z});ar.displayName="Link";var rA=L.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:r=!1,style:o,to:c,viewTransition:h,children:f,...p},m){let y=fr(c,{relative:p.relative}),b=Wn(),A=L.useContext(Wl),{navigator:S,basename:E}=L.useContext(Ei),x=A!=null&&pA(y)&&h===!0,w=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,M=b.pathname,O=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;i||(M=M.toLowerCase(),O=O?O.toLowerCase():null,w=w.toLowerCase()),O&&E&&(O=Yi(O,E)||O);const k=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let H=M===w||!r&&M.startsWith(w)&&M.charAt(k)==="/",j=O!=null&&(O===w||!r&&O.startsWith(w)&&O.charAt(w.length)==="/"),X={isActive:H,isPending:j,isTransitioning:x},Z=H?t:void 0,W;typeof s=="function"?W=s(X):W=[s,H?"active":null,j?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let tt=typeof o=="function"?o(X):o;return L.createElement(ar,{...p,"aria-current":Z,className:W,ref:m,style:tt,to:c,viewTransition:h},typeof f=="function"?f(X):f)});rA.displayName="NavLink";var lA=L.forwardRef(({discover:u="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:r,state:o,method:c=jl,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:y,...b},A)=>{let S=dA(),E=fA(h,{relative:p}),x=c.toLowerCase()==="get"?"get":"post",w=typeof h=="string"&&xm.test(h),M=O=>{if(f&&f(O),O.defaultPrevented)return;O.preventDefault();let k=O.nativeEvent.submitter,H=k?.getAttribute("formmethod")||c;S(k||O.currentTarget,{fetcherKey:t,method:H,navigate:i,replace:r,state:o,relative:p,preventScrollReset:m,viewTransition:y})};return L.createElement("form",{ref:A,method:x,action:E,onSubmit:s?f:M,...b,"data-discover":!w&&u==="render"?"true":void 0})});lA.displayName="Form";function oA(u){return`${u} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tm(u){let t=L.useContext(Qs);return Yt(t,oA(u)),t}function cA(u,{target:t,replace:i,state:s,preventScrollReset:r,relative:o,viewTransition:c}={}){let h=A0(),f=Wn(),p=fr(u,{relative:o});return L.useCallback(m=>{if(I0(m,t)){m.preventDefault();let y=i!==void 0?i:cr(f)===cr(p);h(u,{replace:y,state:s,preventScrollReset:r,relative:o,viewTransition:c})}},[f,h,p,i,s,t,u,r,o,c])}var uA=0,hA=()=>`__${String(++uA)}__`;function dA(){let{router:u}=Tm("useSubmit"),{basename:t}=L.useContext(Ei),i=L0();return L.useCallback(async(s,r={})=>{let{action:o,method:c,encType:h,formData:f,body:p}=q0(s,t);if(r.navigate===!1){let m=r.fetcherKey||hA();await u.fetch(m,i,r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:p,formMethod:r.method||c,formEncType:r.encType||h,flushSync:r.flushSync})}else await u.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:p,formMethod:r.method||c,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:i,flushSync:r.flushSync,viewTransition:r.viewTransition})},[u,t,i])}function fA(u,{relative:t}={}){let{basename:i}=L.useContext(Ei),s=L.useContext(Ki);Yt(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),o={...fr(u||".",{relative:t})},c=Wn();if(u==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(m=>m==="")){h.delete("index"),f.filter(y=>y).forEach(y=>h.append("index",y));let m=h.toString();o.search=m?`?${m}`:""}}return(!u||u===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(o.pathname=o.pathname==="/"?i:Vi([i,o.pathname])),cr(o)}function pA(u,t={}){let i=L.useContext(ym);Yt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Tm("useViewTransitionState"),r=fr(u,{relative:t.relative});if(!i.isTransitioning)return!1;let o=Yi(i.currentLocation.pathname,s)||i.currentLocation.pathname,c=Yi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Yl(r.pathname,c)!=null||Yl(r.pathname,o)!=null}const gA=()=>K.jsx("nav",{className:"fixed top-0 left-0 w-full bg-white shadow z-50",children:K.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex justify-between items-center",children:[K.jsx("h1",{className:"text-xl font-bold text-blue-600",children:"Jacky.dev"}),K.jsxs("div",{className:"space-x-4 text-sm sm:text-base",children:[K.jsx(ar,{to:"/",className:"hover:underline text-gray-700",children:"Home"}),K.jsx(ar,{to:"/projects",className:"hover:underline text-gray-700",children:"Projects"}),K.jsx(ar,{to:"/Resume",className:"hover:underline text-gray-700",children:"Resume"})]})]})}),mA=()=>K.jsx(K.Fragment,{children:K.jsxs("section",{id:"about",className:"min-h-screen bg-gray-100 p-10 text-center pt-20",children:[K.jsx("h2",{className:"text-3xl font-semibold text-blue-600",children:"About Me"}),K.jsx("p",{className:"mt-4 text-gray-700 max-w-2xl mx-auto",children:"I'm currently an Electrical & Computer Engineering student at U of T. I love learning about technology, building projects, and exploring the intersection of hardware and software."})]})}),yA=()=>K.jsxs("section",{id:"contact",className:"min-h-screen bg-white p-10 text-center",children:[K.jsx("h2",{className:"text-3xl font-semibold text-blue-600",children:"Contact Me"}),K.jsxs("p",{className:"mt-4 text-gray-700",children:["Reach out via email at ",K.jsx("a",{href:"mailto:youremail@example.com",className:"text-blue-500 underline",children:"jackyjz.zhao@mail.utoronto.com"})]})]}),bA="/JZSITE2025/assets/selfie-C9EZfsXZ.jpg",vA=()=>K.jsxs(K.Fragment,{children:[K.jsxs("section",{id:"home",className:"h-screen flex flex-col justify-center items-center bg-blue-50 text-center px-6",children:[K.jsx("img",{src:bA,alt:"Jacky Zhao selfie",className:"w-52 h-52 md:w-64 md:h-64 rounded-full shadow-lg object-cover animate-fade-in mb-6"}),K.jsxs("h1",{className:"text-5xl font-bold text-blue-800 mb-2",children:["Hi, I'm Jacky Zhao ",K.jsx("span",{className:"animate-waving-hand inline-block",children:""})]}),K.jsx("p",{className:"text-xl text-gray-700 mb-4",children:"ECE Student at the University of Toronto"}),K.jsx("p",{className:"max-w-xl text-gray-600 text-lg",children:"I'm passionate about building engaging user experiences, solving engineering problems, and exploring the intersection of hardware and software. Welcome to my personal site!"})]}),K.jsx(mA,{}),K.jsx(yA,{})]});/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SA=u=>u.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,s)=>s?s.toUpperCase():i.toLowerCase()),kg=u=>{const t=SA(u);return t.charAt(0).toUpperCase()+t.slice(1)},Cm=(...u)=>u.filter((t,i,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===i).join(" ").trim(),_A=u=>{for(const t in u)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=L.forwardRef(({color:u="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:r="",children:o,iconNode:c,...h},f)=>L.createElement("svg",{ref:f,...EA,width:t,height:t,stroke:u,strokeWidth:s?Number(i)*24/Number(t):i,className:Cm("lucide",r),...!o&&!_A(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,m])=>L.createElement(p,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=(u,t)=>{const i=L.forwardRef(({className:s,...r},o)=>L.createElement(wA,{ref:o,iconNode:t,className:Cm(`lucide-${AA(kg(u))}`,`lucide-${u}`,s),...r}));return i.displayName=kg(u),i};/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],CA=xA("user",TA),RA="/JZSITE2025/assets/tasti-PWsqUm_b.png",MA="/JZSITE2025/assets/mario-D7n5154p.png",DA="/JZSITE2025/assets/sae-ISGSHTMM.png",LA="/JZSITE2025/assets/dbot-Boi2Gw6D.png",OA="/JZSITE2025/assets/soccermodel-B72rKOK5.png",kA="/JZSITE2025/assets/connectfour-KcggHhCT.png",NA="/JZSITE2025/assets/hack-C-gjxzpb.png",Ng=[{title:"MakeUoft 2026 Hackthon - Safety Beacon",description:"SafetyBeacon reads heart rate + motion + temperature/humidity on an ESP32, detects risky events (impact / abnormal HR / overheating), switches to WARNING, beeps until acknowledged, and sends compact JSON over BLE to an Android app. In WARNING it also includes GPS info (satellites + lat/lon) when available, and the Android app displays real-time status and data while giving feedback to the user to make decisions.",features:["ESP32 (Main Controller) + MAX30100 speaker (Power amplified speaker) + MPU6050 (Motion Sensor) + DHT11 (Temp & Humidity Sensor) + DFR1103(GPS)","ESP32 Programming: state machine (NORMAL/WARNING), sensor sampling, threshold logic, snapshot + GPS polling, BLE notify JSON","Android (Kotlin + Jetpack Compose): BLE scan/connect/subscribe, parse JSON, display live cards + raw JSON debug window"],tech:["ESP32","Sensors","BLE","C++","I2C","I2S","Kotlin","Android Studio"],teamSize:"3",duration:"24hrs",image:NA,github:"https://github.com/Jackyjz/2026MakethonTeam294c4",demo:"https://youtu.be/zDJP2vL_iGA",types:["Embedded","Software"]},{title:"Soccer Penalty Predication Web App",description:"A deep learning pipeline that predicts soccer penalty kick outcomes. Using YOLOv11 for player and ball detection and a CNN-LSTM model for temporal analysis, the system classifies shot direction (left, center, right) and outcome (goal or miss).",features:["Engineered a multi - staged model (YOLOv11 + ResNet-18 + LSTM pipeline) that predicted penalty outcomes (6 classes) with ~61% accuracy on unseen soccer penalty footage, proving feasibility without explicit ball tracking.","Collected and preprocessed soccer video datasets, enabling robust object detection of players and ball in challenging sports footage where datasets are scarce.","Deployed the trained model as a Streamlit web app, allowing real-time interactive demonstrations for coaches, analysts, and classmates"],tech:["Python","PyTorch","YOLOv11","OpenCV","Roboflow","Streamlit","Google Colab","Confusion Matrix Evaluation","Video Frame Preprocessing"],teamSize:"4",duration:"4 months",image:OA,github:"https://github.com/Jackyjz/APS360_Project",demo:"/video/360demo.mp4",types:["Software","ML"]},{title:"Tasti Map",description:"The map is an interactive city navigation tool that visualizes real-world maps, highlights intersections, and finds optimized driving routes with one-way and turn penalty handling. It also integrates real-time data from the Google Places API to help users find nearby restaurants by cuisine type, rating, and open status, making it easy to discover places to eat directly within the map",features:["Calculates fastest routes while handling one-way streets and turn penalties, just like real GPS systems.","Fully navigable interface with clickable intersections, street name search, and intersection highlighting","Dynamically fetches nearby restaurants by cuisine, rating, and open status based on user location","Designed and implemented a responsive and user-friendly graphics interface without using external frameworks","Collaborated across multiple milestones using Git, delivering a robust real-world application from backend to frontend"],tech:["C++","EZGL","GTK","OpenStreetMap","Google Places API","A* Search Algorithm","Greedy Heuristics","Dijkstra's Algorithm"],teamSize:"3",duration:"4 months",image:RA,demo:"/video/ece297demo.mp4",types:["Software"]},{title:"Shooting, Mario!",description:"Developed a custom retro platformer in C, running on the Nios II processor and displayed via VGA on an FPGA board.",features:["Designed game logic and player-object interactions using custom finite state machines (FSMs)","Rendered real-time VGA graphics (sprites, bullets, collisions) via memory-mapped video output","Implemented efficient bullet mechanics with background-preserving erasure logic","Player Interaction via PS2 keyboard input","Implemented real-time game audio on the DE1-SoC by configuring the audio codec and writing C drivers to generate and play sound effects triggered by player inputs.","Deployed on Altera DE1-SoC FPGA using hardware/software interfacing"],tech:["NIOS V","Embedded C","Memory-mapped I/O","VGA signal control Places API","PS2","Git"],image:MA,github:"https://github.com/Jackyjz/ECE243_Shooting_game_Project",teamSize:"2",duration:"2 months",types:["Hardware","Embedded"]},{title:"Electrical Team member, SAE Aero Design Team, UAS, University of Toronto Aerospace Team (UTAT)",description:"Focusing on Sensor and computer integration, Motor testing and motor-propeller matching, Circuit design and integration.",features:["Won the 5th place Overall in 2024, 2025 SAE Aero Design West competition (Advanced Class).","Won the 1st place design report award at the 2024, 2025 SAE Aero Design West competition.","Optimized flight system of the UT-24 Minerva and PADA planes. Working with electrical components such as receivers, servo motors, Electronic Speed Controller (ESC), Battery Eliminator Circuit (BEC), GPS, avionics battery, etc.","Paticipated in UT-25 Stratus Pixhawk PCB design (schematic stages) with heavily focusing on servo control."],tech:["Altium","Pixhawk","QGroundControl","Circuit","RC Receiver","KiCad","UART","PWM"],image:DA,teamSize:"6",duration:"2 years",types:["Hardware"]},{title:"Connect4 on FPGA",description:"Designed and implemented a hardware version of the Connect-4 game using Verilog (VHDL), integrating keyboard input, real-time VGA rendering, and rule-based game logic.",features:["Built and deployed on the Altera DE1-SoC FPGA board with external VGA monitor and PS/2 keyboard.","Controlled game flow including piece movement, dropping, win detection, and turn alternation with Finite State Machine (FSM).","Rendered a dynamic 7x6 Connect-4 board and updated in real time as players made moves with VGA signal pipeline.","Designed Verilog modules to manage board state, enforce turn-taking, check for win/draw conditions, and reset the board.","Verified design using DESim simulation and Quartus synthesis to ensure correctness before hardware deployment."],tech:["Altera DE1-SoC FPGA","Verilog","Quartus Prime","DESim","Memory-mapped I/O","FSM","VGA signal control","Git"],image:kA,github:"https://github.com/AlexGuo43/Connect4",teamSize:"2",duration:"2 months",types:["Hardware","Embedded"],demo:"https://youtu.be/0-wT1ND7T94?si=pzN3pM-h1FtUTOaL"},{title:"Website Backend Researcher",description:"Assisted a professor from ECE department in improving a website, designed to aid over 200 students within the ECE faculty at the University of Toronto",features:["Utilizing Discord.py to develop web applications and implement Discord Bot for students' communication across class channel","Implementing Discord REST API automating tasks via Discord's API","Utilizing database integration Django ORM for Storing, querying, and managing data efficiently","Handling API Keys and Bot Tokens with Secure Configuration and Token Management.","Utilizing Git command for source code management"],tech:["Python","discord.py","Django","Django ORM","REST API Integration","KiCad","UART","Git"],image:LA,teamSize:"6",duration:"3 months",types:["Software"]}],PA=["Website Backend Aid","Soccer Penalty Predication Web App"],FA=()=>{const[u,t]=L.useState("All"),i=["All","Hardware","Software","ML","Embedded"],s=L.useMemo(()=>u==="All"?Ng:Ng.filter(r=>(r.types||[]).includes(u)),[u]);return K.jsx("section",{className:"min-h-screen bg-blue-50 py-20 px-6",children:K.jsxs("div",{className:"max-w-6xl mx-auto",children:[K.jsx("h2",{className:"text-4xl font-bold text-center text-blue-800 mb-12",children:"My Projects"}),K.jsx("div",{className:"flex flex-wrap items-center justify-center gap-3 mb-10",children:i.map(r=>K.jsx("button",{onClick:()=>t(r),className:`px-4 py-2 rounded-xl border transition text-sm
                ${u===r?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"}`,children:r},r))}),K.jsx("div",{className:"grid md:grid-cols-2 gap-10",children:s.map((r,o)=>K.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition duration-300",children:[K.jsx("img",{src:r.image,alt:r.title,className:`w-full h-64 md:h-72 bg-white ${PA.includes(r.title)?"object-contain":"object-cover"}`}),K.jsxs("div",{className:"p-6",children:[K.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:(r.types||[]).map(c=>K.jsx("span",{className:"px-2.5 py-0.5 rounded-full text-xs bg-blue-50 text-blue-700 border border-blue-200",children:c},c))}),K.jsx("h3",{className:"text-2xl font-bold text-blue-700 mb-2",children:r.title}),K.jsx("p",{className:"text-gray-700 mb-3",children:r.description}),K.jsx("ul",{className:"list-disc list-inside text-gray-600 mb-4 space-y-1",children:r.features.map((c,h)=>K.jsx("li",{children:c},h))}),K.jsxs("div",{className:"flex flex-col gap-2 mt-4",children:[K.jsx("div",{className:"flex flex-wrap gap-2",children:r.tech.map((c,h)=>K.jsx("span",{className:"bg-gray-100 text-gray-800 px-3 py-1 rounded-md text-sm font-medium",children:c},h))}),K.jsxs("div",{className:"flex items-center text-gray-500 text-sm gap-2",children:[K.jsx("span",{children:"Team Size:"}),K.jsx("div",{className:"flex gap-[2px]",children:Array.from({length:r.teamSize}).map((c,h)=>K.jsx(CA,{className:"w-4 h-4"},h))})]}),K.jsxs("p",{className:" text-sm text-gray-500",children:["Duration: ",r.duration]}),K.jsxs("div",{className:"flex gap-4",children:[r.github&&K.jsx("a",{href:r.github,target:"_blank",rel:"noopener noreferrer",className:"bg-black text-white px-4 py-2 rounded hover:bg-gray-800 transition",children:"GitHub"}),r.demo&&K.jsx("a",{href:r.demo,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition",children:"Demo"})]})]})]})]},o))})]})})},HA=()=>K.jsxs("section",{className:"pt-20 min-h-screen p-10 bg-gradient-to-tr bg-blue-50 text-center",children:[K.jsx("h2",{className:"text-3xl font-bold text-blue-600",children:"My Hobbies"}),K.jsx("p",{className:"mt-4 text-gray-700",children:"I enjoy basketball , hiking , and coding fun projects !"})]}),zA="modulepreload",UA=function(u){return"/JZSITE2025/"+u},Pg={},Fl=function(t,i,s){let r=Promise.resolve();if(i&&i.length>0){let p=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var c=p;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=h?.nonce||h?.getAttribute("nonce");r=p(i.map(m=>{if(m=UA(m),m in Pg)return;Pg[m]=!0;const y=m.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${b}`))return;const A=document.createElement("link");if(A.rel=y?"stylesheet":zA,y||(A.as="script"),A.crossOrigin="",A.href=m,f&&A.setAttribute("nonce",f),document.head.appendChild(A),y)return new Promise((S,E)=>{A.addEventListener("load",S),A.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(h){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=h,window.dispatchEvent(f),!f.defaultPrevented)throw h}return r.then(h=>{for(const f of h||[])f.status==="rejected"&&o(f.reason);return t().catch(o)})};var rr={};rr.d=(u,t)=>{for(var i in t)rr.o(t,i)&&!rr.o(u,i)&&Object.defineProperty(u,i,{enumerable:!0,get:t[i]})};rr.o=(u,t)=>Object.prototype.hasOwnProperty.call(u,t);var bt=globalThis.pdfjsLib={};rr.d(bt,{AbortException:()=>Zn,AnnotationEditorLayer:()=>qi,AnnotationEditorParamsType:()=>pt,AnnotationEditorType:()=>At,AnnotationEditorUIManager:()=>An,AnnotationLayer:()=>H_,AnnotationMode:()=>vn,ColorPicker:()=>li,DOMSVGFactory:()=>_h,DrawLayer:()=>Ce,FeatureTest:()=>Oe,GlobalWorkerOptions:()=>or,ImageKind:()=>ql,InvalidPDFException:()=>Mm,MissingPDFException:()=>Qn,OPS:()=>fi,OutputScale:()=>Xu,PDFDataRangeTransport:()=>Ym,PDFDateString:()=>Lm,PDFWorker:()=>Gs,PasswordResponses:()=>GA,PermissionFlag:()=>jA,PixelsPerInch:()=>Ks,RenderingCancelledException:()=>uh,TextLayer:()=>Qu,UnexpectedResponseException:()=>eo,Util:()=>at,VerbosityLevel:()=>Zl,XfaLayer:()=>$m,build:()=>y_,createValidAbsoluteUrl:()=>YA,fetchData:()=>no,getDocument:()=>o_,getFilenameFromUrl:()=>iS,getPdfFilenameFromUrl:()=>nS,getXfaPageViewport:()=>sS,isDataScheme:()=>so,isPdfFile:()=>hh,noContextMenu:()=>oi,normalizeUnicode:()=>JA,setLayerDimensions:()=>Yn,shadow:()=>Ct,version:()=>m_});const Me=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Rm=[1,0,0,1,0,0],Gu=[.001,0,0,.001,0,0],BA=1e7,Nu=1.35,$e={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},vn={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},IA="pdfjs_internal_editor_",At={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},pt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},jA={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Te={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ql={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},oe={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Ja={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Zl={ERRORS:0,WARNINGS:1,INFOS:5},fi={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},GA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Jl=Zl.WARNINGS;function qA(u){Number.isInteger(u)&&(Jl=u)}function VA(){return Jl}function to(u){Jl>=Zl.INFOS&&console.log(`Info: ${u}`)}function _t(u){Jl>=Zl.WARNINGS&&console.log(`Warning: ${u}`)}function It(u){throw new Error(u)}function ue(u,t){u||It(t)}function XA(u){switch(u?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function YA(u,t=null,i=null){if(!u)return null;try{if(i&&typeof u=="string"&&(i.addDefaultProtocol&&u.startsWith("www.")&&u.match(/\./g)?.length>=2&&(u=`http://${u}`),i.tryConvertEncoding))try{u=ZA(u)}catch{}const s=t?new URL(u,t):new URL(u);if(XA(s))return s}catch{}return null}function Ct(u,t,i,s=!1){return Object.defineProperty(u,t,{value:i,enumerable:!s,configurable:!0,writable:!1}),i}const _n=function(){function t(i,s){this.message=i,this.name=s}return t.prototype=new Error,t.constructor=t,t}();class qu extends _n{constructor(t,i){super(t,"PasswordException"),this.code=i}}class Vu extends _n{constructor(t,i){super(t,"UnknownErrorException"),this.details=i}}class Mm extends _n{constructor(t){super(t,"InvalidPDFException")}}class Qn extends _n{constructor(t){super(t,"MissingPDFException")}}class eo extends _n{constructor(t,i){super(t,"UnexpectedResponseException"),this.status=i}}class KA extends _n{constructor(t){super(t,"FormatError")}}class Zn extends _n{constructor(t){super(t,"AbortException")}}function Dm(u){(typeof u!="object"||u?.length===void 0)&&It("Invalid argument for bytesToString");const t=u.length,i=8192;if(t<i)return String.fromCharCode.apply(null,u);const s=[];for(let r=0;r<t;r+=i){const o=Math.min(r+i,t),c=u.subarray(r,o);s.push(String.fromCharCode.apply(null,c))}return s.join("")}function io(u){typeof u!="string"&&It("Invalid argument for stringToBytes");const t=u.length,i=new Uint8Array(t);for(let s=0;s<t;++s)i[s]=u.charCodeAt(s)&255;return i}function $A(u){return String.fromCharCode(u>>24&255,u>>16&255,u>>8&255,u&255)}function oh(u){const t=Object.create(null);for(const[i,s]of u)t[i]=s;return t}function WA(){const u=new Uint8Array(4);return u[0]=1,new Uint32Array(u.buffer,0,1)[0]===1}function QA(){try{return new Function(""),!0}catch{return!1}}class Oe{static get isLittleEndian(){return Ct(this,"isLittleEndian",WA())}static get isEvalSupported(){return Ct(this,"isEvalSupported",QA())}static get isOffscreenCanvasSupported(){return Ct(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?Ct(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof navigator?.userAgent=="string"&&navigator.userAgent.includes("Firefox")}):Ct(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){return Ct(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Pu=Array.from(Array(256).keys(),u=>u.toString(16).padStart(2,"0"));class at{static makeHexColor(t,i,s){return`#${Pu[t]}${Pu[i]}${Pu[s]}`}static scaleMinMax(t,i){let s;t[0]?(t[0]<0&&(s=i[0],i[0]=i[2],i[2]=s),i[0]*=t[0],i[2]*=t[0],t[3]<0&&(s=i[1],i[1]=i[3],i[3]=s),i[1]*=t[3],i[3]*=t[3]):(s=i[0],i[0]=i[1],i[1]=s,s=i[2],i[2]=i[3],i[3]=s,t[1]<0&&(s=i[1],i[1]=i[3],i[3]=s),i[1]*=t[1],i[3]*=t[1],t[2]<0&&(s=i[0],i[0]=i[2],i[2]=s),i[0]*=t[2],i[2]*=t[2]),i[0]+=t[4],i[1]+=t[5],i[2]+=t[4],i[3]+=t[5]}static transform(t,i){return[t[0]*i[0]+t[2]*i[1],t[1]*i[0]+t[3]*i[1],t[0]*i[2]+t[2]*i[3],t[1]*i[2]+t[3]*i[3],t[0]*i[4]+t[2]*i[5]+t[4],t[1]*i[4]+t[3]*i[5]+t[5]]}static applyTransform(t,i){const s=t[0]*i[0]+t[1]*i[2]+i[4],r=t[0]*i[1]+t[1]*i[3]+i[5];return[s,r]}static applyInverseTransform(t,i){const s=i[0]*i[3]-i[1]*i[2],r=(t[0]*i[3]-t[1]*i[2]+i[2]*i[5]-i[4]*i[3])/s,o=(-t[0]*i[1]+t[1]*i[0]+i[4]*i[1]-i[5]*i[0])/s;return[r,o]}static getAxialAlignedBoundingBox(t,i){const s=this.applyTransform(t,i),r=this.applyTransform(t.slice(2,4),i),o=this.applyTransform([t[0],t[3]],i),c=this.applyTransform([t[2],t[1]],i);return[Math.min(s[0],r[0],o[0],c[0]),Math.min(s[1],r[1],o[1],c[1]),Math.max(s[0],r[0],o[0],c[0]),Math.max(s[1],r[1],o[1],c[1])]}static inverseTransform(t){const i=t[0]*t[3]-t[1]*t[2];return[t[3]/i,-t[1]/i,-t[2]/i,t[0]/i,(t[2]*t[5]-t[4]*t[3])/i,(t[4]*t[1]-t[5]*t[0])/i]}static singularValueDecompose2dScale(t){const i=[t[0],t[2],t[1],t[3]],s=t[0]*i[0]+t[1]*i[2],r=t[0]*i[1]+t[1]*i[3],o=t[2]*i[0]+t[3]*i[2],c=t[2]*i[1]+t[3]*i[3],h=(s+c)/2,f=Math.sqrt((s+c)**2-4*(s*c-o*r))/2,p=h+f||1,m=h-f||1;return[Math.sqrt(p),Math.sqrt(m)]}static normalizeRect(t){const i=t.slice(0);return t[0]>t[2]&&(i[0]=t[2],i[2]=t[0]),t[1]>t[3]&&(i[1]=t[3],i[3]=t[1]),i}static intersect(t,i){const s=Math.max(Math.min(t[0],t[2]),Math.min(i[0],i[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(i[0],i[2]));if(s>r)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(i[1],i[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(i[1],i[3]));return o>c?null:[s,o,r,c]}static#t(t,i,s,r,o,c,h,f,p,m){if(p<=0||p>=1)return;const y=1-p,b=p*p,A=b*p,S=y*(y*(y*t+3*p*i)+3*b*s)+A*r,E=y*(y*(y*o+3*p*c)+3*b*h)+A*f;m[0]=Math.min(m[0],S),m[1]=Math.min(m[1],E),m[2]=Math.max(m[2],S),m[3]=Math.max(m[3],E)}static#e(t,i,s,r,o,c,h,f,p,m,y,b){if(Math.abs(p)<1e-12){Math.abs(m)>=1e-12&&this.#t(t,i,s,r,o,c,h,f,-y/m,b);return}const A=m**2-4*y*p;if(A<0)return;const S=Math.sqrt(A),E=2*p;this.#t(t,i,s,r,o,c,h,f,(-m+S)/E,b),this.#t(t,i,s,r,o,c,h,f,(-m-S)/E,b)}static bezierBoundingBox(t,i,s,r,o,c,h,f,p){return p?(p[0]=Math.min(p[0],t,h),p[1]=Math.min(p[1],i,f),p[2]=Math.max(p[2],t,h),p[3]=Math.max(p[3],i,f)):p=[Math.min(t,h),Math.min(i,f),Math.max(t,h),Math.max(i,f)],this.#e(t,s,o,h,i,r,c,f,3*(-t+3*(s-o)+h),6*(t-2*s+o),3*(s-t),p),this.#e(t,s,o,h,i,r,c,f,3*(-i+3*(r-c)+f),6*(i-2*r+c),3*(r-i),p),p}}function ZA(u){return decodeURIComponent(escape(u))}let Fu=null,Fg=null;function JA(u){return Fu||(Fu=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Fg=new Map([["","t"]])),u.replaceAll(Fu,(t,i,s)=>i?i.normalize("NFKC"):Fg.get(s))}function tS(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const u=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(u);else for(let t=0;t<32;t++)u[t]=Math.floor(Math.random()*255);return Dm(u)}const ch="pdfjs_internal_id_",Ii={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function eS(u){return Uint8Array.prototype.toBase64?u.toBase64():btoa(Dm(u))}const Gi="http://www.w3.org/2000/svg";class Ks{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function no(u,t="text"){if(nr(u,document.baseURI)){const i=await fetch(u);if(!i.ok)throw new Error(i.statusText);switch(t){case"arraybuffer":return i.arrayBuffer();case"blob":return i.blob();case"json":return i.json()}return i.text()}return new Promise((i,s)=>{const r=new XMLHttpRequest;r.open("GET",u,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":i(r.response);return}i(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class pr{constructor({viewBox:t,scale:i,rotation:s,offsetX:r=0,offsetY:o=0,dontFlip:c=!1}){this.viewBox=t,this.scale=i,this.rotation=s,this.offsetX=r,this.offsetY=o;const h=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let p,m,y,b;switch(s%=360,s<0&&(s+=360),s){case 180:p=-1,m=0,y=0,b=1;break;case 90:p=0,m=1,y=1,b=0;break;case 270:p=0,m=-1,y=-1,b=0;break;case 0:p=1,m=0,y=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(y=-y,b=-b);let A,S,E,x;p===0?(A=Math.abs(f-t[1])*i+r,S=Math.abs(h-t[0])*i+o,E=(t[3]-t[1])*i,x=(t[2]-t[0])*i):(A=Math.abs(h-t[0])*i+r,S=Math.abs(f-t[1])*i+o,E=(t[2]-t[0])*i,x=(t[3]-t[1])*i),this.transform=[p*i,m*i,y*i,b*i,A-p*i*h-y*i*f,S-m*i*h-b*i*f],this.width=E,this.height=x}get rawDims(){const{viewBox:t}=this;return Ct(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:i=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new pr({viewBox:this.viewBox.slice(),scale:t,rotation:i,offsetX:s,offsetY:r,dontFlip:o})}convertToViewportPoint(t,i){return at.applyTransform([t,i],this.transform)}convertToViewportRectangle(t){const i=at.applyTransform([t[0],t[1]],this.transform),s=at.applyTransform([t[2],t[3]],this.transform);return[i[0],i[1],s[0],s[1]]}convertToPdfPoint(t,i){return at.applyInverseTransform([t,i],this.transform)}}class uh extends _n{constructor(t,i=0){super(t,"RenderingCancelledException"),this.extraDelay=i}}function so(u){const t=u.length;let i=0;for(;i<t&&u[i].trim()==="";)i++;return u.substring(i,i+5).toLowerCase()==="data:"}function hh(u){return typeof u=="string"&&/\.pdf$/i.test(u)}function iS(u){return[u]=u.split(/[#?]/,1),u.substring(u.lastIndexOf("/")+1)}function nS(u,t="document.pdf"){if(typeof u!="string")return t;if(so(u))return _t('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=i.exec(u);let o=s.exec(r[1])||s.exec(r[2])||s.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=s.exec(decodeURIComponent(o))[0]}catch{}return o||t}class Hg{started=Object.create(null);times=[];time(t){t in this.started&&_t(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||_t(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let i=0;for(const{name:s}of this.times)i=Math.max(s.length,i);for(const{name:s,start:r,end:o}of this.times)t.push(`${s.padEnd(i)} ${o-r}ms
`);return t.join("")}}function nr(u,t){try{const{protocol:i}=t?new URL(u,t):new URL(u);return i==="http:"||i==="https:"}catch{return!1}}function oi(u){u.preventDefault()}function zg(u){console.log("Deprecated API usage: "+u)}class Lm{static#t;static toDateObject(t){if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const i=this.#t.exec(t);if(!i)return null;const s=parseInt(i[1],10);let r=parseInt(i[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(i[3],10);o=o>=1&&o<=31?o:1;let c=parseInt(i[4],10);c=c>=0&&c<=23?c:0;let h=parseInt(i[5],10);h=h>=0&&h<=59?h:0;let f=parseInt(i[6],10);f=f>=0&&f<=59?f:0;const p=i[7]||"Z";let m=parseInt(i[8],10);m=m>=0&&m<=23?m:0;let y=parseInt(i[9],10)||0;return y=y>=0&&y<=59?y:0,p==="-"?(c+=m,h+=y):p==="+"&&(c-=m,h-=y),new Date(Date.UTC(s,r,o,c,h,f))}}function sS(u,{scale:t=1,rotation:i=0}){const{width:s,height:r}=u.attributes.style,o=[0,0,parseInt(s),parseInt(r)];return new pr({viewBox:o,scale:t,rotation:i})}function dh(u){if(u.startsWith("#")){const t=parseInt(u.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return u.startsWith("rgb(")?u.slice(4,-1).split(",").map(t=>parseInt(t)):u.startsWith("rgba(")?u.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(_t(`Not a valid color format: "${u}"`),[0,0,0])}function aS(u){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const i of u.keys()){t.style.color=i;const s=window.getComputedStyle(t).color;u.set(i,dh(s))}t.remove()}function Xt(u){const{a:t,b:i,c:s,d:r,e:o,f:c}=u.getTransform();return[t,i,s,r,o,c]}function ji(u){const{a:t,b:i,c:s,d:r,e:o,f:c}=u.getTransform().invertSelf();return[t,i,s,r,o,c]}function Yn(u,t,i=!1,s=!0){if(t instanceof pr){const{pageWidth:r,pageHeight:o}=t.rawDims,{style:c}=u,h=Oe.isCSSRoundSupported,f=`var(--scale-factor) * ${r}px`,p=`var(--scale-factor) * ${o}px`,m=h?`round(down, ${f}, var(--scale-round-x, 1px))`:`calc(${f})`,y=h?`round(down, ${p}, var(--scale-round-y, 1px))`:`calc(${p})`;!i||t.rotation%180===0?(c.width=m,c.height=y):(c.width=y,c.height=m)}s&&u.setAttribute("data-main-rotation",t.rotation)}class Xu{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}class lr{#t=null;#e=null;#i;#s=null;#a=null;static#n=null;constructor(t){this.#i=t,lr.#n||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const i=this.#i._uiManager._signal;t.addEventListener("contextmenu",oi,{signal:i}),t.addEventListener("pointerdown",lr.#o,{signal:i});const s=this.#s=document.createElement("div");s.className="buttons",t.append(s);const r=this.#i.toolbarPosition;if(r){const{style:o}=t,c=this.#i._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*c}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return this.#h(),t}get div(){return this.#t}static#o(t){t.stopPropagation()}#c(t){this.#i._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()}#u(t){this.#i._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()}#l(t){const i=this.#i._uiManager._signal;t.addEventListener("focusin",this.#c.bind(this),{capture:!0,signal:i}),t.addEventListener("focusout",this.#u.bind(this),{capture:!0,signal:i}),t.addEventListener("contextmenu",oi,{signal:i})}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown()}#h(){const{editorType:t,_uiManager:i}=this.#i,s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",lr.#n[t]),this.#l(s),s.addEventListener("click",r=>{i.delete()},{signal:i._signal}),this.#s.append(s)}get#r(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const i=await t.render();this.#l(i),this.#s.prepend(i,this.#r),this.#a=t}addColorPicker(t){this.#e=t;const i=t.renderButton();this.#l(i),this.#s.prepend(i,this.#r)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class rS{#t=null;#e=null;#i;constructor(t){this.#i=t}#s(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",oi,{signal:this.#i._signal});const i=this.#t=document.createElement("div");return i.className="buttons",t.append(i),this.#n(),t}#a(t,i){let s=0,r=0;for(const o of t){const c=o.y+o.height;if(c<s)continue;const h=o.x+(i?o.width:0);if(c>s){r=h,s=c;continue}i?h>r&&(r=h):h<r&&(r=h)}return[i?1-r:r,s]}show(t,i,s){const[r,o]=this.#a(i,s),{style:c}=this.#e||=this.#s();t.append(this.#e),c.insetInlineEnd=`${100*r}%`,c.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#n(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const i=document.createElement("span");t.append(i),i.className="visuallyHidden",i.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=this.#i._signal;t.addEventListener("contextmenu",oi,{signal:s}),t.addEventListener("click",()=>{this.#i.highlightSelection("floating_button")},{signal:s}),this.#t.append(t)}}function Kl(u,t,i){for(const s of i)t.addEventListener(s,u[s].bind(u))}function lS(u){return Math.round(Math.min(255,Math.max(1,255*u))).toString(16).padStart(2,"0")}class oS{#t=0;get id(){return`${IA}${this.#t++}`}}class fh{#t=tS();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const o=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return Ct(this,"_isSVGFittingCanvas",o)}async#s(t,i){this.#i||=new Map;let s=this.#i.get(t);if(s===null)return null;if(s?.bitmap)return s.refCounter+=1,s;try{s||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let r;if(typeof i=="string"?(s.url=i,r=await no(i,"blob")):i instanceof File?r=s.file=i:i instanceof Blob&&(r=i),r.type==="image/svg+xml"){const o=fh._isSVGFittingCanvas,c=new FileReader,h=new Image,f=new Promise((p,m)=>{h.onload=()=>{s.bitmap=h,s.isSvg=!0,p()},c.onload=async()=>{const y=s.svgUrl=c.result;h.src=await o?`${y}#svgView(preserveAspectRatio(none))`:y},h.onerror=c.onerror=m});c.readAsDataURL(r),await f}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){console.error(r),s=null}return this.#i.set(t,s),s&&this.#i.set(s.id,s),s}async getFromFile(t){const{lastModified:i,name:s,size:r,type:o}=t;return this.#s(`${i}_${s}_${r}_${o}`,t)}async getFromUrl(t){return this.#s(t,t)}async getFromBlob(t,i){const s=await i;return this.#s(t,s)}async getFromId(t){this.#i||=new Map;const i=this.#i.get(t);if(!i)return null;if(i.bitmap)return i.refCounter+=1,i;if(i.file)return this.getFromFile(i.file);if(i.blobPromise){const{blobPromise:s}=i;return delete i.blobPromise,this.getFromBlob(i.id,s)}return this.getFromUrl(i.url)}getFromCanvas(t,i){this.#i||=new Map;let s=this.#i.get(t);if(s?.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(i.width,i.height);return r.getContext("2d").drawImage(i,0,0),s={bitmap:r.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#i.set(t,s),this.#i.set(s.id,s),s}getSvgUrl(t){const i=this.#i.get(t);return i?.isSvg?i.svgUrl:null}deleteId(t){this.#i||=new Map;const i=this.#i.get(t);if(!i||(i.refCounter-=1,i.refCounter!==0))return;const{bitmap:s}=i;if(!i.url&&!i.file){const r=new OffscreenCanvas(s.width,s.height);r.getContext("bitmaprenderer").transferFromImageBitmap(s),i.blobPromise=r.convertToBlob()}s.close?.(),i.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class cS{#t=[];#e=!1;#i;#s=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:i,post:s,mustExec:r,type:o=NaN,overwriteIfSameType:c=!1,keepUndo:h=!1}){if(r&&t(),this.#e)return;const f={cmd:t,undo:i,post:s,type:o};if(this.#s===-1){this.#t.length>0&&(this.#t.length=0),this.#s=0,this.#t.push(f);return}if(c&&this.#t[this.#s].type===o){h&&(f.undo=this.#t[this.#s].undo),this.#t[this.#s]=f;return}const p=this.#s+1;p===this.#i?this.#t.splice(0,1):(this.#s=p,p<this.#t.length&&this.#t.splice(p)),this.#t.push(f)}undo(){if(this.#s===-1)return;this.#e=!0;const{undo:t,post:i}=this.#t[this.#s];t(),i?.(),this.#e=!1,this.#s-=1}redo(){if(this.#s<this.#t.length-1){this.#s+=1,this.#e=!0;const{cmd:t,post:i}=this.#t[this.#s];t(),i?.(),this.#e=!1}}hasSomethingToUndo(){return this.#s!==-1}hasSomethingToRedo(){return this.#s<this.#t.length-1}destroy(){this.#t=null}}class gr{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:i}=Oe.platform;for(const[s,r,o={}]of t)for(const c of s){const h=c.startsWith("mac+");i&&h?(this.callbacks.set(c.slice(4),{callback:r,options:o}),this.allKeys.add(c.split("+").at(-1))):!i&&!h&&(this.callbacks.set(c,{callback:r,options:o}),this.allKeys.add(c.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const i=this.buffer.join("+");return this.buffer.length=0,i}exec(t,i){if(!this.allKeys.has(i.key))return;const s=this.callbacks.get(this.#t(i));if(!s)return;const{callback:r,options:{bubbles:o=!1,args:c=[],checker:h=null}}=s;h&&!h(t,i)||(r.bind(t,...c,i)(),o||(i.stopPropagation(),i.preventDefault()))}}class ph{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return aS(t),Ct(this,"_colors",t)}convert(t){const i=dh(t);if(!window.matchMedia("(forced-colors: active)").matches)return i;for(const[s,r]of this._colors)if(r.every((o,c)=>o===i[c]))return ph._colorsMapping.get(s);return i}getHexCode(t){const i=this._colors.get(t);return i?at.makeHexColor(...i):t}}class An{#t=new AbortController;#e=null;#i=new Map;#s=new Map;#a=null;#n=null;#o=null;#c=new cS;#u=null;#l=0;#h=new Set;#r=null;#d=null;#p=new Set;#f=!1;#y=!1;#m=!1;#g=null;#b=null;#A=null;#T=null;#E=!1;#w=null;#P=new oS;#C=!1;#S=!1;#x=null;#R=null;#M=null;#O=null;#_=At.NONE;#v=new Set;#k=null;#N=null;#F=null;#j={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#U=[0,0];#H=null;#z=null;#I=null;#D=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=An.prototype,i=c=>c.#z.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),s=(c,{target:h})=>{if(h instanceof HTMLInputElement){const{type:f}=h;return f!=="text"&&f!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Ct(this,"_keyboardManager",new gr([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],t.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:s}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&c.#z.contains(h)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&c.#z.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:i}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:i}]]))}constructor(t,i,s,r,o,c,h,f,p,m,y){const b=this._signal=this.#t.signal;this.#z=t,this.#I=i,this.#a=s,this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:b}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),r._on("setpreference",this.onSetPreference.bind(this),{signal:b}),r._on("switchannotationeditorparams",A=>this.updateParams(A.type,A.value),{signal:b}),this.#tt(),this.#st(),this.#Y(),this.#n=o.annotationStorage,this.#g=o.filterFactory,this.#N=c,this.#T=h||null,this.#f=f,this.#y=p,this.#m=m,this.#O=y||null,this.viewParameters={realScale:Ks.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#D?.resolve(),this.#D=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#s.values())t.destroy();this.#s.clear(),this.#i.clear(),this.#p.clear(),this.#e=null,this.#v.clear(),this.#c.destroy(),this.#a?.destroy(),this.#w?.hide(),this.#w=null,this.#b&&(clearTimeout(this.#b),this.#b=null),this.#H&&(clearTimeout(this.#H),this.#H=null)}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#O}get useNewAltTextFlow(){return this.#y}get useNewAltTextWhenAddingImage(){return this.#m}get hcmFilter(){return Ct(this,"hcmFilter",this.#N?this.#g.addHCMFilter(this.#N.foreground,this.#N.background):"none")}get direction(){return Ct(this,"direction",getComputedStyle(this.#z).direction)}get highlightColors(){return Ct(this,"highlightColors",this.#T?new Map(this.#T.split(",").map(t=>t.split("=").map(i=>i.trim()))):null)}get highlightColorNames(){return Ct(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){this.#M=t}editAltText(t,i=!1){this.#a?.editAltText(this,t,i)}switchToMode(t,i){this._eventBus.on("annotationeditormodechanged",i,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,i){this._eventBus.dispatch("setpreference",{source:this,name:t,value:i})}onSetPreference({name:t,value:i}){switch(t){case"enableNewAltTextWhenAddingImage":this.#m=i;break}}onPageChanging({pageNumber:t}){this.#l=t-1}focusMainContainer(){this.#z.focus()}findParent(t,i){for(const s of this.#s.values()){const{x:r,y:o,width:c,height:h}=s.div.getBoundingClientRect();if(t>=r&&t<=r+c&&i>=o&&i<=o+h)return s}return null}disableUserSelect(t=!1){this.#I.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Ks.PDF_TO_CSS_UNITS;for(const i of this.#p)i.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#q({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#X(t){const{currentLayer:i}=this;if(i.hasTextLayer(t))return i;for(const s of this.#s.values())if(s.hasTextLayer(t))return s;return null}highlightSelection(t=""){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:c}=i,h=i.toString(),p=this.#q(i).closest(".textLayer"),m=this.getSelectionBoxes(p);if(!m)return;i.empty();const y=this.#X(p),b=this.#_===At.NONE,A=()=>{y?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:c,text:h}),b&&this.showAllEditors("highlight",!0,!0)};if(b){this.switchToMode(At.HIGHLIGHT,A);return}A()}#Z(){const t=document.getSelection();if(!t||t.isCollapsed)return;const s=this.#q(t).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(this.#w||=new rS(this),this.#w.show(s,r,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#n&&!this.#n.has(t.id)&&this.#n.setValue(t.id,t)}#J(){const t=document.getSelection();if(!t||t.isCollapsed){this.#k&&(this.#w?.hide(),this.#k=null,this.#L({hasSelectedText:!1}));return}const{anchorNode:i}=t;if(i===this.#k)return;const r=this.#q(t).closest(".textLayer");if(!r){this.#k&&(this.#w?.hide(),this.#k=null,this.#L({hasSelectedText:!1}));return}if(this.#w?.hide(),this.#k=i,this.#L({hasSelectedText:!0}),!(this.#_!==At.HIGHLIGHT&&this.#_!==At.NONE)&&(this.#_===At.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#E=this.isShiftKeyDown,!this.isShiftKeyDown)){const o=this.#_===At.HIGHLIGHT?this.#X(r):null;o?.toggleDrawing();const c=new AbortController,h=this.combinedSignal(c),f=p=>{p.type==="pointerup"&&p.button!==0||(c.abort(),o?.toggleDrawing(!0),p.type==="pointerup"&&this.#V("main_toolbar"))};window.addEventListener("pointerup",f,{signal:h}),window.addEventListener("blur",f,{signal:h})}}#V(t=""){this.#_===At.HIGHLIGHT?this.highlightSelection(t):this.#f&&this.#Z()}#tt(){document.addEventListener("selectionchange",this.#J.bind(this),{signal:this._signal})}#et(){if(this.#A)return;this.#A=new AbortController;const t=this.combinedSignal(this.#A);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#it(){this.#A?.abort(),this.#A=null}blur(){if(this.isShiftKeyDown=!1,this.#E&&(this.#E=!1,this.#V("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const i of this.#v)if(i.div.contains(t)){this.#R=[i,t],i._focusEventsAllowed=!1;break}}focus(){if(!this.#R)return;const[t,i]=this.#R;this.#R=null,i.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),i.focus()}#Y(){if(this.#x)return;this.#x=new AbortController;const t=this.combinedSignal(this.#x);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#nt(){this.#x?.abort(),this.#x=null}#K(){if(this.#u)return;this.#u=new AbortController;const t=this.combinedSignal(this.#u);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#$(){this.#u?.abort(),this.#u=null}#st(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#Y(),this.#K()}removeEditListeners(){this.#nt(),this.#$()}dragOver(t){for(const{type:i}of t.dataTransfer.items)for(const s of this.#d)if(s.isHandlingMimeForPasting(i)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const i of t.dataTransfer.items)for(const s of this.#d)if(s.isHandlingMimeForPasting(i.type)){s.paste(i,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const i=[];for(const s of this.#v){const r=s.serialize(!0);r&&i.push(r)}i.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(i))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:i}=t;for(const o of i.items)for(const c of this.#d)if(c.isHandlingMimeForPasting(o.type)){c.paste(o,this.currentLayer);return}let s=i.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(o){_t(`paste: "${o.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const f of s){const p=await r.deserialize(f);if(!p)return;o.push(p)}const c=()=>{for(const f of o)this.#W(f);this.#Q(o)},h=()=>{for(const f of o)f.remove()};this.addCommands({cmd:c,undo:h,mustExec:!0})}catch(o){_t(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#_!==At.NONE&&!this.isEditorHandlingKeyboard&&An._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#E&&(this.#E=!1,this.#V("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#L(t){Object.entries(t).some(([s,r])=>this.#j[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#j,t)}),this.#_===At.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#B([[pt.HIGHLIGHT_FREE,!0]]))}#B(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#et(),this.#K(),this.#L({isEditing:this.#_!==At.NONE,isEmpty:this.#G(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#it(),this.#$(),this.#L({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#d){this.#d=t;for(const i of this.#d)this.#B(i.defaultPropertiesToUpdate)}}getId(){return this.#P.id}get currentLayer(){return this.#s.get(this.#l)}getLayer(t){return this.#s.get(t)}get currentPageIndex(){return this.#l}addLayer(t){this.#s.set(t.pageIndex,t),this.#C?t.enable():t.disable()}removeLayer(t){this.#s.delete(t.pageIndex)}async updateMode(t,i=null,s=!1){if(this.#_!==t&&!(this.#D&&(await this.#D.promise,!this.#D))){if(this.#D=Promise.withResolvers(),this.#_=t,t===At.NONE){this.setEditingState(!1),this.#rt(),this.#D.resolve();return}this.setEditingState(!0),await this.#at(),this.unselectAll();for(const r of this.#s.values())r.updateMode(t);if(!i){s&&this.addNewEditorFromKeyboard(),this.#D.resolve();return}for(const r of this.#i.values())r.annotationElementId===i?(this.setSelected(r),r.enterInEditMode()):r.unselect();this.#D.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==this.#_&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,i){if(this.#d){switch(t){case pt.CREATE:this.currentLayer.addNewEditor();return;case pt.HIGHLIGHT_DEFAULT_COLOR:this.#M?.updateColor(i);break;case pt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#F||=new Map).set(t,i),this.showAllEditors("highlight",i);break}for(const s of this.#v)s.updateParams(t,i);for(const s of this.#d)s.updateDefaultParams(t,i)}}showAllEditors(t,i,s=!1){for(const o of this.#i.values())o.editorType===t&&o.show(i);(this.#F?.get(pt.HIGHLIGHT_SHOW_ALL)??!0)!==i&&this.#B([[pt.HIGHLIGHT_SHOW_ALL,i]])}enableWaiting(t=!1){if(this.#S!==t){this.#S=t;for(const i of this.#s.values())t?i.disableClick():i.enableClick(),i.div.classList.toggle("waiting",t)}}async#at(){if(!this.#C){this.#C=!0;const t=[];for(const i of this.#s.values())t.push(i.enable());await Promise.all(t);for(const i of this.#i.values())i.enable()}}#rt(){if(this.unselectAll(),this.#C){this.#C=!1;for(const t of this.#s.values())t.disable();for(const t of this.#i.values())t.disable()}}getEditors(t){const i=[];for(const s of this.#i.values())s.pageIndex===t&&i.push(s);return i}getEditor(t){return this.#i.get(t)}addEditor(t){this.#i.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.focusMainContainer(),this.#b=null},0)),this.#i.delete(t.id),this.unselect(t),(!t.annotationElementId||!this.#h.has(t.annotationElementId))&&this.#n?.remove(t.id)}addDeletedAnnotationElement(t){this.#h.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#h.has(t)}removeDeletedAnnotationElement(t){this.#h.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#W(t){const i=this.#s.get(t.pageIndex);i?i.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#B(t.propertiesToUpdate))}get#lt(){let t=null;for(t of this.#v);return t}updateUI(t){this.#lt===t&&this.#B(t.propertiesToUpdate)}toggleSelected(t){if(this.#v.has(t)){this.#v.delete(t),t.unselect(),this.#L({hasSelectedEditor:this.hasSelection});return}this.#v.add(t),t.select(),this.#B(t.propertiesToUpdate),this.#L({hasSelectedEditor:!0})}setSelected(t){for(const i of this.#v)i!==t&&i.unselect();this.#v.clear(),this.#v.add(t),t.select(),this.#B(t.propertiesToUpdate),this.#L({hasSelectedEditor:!0})}isSelected(t){return this.#v.has(t)}get firstSelectedEditor(){return this.#v.values().next().value}unselect(t){t.unselect(),this.#v.delete(t),this.#L({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#v.size!==0}get isEnterHandled(){return this.#v.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#L({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#G()})}redo(){this.#c.redo(),this.#L({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#G()})}addCommands(t){this.#c.add(t),this.#L({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#G()})}#G(){if(this.#i.size===0)return!0;if(this.#i.size===1)for(const t of this.#i.values())return t.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...this.#v],i=()=>{for(const r of t)r.remove()},s=()=>{for(const r of t)this.#W(r)};this.addCommands({cmd:i,undo:s,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#Q(t){for(const i of this.#v)i.unselect();this.#v.clear();for(const i of t)i.isEmpty()||(this.#v.add(i),i.select());this.#L({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#v)t.commit();this.#Q(this.#i.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#_!==At.NONE))&&this.hasSelection){for(const t of this.#v)t.unselect();this.#v.clear(),this.#L({hasSelectedEditor:!1})}}translateSelectedEditors(t,i,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;this.#U[0]+=t,this.#U[1]+=i;const[r,o]=this.#U,c=[...this.#v],h=1e3;this.#H&&clearTimeout(this.#H),this.#H=setTimeout(()=>{this.#H=null,this.#U[0]=this.#U[1]=0,this.addCommands({cmd:()=>{for(const f of c)this.#i.has(f.id)&&f.translateInPage(r,o)},undo:()=>{for(const f of c)this.#i.has(f.id)&&f.translateInPage(-r,-o)},mustExec:!1})},h);for(const f of c)f.translateInPage(t,i)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#r=new Map;for(const t of this.#v)this.#r.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#r)return!1;this.disableUserSelect(!1);const t=this.#r;this.#r=null;let i=!1;for(const[{x:r,y:o,pageIndex:c},h]of t)h.newX=r,h.newY=o,h.newPageIndex=c,i||=r!==h.savedX||o!==h.savedY||c!==h.savedPageIndex;if(!i)return!1;const s=(r,o,c,h)=>{if(this.#i.has(r.id)){const f=this.#s.get(h);f?r._setParentAndPosition(f,o,c):(r.pageIndex=h,r.x=o,r.y=c)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:c,newPageIndex:h}]of t)s(r,o,c,h)},undo:()=>{for(const[r,{savedX:o,savedY:c,savedPageIndex:h}]of t)s(r,o,c,h)},mustExec:!0}),!0}dragSelectedEditors(t,i){if(this.#r)for(const s of this.#r.keys())s.drag(t,i)}rebuild(t){if(t.parent===null){const i=this.getLayer(t.pageIndex);i?(i.changeParent(t),i.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#v.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#_}get imageManager(){return Ct(this,"imageManager",new fh)}getSelectionBoxes(t){if(!t)return null;const i=document.getSelection();for(let p=0,m=i.rangeCount;p<m;p++)if(!t.contains(i.getRangeAt(p).commonAncestorContainer))return null;const{x:s,y:r,width:o,height:c}=t.getBoundingClientRect();let h;switch(t.getAttribute("data-main-rotation")){case"90":h=(p,m,y,b)=>({x:(m-r)/c,y:1-(p+y-s)/o,width:b/c,height:y/o});break;case"180":h=(p,m,y,b)=>({x:1-(p+y-s)/o,y:1-(m+b-r)/c,width:y/o,height:b/c});break;case"270":h=(p,m,y,b)=>({x:1-(m+b-r)/c,y:(p-s)/o,width:b/c,height:y/o});break;default:h=(p,m,y,b)=>({x:(p-s)/o,y:(m-r)/c,width:y/o,height:b/c});break}const f=[];for(let p=0,m=i.rangeCount;p<m;p++){const y=i.getRangeAt(p);if(!y.collapsed)for(const{x:b,y:A,width:S,height:E}of y.getClientRects())S===0||E===0||f.push(h(b,A,S,E))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:t,id:i}){(this.#o||=new Map).set(t,i)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const i=this.#o?.get(t.data.id);if(!i)return;const s=this.#n.getRawValue(i);s&&(this.#_===At.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}}class Si{#t=null;#e=!1;#i=null;#s=null;#a=null;#n=null;#o=!1;#c=null;#u=null;#l=null;#h=null;#r=!1;static#d=null;static _l10n=null;constructor(t){this.#u=t,this.#r=t._uiManager.useNewAltTextFlow,Si.#d||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Si._l10n??=t}async render(){const t=this.#i=document.createElement("button");t.className="altText",t.tabIndex="0";const i=this.#s=document.createElement("span");t.append(i),this.#r?(t.classList.add("new"),t.setAttribute("data-l10n-id",Si.#d.missing),i.setAttribute("data-l10n-id",Si.#d["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=this.#u._uiManager._signal;t.addEventListener("contextmenu",oi,{signal:s}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:s});const r=o=>{o.preventDefault(),this.#u._uiManager.editAltText(this.#u),this.#r&&this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#p}})};return t.addEventListener("click",r,{capture:!0,signal:s}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#o=!0,r(o))},{signal:s}),await this.#f(),t}get#p(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#o}),this.#o=!1)}isEmpty(){return this.#r?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#r?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#h=await Si._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#f())}toggleAltTextBadge(t=!1){if(!this.#r||this.#t){this.#c?.remove(),this.#c=null;return}if(!this.#c){const i=this.#c=document.createElement("div");i.className="noAltTextBadge",this.#u.div.append(i)}this.#c.classList.toggle("hidden",!t)}serialize(t){let i=this.#t;return!t&&this.#l===i&&(i=this.#h),{altText:i,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:i,guessedText:s,textWithDisclaimer:r,cancel:o=!1}){s&&(this.#l=s,this.#h=r),!(this.#t===t&&this.#e===i)&&(o||(this.#t=t,this.#e=i),this.#f())}toggle(t=!1){this.#i&&(!t&&this.#n&&(clearTimeout(this.#n),this.#n=null),this.#i.disabled=!t)}shown(){this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#p}})}destroy(){this.#i?.remove(),this.#i=null,this.#s=null,this.#a=null,this.#c?.remove(),this.#c=null}async#f(){const t=this.#i;if(!t)return;if(this.#r){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",Si.#d[this.#p]),this.#s?.setAttribute("data-l10n-id",Si.#d[`${this.#p}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let i=this.#a;if(!i){this.#a=i=document.createElement("span"),i.className="tooltip",i.setAttribute("role","tooltip"),i.id=`alt-text-tooltip-${this.#u.id}`;const r=100,o=this.#u._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(this.#n),this.#n=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#n=setTimeout(()=>{this.#n=null,this.#a.classList.add("show"),this.#u._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:o}),t.addEventListener("mouseleave",()=>{this.#n&&(clearTimeout(this.#n),this.#n=null),this.#a?.classList.remove("show")},{signal:o})}this.#e?i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(i.removeAttribute("data-l10n-id"),i.textContent=this.#t),i.parentNode||t.append(i),this.#u.getImageForAltText()?.setAttribute("aria-describedby",i.id)}}class ft{#t=null;#e=null;#i=null;#s=!1;#a=!1;#n=null;#o=null;#c=null;#u="";#l=!1;#h=null;#r=!1;#d=!1;#p=!1;#f=null;#y=0;#m=0;#g=null;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#b=!1;#A=ft._zIndex++;static _borderLineWidth=-1;static _colorManager=new ph;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=ft.prototype._resizeWithKeyboard,i=An.TRANSLATE_SMALL,s=An.TRANSLATE_BIG;return Ct(this,"_resizerKeyboardManager",new gr([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-i,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[i,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-i]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,i]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,s]}],[["Escape","mac+Escape"],ft.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:i,rawDims:{pageWidth:s,pageHeight:r,pageX:o,pageY:c}}=this.parent.viewport;this.rotation=i,this.pageRotation=(360+i-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[o,c];const[h,f]=this.parentDimensions;this.x=t.x/h,this.y=t.y/f,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ct(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const i=new uS({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});i.annotationElementId=t.annotationElementId,i.deleted=!0,i._uiManager.addToAnnotationStorage(i)}static initialize(t,i){if(ft._l10n??=t,ft._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),ft._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);ft._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,i){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,i){It("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#b}set _isDraggable(t){this.#b=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,i]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*i/(t*2),this.y+=this.width*t/(i*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*i/(t*2),this.y-=this.width*t/(i*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#A}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#F(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#l?this.#l=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,i,s,r){const[o,c]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(t+s)/o,this.y=(i+r)/c,this.fixAndSetPosition()}#T([t,i],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/t,this.y+=r/i,this.fixAndSetPosition()}translate(t,i){this.#T(this.parentDimensions,t,i)}translateInPage(t,i){this.#h||=[this.x,this.y],this.#T(this.pageDimensions,t,i),this.div.scrollIntoView({block:"nearest"})}drag(t,i){this.#h||=[this.x,this.y];const[s,r]=this.parentDimensions;if(this.x+=t/s,this.y+=i/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:c}=this;const[h,f]=this.getBaseTranslation();o+=h,c+=f,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*c).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#h&&(this.#h[0]!==this.x||this.#h[1]!==this.y)}getBaseTranslation(){const[t,i]=this.parentDimensions,{_borderLineWidth:s}=ft,r=s/t,o=s/i;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[i,s]=this.pageDimensions;let{x:r,y:o,width:c,height:h}=this;if(c*=i,h*=s,r*=i,o*=s,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(i-c,r)),o=Math.max(0,Math.min(s-h,o));break;case 90:r=Math.max(0,Math.min(i-h,r)),o=Math.min(s,Math.max(c,o));break;case 180:r=Math.min(i,Math.max(c,r)),o=Math.min(s,Math.max(h,o));break;case 270:r=Math.min(i,Math.max(h,r)),o=Math.max(0,Math.min(s-c,o));break}this.x=r/=i,this.y=o/=s;const[f,p]=this.getBaseTranslation();r+=f,o+=p;const{style:m}=this.div;m.left=`${(100*r).toFixed(2)}%`,m.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}static#E(t,i,s){switch(s){case 90:return[i,-t];case 180:return[-t,-i];case 270:return[-i,t];default:return[t,i]}}screenToPageTranslation(t,i){return ft.#E(t,i,this.parentRotation)}pageTranslationToScreen(t,i){return ft.#E(t,i,360-this.parentRotation)}#w(t){switch(t){case 90:{const[i,s]=this.pageDimensions;return[0,-i/s,s/i,0]}case 180:return[-1,0,0,-1];case 270:{const[i,s]=this.pageDimensions;return[0,i/s,-s/i,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[i,s]}=this;return[i*t,s*t]}setDims(t,i){const[s,r]=this.parentDimensions;this.div.style.width=`${(100*t/s).toFixed(2)}%`,this.#a||(this.div.style.height=`${(100*i/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:i,width:s}=t,r=s.endsWith("%"),o=!this.#a&&i.endsWith("%");if(r&&o)return;const[c,h]=this.parentDimensions;r||(t.width=`${(100*parseFloat(s)/c).toFixed(2)}%`),!this.#a&&!o&&(t.height=`${(100*parseFloat(i)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#P(){if(this.#n)return;this.#n=document.createElement("div"),this.#n.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],i=this._uiManager._signal;for(const s of t){const r=document.createElement("div");this.#n.append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",this.#C.bind(this,s),{signal:i}),r.addEventListener("contextmenu",oi,{signal:i}),r.tabIndex=-1}this.div.prepend(this.#n)}#C(t,i){i.preventDefault();const{isMac:s}=Oe.platform;if(i.button!==0||i.ctrlKey&&s)return;this.#i?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const o=new AbortController,c=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#x.bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("contextmenu",oi,{signal:c});const h=this.x,f=this.y,p=this.width,m=this.height,y=this.parent.div.style.cursor,b=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(i.target).cursor;const A=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=y,this.div.style.cursor=b,this.#S(h,f,p,m)};window.addEventListener("pointerup",A,{signal:c}),window.addEventListener("blur",A,{signal:c})}#S(t,i,s,r){const o=this.x,c=this.y,h=this.width,f=this.height;o===t&&c===i&&h===s&&f===r||this.addCommands({cmd:()=>{this.width=h,this.height=f,this.x=o,this.y=c;const[p,m]=this.parentDimensions;this.setDims(p*h,m*f),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=r,this.x=t,this.y=i;const[p,m]=this.parentDimensions;this.setDims(p*s,m*r),this.fixAndSetPosition()},mustExec:!0})}#x(t,i){const[s,r]=this.parentDimensions,o=this.x,c=this.y,h=this.width,f=this.height,p=ft.MIN_SIZE/s,m=ft.MIN_SIZE/r,y=B=>Math.round(B*1e4)/1e4,b=this.#w(this.rotation),A=(B,Y)=>[b[0]*B+b[2]*Y,b[1]*B+b[3]*Y],S=this.#w(360-this.rotation),E=(B,Y)=>[S[0]*B+S[2]*Y,S[1]*B+S[3]*Y];let x,w,M=!1,O=!1;switch(t){case"topLeft":M=!0,x=(B,Y)=>[0,0],w=(B,Y)=>[B,Y];break;case"topMiddle":x=(B,Y)=>[B/2,0],w=(B,Y)=>[B/2,Y];break;case"topRight":M=!0,x=(B,Y)=>[B,0],w=(B,Y)=>[0,Y];break;case"middleRight":O=!0,x=(B,Y)=>[B,Y/2],w=(B,Y)=>[0,Y/2];break;case"bottomRight":M=!0,x=(B,Y)=>[B,Y],w=(B,Y)=>[0,0];break;case"bottomMiddle":x=(B,Y)=>[B/2,Y],w=(B,Y)=>[B/2,0];break;case"bottomLeft":M=!0,x=(B,Y)=>[0,Y],w=(B,Y)=>[B,0];break;case"middleLeft":O=!0,x=(B,Y)=>[0,Y/2],w=(B,Y)=>[B,Y/2];break}const k=x(h,f),H=w(h,f);let j=A(...H);const X=y(o+j[0]),Z=y(c+j[1]);let W=1,tt=1,[J,ot]=this.screenToPageTranslation(i.movementX,i.movementY);if([J,ot]=E(J/s,ot/r),M){const B=Math.hypot(h,f);W=tt=Math.max(Math.min(Math.hypot(H[0]-k[0]-J,H[1]-k[1]-ot)/B,1/h,1/f),p/h,m/f)}else O?W=Math.max(p,Math.min(1,Math.abs(H[0]-k[0]-J)))/h:tt=Math.max(m,Math.min(1,Math.abs(H[1]-k[1]-ot)))/f;const dt=y(h*W),ht=y(f*tt);j=A(...w(dt,ht));const rt=X-j[0],P=Z-j[1];this.width=dt,this.height=ht,this.x=rt,this.y=P,this.setDims(s*dt,r*ht),this.fixAndSetPosition()}altTextFinish(){this.#i?.finish()}async addEditToolbar(){return this._editToolbar||this.#d?this._editToolbar:(this._editToolbar=new lr(this),this.div.append(this._editToolbar.render()),this.#i&&await this._editToolbar.addAltText(this.#i),this._editToolbar)}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#i?.destroy())}addContainer(t){const i=this._editToolbar?.div;i?i.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#i||(Si.initialize(ft._l10n),this.#i=new Si(this),this.#t&&(this.#i.data=this.#t,this.#t=null),await this.addEditToolbar())}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(t){await this.#i?.setGuessedText(t)}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#s?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.#O();const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*i/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),Kl(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:i}=Oe.platform;if(t.button!==0||t.ctrlKey&&i){t.preventDefault();return}if(this.#l=!0,this._isDraggable){this.#M(t);return}this.#R(t)}get isSelected(){return this._uiManager.isSelected(this)}#R(t){const{isMac:i}=Oe.platform;t.ctrlKey&&!i||t.shiftKey||t.metaKey&&i?this.parent.toggleSelected(this):this.parent.setSelected(this)}#M(t){const{isSelected:i}=this;this._uiManager.setUpDragSession();const s=new AbortController,r=this._uiManager.combinedSignal(s);if(i){this.div.classList.add("moving"),this.#y=t.clientX,this.#m=t.clientY;const c=h=>{const{clientX:f,clientY:p}=h,[m,y]=this.screenToPageTranslation(f-this.#y,p-this.#m);this.#y=f,this.#m=p,this._uiManager.dragSelectedEditors(m,y)};window.addEventListener("pointermove",c,{passive:!0,capture:!0,signal:r})}const o=()=>{s.abort(),i&&this.div.classList.remove("moving"),this.#l=!1,this._uiManager.endDragSession()||this.#R(t)};window.addEventListener("pointerup",o,{signal:r}),window.addEventListener("blur",o,{signal:r})}moveInDOM(){this.#f&&clearTimeout(this.#f),this.#f=setTimeout(()=>{this.#f=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,i,s){t.changeParent(this),this.x=i,this.y=s,this.fixAndSetPosition()}getRect(t,i,s=this.rotation){const r=this.parentScale,[o,c]=this.pageDimensions,[h,f]=this.pageTranslation,p=t/r,m=i/r,y=this.x*o,b=this.y*c,A=this.width*o,S=this.height*c;switch(s){case 0:return[y+p+h,c-b-m-S+f,y+p+A+h,c-b-m+f];case 90:return[y+m+h,c-b+p+f,y+m+S+h,c-b+p+A+f];case 180:return[y-p-A+h,c-b+m+f,y-p+h,c-b+m+S+f];case 270:return[y-m-S+h,c-b-p-A+f,y-m+h,c-b-p+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,i){const[s,r,o,c]=t,h=o-s,f=c-r;switch(this.rotation){case 0:return[s,i-c,h,f];case 90:return[s,i-r,f,h];case 180:return[o,i-r,h,f];case 270:return[o,i-c,f,h];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return this.#p}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}#O(){if(this.#c||!this.div)return;this.#c=new AbortController;const t=this._uiManager.combinedSignal(this.#c);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#O()}rotate(t){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,i=null){It("An editor must be serializable")}static async deserialize(t,i,s){const r=new this.prototype.constructor({parent:i,id:i.getNextId(),uiManager:s});r.rotation=t.rotation,r.#t=t.accessibilityData;const[o,c]=r.pageDimensions,[h,f,p,m]=r.getRectInCurrentCoords(t.rect,c);return r.x=h/o,r.y=f/c,r.width=p/o,r.height=m/c,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#c?.abort(),this.#c=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#f&&(clearTimeout(this.#f),this.#f=null),this.#F(),this.removeEditToolbar(),this.#g){for(const t of this.#g.values())clearTimeout(t);this.#g=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#P(),this.#n.classList.remove("hidden"),Kl(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#o={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const i=this.#n.children;if(!this.#e){this.#e=Array.from(i);const c=this.#_.bind(this),h=this.#v.bind(this),f=this._uiManager._signal;for(const p of this.#e){const m=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",c,{signal:f}),p.addEventListener("blur",h,{signal:f}),p.addEventListener("focus",this.#k.bind(this,m),{signal:f}),p.setAttribute("data-l10n-id",ft._l10nResizer[m])}}const s=this.#e[0];let r=0;for(const c of i){if(c===s)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(o!==r){if(o<r)for(let h=0;h<r-o;h++)this.#n.append(this.#n.firstChild);else if(o>r)for(let h=0;h<o-r;h++)this.#n.firstChild.before(this.#n.lastChild);let c=0;for(const h of i){const p=this.#e[c++].getAttribute("data-resizer-name");h.setAttribute("data-l10n-id",ft._l10nResizer[p])}}this.#N(0),this.#p=!0,this.#n.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#_(t){ft._resizerKeyboardManager.exec(this,t)}#v(t){this.#p&&t.relatedTarget?.parentNode!==this.#n&&this.#F()}#k(t){this.#u=this.#p?t:""}#N(t){if(this.#e)for(const i of this.#e)i.tabIndex=t}_resizeWithKeyboard(t,i){this.#p&&this.#x(this.#u,{movementX:t,movementY:i})}#F(){if(this.#p=!1,this.#N(-1),this.#o){const{savedX:t,savedY:i,savedWidth:s,savedHeight:r}=this.#o;this.#S(t,i,s,r),this.#o=null}}_stopResizingWithKeyboard(){this.#F(),this.div.focus()}select(){if(this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}unselect(){this.#n?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0)}updateParams(t,i){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#r}set isEditing(t){this.#r=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,i){this.#a=!0;const s=t/i,{style:r}=this.div;r.aspectRatio=s,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,i=!1){if(i){this.#g||=new Map;const{action:s}=t;let r=this.#g.get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#g.delete(s),this.#g.size===0&&(this.#g=null)},ft._telemetryTimeout),this.#g.set(s,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}renderAnnotationElement(t){let i=t.container.querySelector(".annotationContent");if(!i)i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),t.container.prepend(i);else if(i.nodeName==="CANVAS"){const s=i;i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),s.before(i)}return i}resetAnnotationElement(t){const{firstChild:i}=t.container;i?.nodeName==="DIV"&&i.classList.contains("annotationContent")&&i.remove()}}class uS extends ft{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Ug=3285377520,ai=4294901760,Ai=65535;class Om{constructor(t){this.h1=t?t&4294967295:Ug,this.h2=t?t&4294967295:Ug}update(t){let i,s;if(typeof t=="string"){i=new Uint8Array(t.length*2),s=0;for(let E=0,x=t.length;E<x;E++){const w=t.charCodeAt(E);w<=255?i[s++]=w:(i[s++]=w>>>8,i[s++]=w&255)}}else if(ArrayBuffer.isView(t))i=t.slice(),s=i.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,o=s-r*4,c=new Uint32Array(i.buffer,0,r);let h=0,f=0,p=this.h1,m=this.h2;const y=3432918353,b=461845907,A=y&Ai,S=b&Ai;for(let E=0;E<r;E++)E&1?(h=c[E],h=h*y&ai|h*A&Ai,h=h<<15|h>>>17,h=h*b&ai|h*S&Ai,p^=h,p=p<<13|p>>>19,p=p*5+3864292196):(f=c[E],f=f*y&ai|f*A&Ai,f=f<<15|f>>>17,f=f*b&ai|f*S&Ai,m^=f,m=m<<13|m>>>19,m=m*5+3864292196);switch(h=0,o){case 3:h^=i[r*4+2]<<16;case 2:h^=i[r*4+1]<<8;case 1:h^=i[r*4],h=h*y&ai|h*A&Ai,h=h<<15|h>>>17,h=h*b&ai|h*S&Ai,r&1?p^=h:m^=h}this.h1=p,this.h2=m}hexdigest(){let t=this.h1,i=this.h2;return t^=i>>>1,t=t*3981806797&ai|t*36045&Ai,i=i*4283543511&ai|((i<<16|t>>>16)*2950163797&ai)>>>16,t^=i>>>1,t=t*444984403&ai|t*60499&Ai,i=i*3301882366&ai|((i<<16|t>>>16)*3120437893&ai)>>>16,t^=i>>>1,(t>>>0).toString(16).padStart(8,"0")+(i>>>0).toString(16).padStart(8,"0")}}const Yu=Object.freeze({map:null,hash:"",transfer:void 0});class gh{#t=!1;#e=null;#i=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,i){const s=this.#i.get(t);return s===void 0?i:Object.assign(i,s)}getRawValue(t){return this.#i.get(t)}remove(t){if(this.#i.delete(t),this.#i.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const i of this.#i.values())if(i instanceof ft)return;this.onAnnotationEditor(null)}}setValue(t,i){const s=this.#i.get(t);let r=!1;if(s!==void 0)for(const[o,c]of Object.entries(i))s[o]!==c&&(r=!0,s[o]=c);else r=!0,this.#i.set(t,i);r&&this.#s(),i instanceof ft&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(i.constructor._type)}has(t){return this.#i.has(t)}getAll(){return this.#i.size>0?oh(this.#i):null}setAll(t){for(const[i,s]of Object.entries(t))this.setValue(i,s)}get size(){return this.#i.size}#s(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new km(this)}get serializable(){if(this.#i.size===0)return Yu;const t=new Map,i=new Om,s=[],r=Object.create(null);let o=!1;for(const[c,h]of this.#i){const f=h instanceof ft?h.serialize(!1,r):h;f&&(t.set(c,f),i.update(`${c}:${JSON.stringify(f)}`),o||=!!f.bitmap)}if(o)for(const c of t.values())c.bitmap&&s.push(c.bitmap);return t.size>0?{map:t,hash:i.hexdigest(),transfer:s}:Yu}get editorStats(){let t=null;const i=new Map;for(const s of this.#i.values()){if(!(s instanceof ft))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:o}=r;i.has(o)||i.set(o,Object.getPrototypeOf(s).constructor),t||=Object.create(null);const c=t[o]||=new Map;for(const[h,f]of Object.entries(r)){if(h==="type")continue;let p=c.get(h);p||(p=new Map,c.set(h,p));const m=p.get(f)??0;p.set(f,m+1)}}for(const[s,r]of i)t[s]=r.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){this.#e=null}get modifiedIds(){if(this.#e)return this.#e;const t=[];for(const i of this.#i.values())!(i instanceof ft)||!i.annotationElementId||!i.serialize()||t.push(i.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}}class km extends gh{#t;constructor(t){super();const{map:i,hash:s,transfer:r}=t.serializable,o=structuredClone(i,r?{transfer:r}:null);this.#t={map:o,hash:s,transfer:r}}get print(){It("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Ct(this,"modifiedIds",{ids:new Set,hash:""})}}class hS{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:i=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const i=this.styleElement.sheet;i.insertRule(t,i.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:i}){if(!(!t||this.#t.has(t.loadedName))){if(ue(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:o}=t,c=new FontFace(s,r,o);this.addNativeFontFace(c);try{await c.load(),this.#t.add(s),i?.(t)}catch{_t(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}It("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const s=t.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw _t(`Failed to load font '${s.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const i=t.createFontFaceRule();if(i){if(this.insertRule(i),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Ct(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(Me||typeof navigator<"u"&&typeof navigator?.userAgent=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Ct(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function i(){for(ue(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const o=s.shift();setTimeout(o.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:i,callback:t};return s.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ct(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,i){function s(k,H){return k.charCodeAt(H)<<24|k.charCodeAt(H+1)<<16|k.charCodeAt(H+2)<<8|k.charCodeAt(H+3)&255}function r(k,H,j,X){const Z=k.substring(0,H),W=k.substring(H+j);return Z+X+W}let o,c;const h=this._document.createElement("canvas");h.width=1,h.height=1;const f=h.getContext("2d");let p=0;function m(k,H){if(++p>30){_t("Load test font never loaded."),H();return}if(f.font="30px "+k,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){H();return}setTimeout(m.bind(null,k,H))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=r(b,976,y.length,y);const S=16,E=1482184792;let x=s(b,S);for(o=0,c=y.length-3;o<c;o+=4)x=x-E+s(y,o)|0;o<y.length&&(x=x-E+s(y+"XXX",o)|0),b=r(b,S,4,$A(x));const w=`url(data:font/opentype;base64,${btoa(b)});`,M=`@font-face {font-family:"${y}";src:${w}}`;this.insertRule(M);const O=this._document.createElement("div");O.style.visibility="hidden",O.style.width=O.style.height="10px",O.style.position="absolute",O.style.top=O.style.left="0px";for(const k of[t.loadedName,y]){const H=this._document.createElement("span");H.textContent="Hi",H.style.fontFamily=k,O.append(H)}this._document.body.append(O),m(y,()=>{O.remove(),i.complete()})}}class dS{constructor(t,{disableFontFace:i=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const r in t)this[r]=t[r];this.disableFontFace=i===!0,this._inspectFont=s}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${eS(this.data)});`;let i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return this._inspectFont?.(this,t),i}getPathGenerator(t,i){if(this.compiledGlyphs[i]!==void 0)return this.compiledGlyphs[i];let s;try{s=t.get(this.loadedName+"_path_"+i)}catch(o){_t(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(s)||s.length===0)return this.compiledGlyphs[i]=function(o,c){};const r=[];for(let o=0,c=s.length;o<c;)switch(s[o++]){case Ii.BEZIER_CURVE_TO:{const[h,f,p,m,y,b]=s.slice(o,o+6);r.push(A=>A.bezierCurveTo(h,f,p,m,y,b)),o+=6}break;case Ii.MOVE_TO:{const[h,f]=s.slice(o,o+2);r.push(p=>p.moveTo(h,f)),o+=2}break;case Ii.LINE_TO:{const[h,f]=s.slice(o,o+2);r.push(p=>p.lineTo(h,f)),o+=2}break;case Ii.QUADRATIC_CURVE_TO:{const[h,f,p,m]=s.slice(o,o+4);r.push(y=>y.quadraticCurveTo(h,f,p,m)),o+=4}break;case Ii.RESTORE:r.push(h=>h.restore());break;case Ii.SAVE:r.push(h=>h.save());break;case Ii.SCALE:ue(r.length===2,"Scale command is only valid at the third position.");break;case Ii.TRANSFORM:{const[h,f,p,m,y,b]=s.slice(o,o+6);r.push(A=>A.transform(h,f,p,m,y,b)),o+=6}break;case Ii.TRANSLATE:{const[h,f]=s.slice(o,o+2);r.push(p=>p.translate(h,f)),o+=2}break}return this.compiledGlyphs[i]=function(c,h){r[0](c),r[1](c),c.scale(h,-h);for(let f=2,p=r.length;f<p;f++)r[f](c)}}}class Nm{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,i){if(t<=0||i<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(t,i);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,i,s){if(!t.canvas)throw new Error("Canvas is not specified");if(i<=0||s<=0)throw new Error("Invalid canvas size");t.canvas.width=i,t.canvas.height=s}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,i){It("Abstract method `_createCanvas` called.")}}class fS extends Nm{constructor({ownerDocument:t=globalThis.document,enableHWA:i=!1}){super({enableHWA:i}),this._document=t}_createCanvas(t,i){const s=this._document.createElement("canvas");return s.width=t,s.height=i,s}}class Pm{constructor({baseUrl:t=null,isCompressed:i=!0}){this.baseUrl=t,this.isCompressed=i}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const i=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(i).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${i}`)})}async _fetch(t){It("Abstract method `_fetch` called.")}}class Fm extends Pm{async _fetch(t){const i=await no(t,this.isCompressed?"arraybuffer":"text");return i instanceof ArrayBuffer?new Uint8Array(i):io(i)}}class Hm{addFilter(t){return"none"}addHCMFilter(t,i){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,i,s,r,o){return"none"}destroy(t=!1){}}class pS extends Hm{#t;#e;#i;#s;#a;#n;#o=0;constructor({docId:t,ownerDocument:i=globalThis.document}){super(),this.#s=t,this.#a=i}get#c(){return this.#e||=new Map}get#u(){return this.#n||=new Map}get#l(){if(!this.#i){const t=this.#a.createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const s=this.#a.createElementNS(Gi,"svg");s.setAttribute("width",0),s.setAttribute("height",0),this.#i=this.#a.createElementNS(Gi,"defs"),t.append(s),s.append(this.#i),this.#a.body.append(t)}return this.#i}#h(t){if(t.length===1){const f=t[0],p=new Array(256);for(let y=0;y<256;y++)p[y]=f[y]/255;const m=p.join(",");return[m,m,m]}const[i,s,r]=t,o=new Array(256),c=new Array(256),h=new Array(256);for(let f=0;f<256;f++)o[f]=i[f]/255,c[f]=s[f]/255,h[f]=r[f]/255;return[o.join(","),c.join(","),h.join(",")]}#r(t){if(this.#t===void 0){this.#t="";const i=this.#a.URL;i!==this.#a.baseURI&&(so(i)?_t('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=i.split("#",1)[0])}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let i=this.#c.get(t);if(i)return i;const[s,r,o]=this.#h(t),c=t.length===1?s:`${s}${r}${o}`;if(i=this.#c.get(c),i)return this.#c.set(t,i),i;const h=`g_${this.#s}_transfer_map_${this.#o++}`,f=this.#r(h);this.#c.set(t,f),this.#c.set(c,f);const p=this.#f(h);return this.#m(s,r,o,p),f}addHCMFilter(t,i){const s=`${t}-${i}`,r="base";let o=this.#u.get(r);if(o?.key===s||(o?(o.filter?.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},this.#u.set(r,o)),!t||!i))return o.url;const c=this.#b(t);t=at.makeHexColor(...c);const h=this.#b(i);if(i=at.makeHexColor(...h),this.#l.style.color="",t==="#000000"&&i==="#ffffff"||t===i)return o.url;const f=new Array(256);for(let A=0;A<=255;A++){const S=A/255;f[A]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const p=f.join(","),m=`g_${this.#s}_hcm_filter`,y=o.filter=this.#f(m);this.#m(p,p,p,y),this.#p(y);const b=(A,S)=>{const E=c[A]/255,x=h[A]/255,w=new Array(S+1);for(let M=0;M<=S;M++)w[M]=E+M/S*(x-E);return w.join(",")};return this.#m(b(0,5),b(1,5),b(2,5),y),o.url=this.#r(m),o.url}addAlphaFilter(t){let i=this.#c.get(t);if(i)return i;const[s]=this.#h([t]),r=`alpha_${s}`;if(i=this.#c.get(r),i)return this.#c.set(t,i),i;const o=`g_${this.#s}_alpha_map_${this.#o++}`,c=this.#r(o);this.#c.set(t,c),this.#c.set(r,c);const h=this.#f(o);return this.#g(s,h),c}addLuminosityFilter(t){let i=this.#c.get(t||"luminosity");if(i)return i;let s,r;if(t?([s]=this.#h([t]),r=`luminosity_${s}`):r="luminosity",i=this.#c.get(r),i)return this.#c.set(t,i),i;const o=`g_${this.#s}_luminosity_map_${this.#o++}`,c=this.#r(o);this.#c.set(t,c),this.#c.set(r,c);const h=this.#f(o);return this.#d(h),t&&this.#g(s,h),c}addHighlightHCMFilter(t,i,s,r,o){const c=`${i}-${s}-${r}-${o}`;let h=this.#u.get(t);if(h?.key===c||(h?(h.filter?.remove(),h.key=c,h.url="none",h.filter=null):(h={key:c,url:"none",filter:null},this.#u.set(t,h)),!i||!s))return h.url;const[f,p]=[i,s].map(this.#b.bind(this));let m=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),y=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),[b,A]=[r,o].map(this.#b.bind(this));y<m&&([m,y,b,A]=[y,m,A,b]),this.#l.style.color="";const S=(w,M,O)=>{const k=new Array(256),H=(y-m)/O,j=w/255,X=(M-w)/(255*O);let Z=0;for(let W=0;W<=O;W++){const tt=Math.round(m+W*H),J=j+W*X;for(let ot=Z;ot<=tt;ot++)k[ot]=J;Z=tt+1}for(let W=Z;W<256;W++)k[W]=k[Z-1];return k.join(",")},E=`g_${this.#s}_hcm_${t}_filter`,x=h.filter=this.#f(E);return this.#p(x),this.#m(S(b[0],A[0],5),S(b[1],A[1],5),S(b[2],A[2],5),x),h.url=this.#r(E),h.url}destroy(t=!1){t&&this.#u.size!==0||(this.#i&&(this.#i.parentNode.parentNode.remove(),this.#i=null),this.#e&&(this.#e.clear(),this.#e=null),this.#o=0)}#d(t){const i=this.#a.createElementNS(Gi,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)}#p(t){const i=this.#a.createElementNS(Gi,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)}#f(t){const i=this.#a.createElementNS(Gi,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),this.#l.append(i),i}#y(t,i,s){const r=this.#a.createElementNS(Gi,i);r.setAttribute("type","discrete"),r.setAttribute("tableValues",s),t.append(r)}#m(t,i,s,r){const o=this.#a.createElementNS(Gi,"feComponentTransfer");r.append(o),this.#y(o,"feFuncR",t),this.#y(o,"feFuncG",i),this.#y(o,"feFuncB",s)}#g(t,i){const s=this.#a.createElementNS(Gi,"feComponentTransfer");i.append(s),this.#y(s,"feFuncA",t)}#b(t){return this.#l.style.color=t,dh(getComputedStyle(this.#l).getPropertyValue("color"))}}class zm{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const i=`${this.baseUrl}${t}`;return this._fetch(i).catch(s=>{throw new Error(`Unable to load font data at: ${i}`)})}async _fetch(t){It("Abstract method `_fetch` called.")}}class Um extends zm{async _fetch(t){const i=await no(t,"arraybuffer");return new Uint8Array(i)}}if(Me){var Ku=Promise.withResolvers(),$u=null;(async()=>{const t=await Fl(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Fl(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await Fl(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Fl(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,c;return new Map(Object.entries({fs:t,http:i,https:s,url:r,canvas:o,path2d:c}))})().then(t=>{$u=t,Ku.resolve()},t=>{_t(`loadPackages: ${t}`),$u=new Map,Ku.resolve()})}class Sn{static get promise(){return Ku.promise}static get(t){return $u?.get(t)}}async function Bm(u){const i=await Sn.get("fs").promises.readFile(u);return new Uint8Array(i)}class gS extends Hm{}class mS extends Nm{_createCanvas(t,i){return Sn.get("canvas").createCanvas(t,i)}}class yS extends Pm{async _fetch(t){return Bm(t)}}class bS extends zm{async _fetch(t){return Bm(t)}}const Le={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Wu(u,t){if(!t)return;const i=t[2]-t[0],s=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],i,s),u.clip(r)}class mh{getPattern(){It("Abstract method `getPattern` called.")}}class vS extends mh{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let i;this._type==="axial"?i=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(i=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)i.addColorStop(s[0],s[1]);return i}getPattern(t,i,s,r){let o;if(r===Le.STROKE||r===Le.FILL){const c=i.current.getClippedPathBoundingBox(r,Xt(t))||[0,0,0,0],h=Math.ceil(c[2]-c[0])||1,f=Math.ceil(c[3]-c[1])||1,p=i.cachedCanvases.getCanvas("pattern",h,f),m=p.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-c[0],-c[1]),s=at.transform(s,[1,0,0,1,c[0],c[1]]),m.transform(...i.baseTransform),this.matrix&&m.transform(...this.matrix),Wu(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),o=t.createPattern(p.canvas,"no-repeat");const y=new DOMMatrix(s);o.setTransform(y)}else Wu(t,this._bbox),o=this._createGradient(t);return o}}function Hu(u,t,i,s,r,o,c,h){const f=t.coords,p=t.colors,m=u.data,y=u.width*4;let b;f[i+1]>f[s+1]&&(b=i,i=s,s=b,b=o,o=c,c=b),f[s+1]>f[r+1]&&(b=s,s=r,r=b,b=c,c=h,h=b),f[i+1]>f[s+1]&&(b=i,i=s,s=b,b=o,o=c,c=b);const A=(f[i]+t.offsetX)*t.scaleX,S=(f[i+1]+t.offsetY)*t.scaleY,E=(f[s]+t.offsetX)*t.scaleX,x=(f[s+1]+t.offsetY)*t.scaleY,w=(f[r]+t.offsetX)*t.scaleX,M=(f[r+1]+t.offsetY)*t.scaleY;if(S>=M)return;const O=p[o],k=p[o+1],H=p[o+2],j=p[c],X=p[c+1],Z=p[c+2],W=p[h],tt=p[h+1],J=p[h+2],ot=Math.round(S),dt=Math.round(M);let ht,rt,P,B,Y,gt,C,G;for(let Q=ot;Q<=dt;Q++){if(Q<x){const yt=Q<S?0:(S-Q)/(S-x);ht=A-(A-E)*yt,rt=O-(O-j)*yt,P=k-(k-X)*yt,B=H-(H-Z)*yt}else{let yt;Q>M?yt=1:x===M?yt=0:yt=(x-Q)/(x-M),ht=E-(E-w)*yt,rt=j-(j-W)*yt,P=X-(X-tt)*yt,B=Z-(Z-J)*yt}let $;Q<S?$=0:Q>M?$=1:$=(S-Q)/(S-M),Y=A-(A-w)*$,gt=O-(O-W)*$,C=k-(k-tt)*$,G=H-(H-J)*$;const et=Math.round(Math.min(ht,Y)),mt=Math.round(Math.max(ht,Y));let it=y*Q+et*4;for(let yt=et;yt<=mt;yt++)$=(ht-yt)/(ht-Y),$<0?$=0:$>1&&($=1),m[it++]=rt-(rt-gt)*$|0,m[it++]=P-(P-C)*$|0,m[it++]=B-(B-G)*$|0,m[it++]=255}}function AS(u,t,i){const s=t.coords,r=t.colors;let o,c;switch(t.type){case"lattice":const h=t.verticesPerRow,f=Math.floor(s.length/h)-1,p=h-1;for(o=0;o<f;o++){let m=o*h;for(let y=0;y<p;y++,m++)Hu(u,i,s[m],s[m+1],s[m+h],r[m],r[m+1],r[m+h]),Hu(u,i,s[m+h+1],s[m+1],s[m+h],r[m+h+1],r[m+1],r[m+h])}break;case"triangles":for(o=0,c=s.length;o<c;o+=3)Hu(u,i,s[o],s[o+1],s[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class SS extends mh{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,i,s){const h=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-h,m=Math.ceil(this._bounds[3])-f,y=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),A=p/y,S=m/b,E={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-f,scaleX:1/A,scaleY:1/S},x=y+2*2,w=b+2*2,M=s.getCanvas("mesh",x,w),O=M.context,k=O.createImageData(y,b);if(i){const j=k.data;for(let X=0,Z=j.length;X<Z;X+=4)j[X]=i[0],j[X+1]=i[1],j[X+2]=i[2],j[X+3]=255}for(const j of this._figures)AS(k,j,E);return O.putImageData(k,2,2),{canvas:M.canvas,offsetX:h-2*A,offsetY:f-2*S,scaleX:A,scaleY:S}}getPattern(t,i,s,r){Wu(t,this._bbox);let o;if(r===Le.SHADING)o=at.singularValueDecompose2dScale(Xt(t));else if(o=at.singularValueDecompose2dScale(i.baseTransform),this.matrix){const h=at.singularValueDecompose2dScale(this.matrix);o=[o[0]*h[0],o[1]*h[1]]}const c=this._createMeshCanvas(o,r===Le.SHADING?null:this._background,i.cachedCanvases);return r!==Le.SHADING&&(t.setTransform(...i.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class _S extends mh{getPattern(){return"hotpink"}}function ES(u){switch(u[0]){case"RadialAxial":return new vS(u);case"Mesh":return new SS(u);case"Dummy":return new _S}throw new Error(`Unknown IR type: ${u[0]}`)}const Bg={COLORED:1,UNCOLORED:2};class yh{static MAX_PATTERN_SIZE=3e3;constructor(t,i,s,r,o){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=i,this.ctx=s,this.canvasGraphicsFactory=r,this.baseTransform=o}createPatternCanvas(t){const{bbox:i,operatorList:s,paintType:r,tilingType:o,color:c,canvasGraphicsFactory:h}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),to("TilingType: "+o);const m=i[0],y=i[1],b=i[2],A=i[3],S=b-m,E=A-y,x=at.singularValueDecompose2dScale(this.matrix),w=at.singularValueDecompose2dScale(this.baseTransform),M=x[0]*w[0],O=x[1]*w[1];let k=S,H=E,j=!1,X=!1;const Z=Math.ceil(f*M),W=Math.ceil(p*O),tt=Math.ceil(S*M),J=Math.ceil(E*O);Z>=tt?k=f:j=!0,W>=J?H=p:X=!0;const ot=this.getSizeAndScale(k,this.ctx.canvas.width,M),dt=this.getSizeAndScale(H,this.ctx.canvas.height,O),ht=t.cachedCanvases.getCanvas("pattern",ot.size,dt.size),rt=ht.context,P=h.createCanvasGraphics(rt);if(P.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(P,r,c),rt.translate(-ot.scale*m,-dt.scale*y),P.transform(ot.scale,0,0,dt.scale,0,0),rt.save(),this.clipBbox(P,m,y,b,A),P.baseTransform=Xt(P.ctx),P.executeOperatorList(s),P.endDrawing(),rt.restore(),j||X){const B=ht.canvas;j&&(k=f),X&&(H=p);const Y=this.getSizeAndScale(k,this.ctx.canvas.width,M),gt=this.getSizeAndScale(H,this.ctx.canvas.height,O),C=Y.size,G=gt.size,Q=t.cachedCanvases.getCanvas("pattern-workaround",C,G),$=Q.context,et=j?Math.floor(S/f):0,mt=X?Math.floor(E/p):0;for(let it=0;it<=et;it++)for(let yt=0;yt<=mt;yt++)$.drawImage(B,C*it,G*yt,C,G,0,0,C,G);return{canvas:Q.canvas,scaleX:Y.scale,scaleY:gt.scale,offsetX:m,offsetY:y}}return{canvas:ht.canvas,scaleX:ot.scale,scaleY:dt.scale,offsetX:m,offsetY:y}}getSizeAndScale(t,i,s){const r=Math.max(yh.MAX_PATTERN_SIZE,i);let o=Math.ceil(t*s);return o>=r?o=r:s=o/t,{scale:s,size:o}}clipBbox(t,i,s,r,o){const c=r-i,h=o-s;t.ctx.rect(i,s,c,h),t.current.updateRectMinMax(Xt(t.ctx),[i,s,r,o]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,i,s){const r=t.ctx,o=t.current;switch(i){case Bg.COLORED:const c=this.ctx;r.fillStyle=c.fillStyle,r.strokeStyle=c.strokeStyle,o.fillColor=c.fillStyle,o.strokeColor=c.strokeStyle;break;case Bg.UNCOLORED:const h=at.makeHexColor(s[0],s[1],s[2]);r.fillStyle=h,r.strokeStyle=h,o.fillColor=h,o.strokeColor=h;break;default:throw new KA(`Unsupported paint type: ${i}`)}}getPattern(t,i,s,r){let o=s;r!==Le.SHADING&&(o=at.transform(o,i.baseTransform),this.matrix&&(o=at.transform(o,this.matrix)));const c=this.createPatternCanvas(i);let h=new DOMMatrix(o);h=h.translate(c.offsetX,c.offsetY),h=h.scale(1/c.scaleX,1/c.scaleY);const f=t.createPattern(c.canvas,"repeat");return f.setTransform(h),f}}function wS({src:u,srcPos:t=0,dest:i,width:s,height:r,nonBlackColor:o=4294967295,inverseDecode:c=!1}){const h=Oe.isLittleEndian?4278190080:255,[f,p]=c?[o,h]:[h,o],m=s>>3,y=s&7,b=u.length;i=new Uint32Array(i.buffer);let A=0;for(let S=0;S<r;S++){for(const x=t+m;t<x;t++){const w=t<b?u[t]:255;i[A++]=w&128?p:f,i[A++]=w&64?p:f,i[A++]=w&32?p:f,i[A++]=w&16?p:f,i[A++]=w&8?p:f,i[A++]=w&4?p:f,i[A++]=w&2?p:f,i[A++]=w&1?p:f}if(y===0)continue;const E=t<b?u[t++]:255;for(let x=0;x<y;x++)i[A++]=E&1<<7-x?p:f}return{srcPos:t,destPos:A}}const Ig=16,jg=100,xS=15,Gg=10,qg=1e3,Ue=16;function TS(u,t){if(u._removeMirroring)throw new Error("Context is already forwarding operations.");u.__originalSave=u.save,u.__originalRestore=u.restore,u.__originalRotate=u.rotate,u.__originalScale=u.scale,u.__originalTranslate=u.translate,u.__originalTransform=u.transform,u.__originalSetTransform=u.setTransform,u.__originalResetTransform=u.resetTransform,u.__originalClip=u.clip,u.__originalMoveTo=u.moveTo,u.__originalLineTo=u.lineTo,u.__originalBezierCurveTo=u.bezierCurveTo,u.__originalRect=u.rect,u.__originalClosePath=u.closePath,u.__originalBeginPath=u.beginPath,u._removeMirroring=()=>{u.save=u.__originalSave,u.restore=u.__originalRestore,u.rotate=u.__originalRotate,u.scale=u.__originalScale,u.translate=u.__originalTranslate,u.transform=u.__originalTransform,u.setTransform=u.__originalSetTransform,u.resetTransform=u.__originalResetTransform,u.clip=u.__originalClip,u.moveTo=u.__originalMoveTo,u.lineTo=u.__originalLineTo,u.bezierCurveTo=u.__originalBezierCurveTo,u.rect=u.__originalRect,u.closePath=u.__originalClosePath,u.beginPath=u.__originalBeginPath,delete u._removeMirroring},u.save=function(){t.save(),this.__originalSave()},u.restore=function(){t.restore(),this.__originalRestore()},u.translate=function(s,r){t.translate(s,r),this.__originalTranslate(s,r)},u.scale=function(s,r){t.scale(s,r),this.__originalScale(s,r)},u.transform=function(s,r,o,c,h,f){t.transform(s,r,o,c,h,f),this.__originalTransform(s,r,o,c,h,f)},u.setTransform=function(s,r,o,c,h,f){t.setTransform(s,r,o,c,h,f),this.__originalSetTransform(s,r,o,c,h,f)},u.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},u.rotate=function(s){t.rotate(s),this.__originalRotate(s)},u.clip=function(s){t.clip(s),this.__originalClip(s)},u.moveTo=function(i,s){t.moveTo(i,s),this.__originalMoveTo(i,s)},u.lineTo=function(i,s){t.lineTo(i,s),this.__originalLineTo(i,s)},u.bezierCurveTo=function(i,s,r,o,c,h){t.bezierCurveTo(i,s,r,o,c,h),this.__originalBezierCurveTo(i,s,r,o,c,h)},u.rect=function(i,s,r,o){t.rect(i,s,r,o),this.__originalRect(i,s,r,o)},u.closePath=function(){t.closePath(),this.__originalClosePath()},u.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class CS{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,i,s){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,i,s)):(r=this.canvasFactory.create(i,s),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const i=this.cache[t];this.canvasFactory.destroy(i),delete this.cache[t]}}}function Hl(u,t,i,s,r,o,c,h,f,p){const[m,y,b,A,S,E]=Xt(u);if(y===0&&b===0){const M=c*m+S,O=Math.round(M),k=h*A+E,H=Math.round(k),j=(c+f)*m+S,X=Math.abs(Math.round(j)-O)||1,Z=(h+p)*A+E,W=Math.abs(Math.round(Z)-H)||1;return u.setTransform(Math.sign(m),0,0,Math.sign(A),O,H),u.drawImage(t,i,s,r,o,0,0,X,W),u.setTransform(m,y,b,A,S,E),[X,W]}if(m===0&&A===0){const M=h*b+S,O=Math.round(M),k=c*y+E,H=Math.round(k),j=(h+p)*b+S,X=Math.abs(Math.round(j)-O)||1,Z=(c+f)*y+E,W=Math.abs(Math.round(Z)-H)||1;return u.setTransform(0,Math.sign(y),Math.sign(b),0,O,H),u.drawImage(t,i,s,r,o,0,0,W,X),u.setTransform(m,y,b,A,S,E),[W,X]}u.drawImage(t,i,s,r,o,c,h,f,p);const x=Math.hypot(m,y),w=Math.hypot(b,A);return[x*f,w*p]}function RS(u){const{width:t,height:i}=u;if(t>qg||i>qg)return null;const s=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=t+1;let c=new Uint8Array(o*(i+1)),h,f,p;const m=t+7&-8;let y=new Uint8Array(m*i),b=0;for(const w of u.data){let M=128;for(;M>0;)y[b++]=w&M?0:255,M>>=1}let A=0;for(b=0,y[b]!==0&&(c[0]=1,++A),f=1;f<t;f++)y[b]!==y[b+1]&&(c[f]=y[b]?2:1,++A),b++;for(y[b]!==0&&(c[f]=2,++A),h=1;h<i;h++){b=h*m,p=h*o,y[b-m]!==y[b]&&(c[p]=y[b]?1:8,++A);let w=(y[b]?4:0)+(y[b-m]?8:0);for(f=1;f<t;f++)w=(w>>2)+(y[b+1]?4:0)+(y[b-m+1]?8:0),r[w]&&(c[p+f]=r[w],++A),b++;if(y[b-m]!==y[b]&&(c[p+f]=y[b]?2:4,++A),A>s)return null}for(b=m*(i-1),p=h*o,y[b]!==0&&(c[p]=8,++A),f=1;f<t;f++)y[b]!==y[b+1]&&(c[p+f]=y[b]?4:8,++A),b++;if(y[b]!==0&&(c[p+f]=4,++A),A>s)return null;const S=new Int32Array([0,o,-1,0,-o,0,0,0,1]),E=new Path2D;for(h=0;A&&h<=i;h++){let w=h*o;const M=w+t;for(;w<M&&!c[w];)w++;if(w===M)continue;E.moveTo(w%o,h);const O=w;let k=c[w];do{const H=S[k];do w+=H;while(!c[w]);const j=c[w];j!==5&&j!==10?(k=j,c[w]=0):(k=j&51*k>>4,c[w]&=k>>2|k<<2),E.lineTo(w%o,w/o|0),c[w]||--A}while(O!==w);--h}return y=null,c=null,function(w){w.save(),w.scale(1/t,-1/i),w.translate(0,-i),w.fill(E),w.beginPath(),w.restore()}}class Vg{constructor(t,i){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Rm,this.textMatrixScale=1,this.fontMatrix=Gu,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Te.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,i])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,i){this.x=t,this.y=i}updatePathMinMax(t,i,s){[i,s]=at.applyTransform([i,s],t),this.minX=Math.min(this.minX,i),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,i),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(t,i){const s=at.applyTransform(i,t),r=at.applyTransform(i.slice(2),t),o=at.applyTransform([i[0],i[3]],t),c=at.applyTransform([i[2],i[1]],t);this.minX=Math.min(this.minX,s[0],r[0],o[0],c[0]),this.minY=Math.min(this.minY,s[1],r[1],o[1],c[1]),this.maxX=Math.max(this.maxX,s[0],r[0],o[0],c[0]),this.maxY=Math.max(this.maxY,s[1],r[1],o[1],c[1])}updateScalingPathMinMax(t,i){at.scaleMinMax(t,i),this.minX=Math.min(this.minX,i[0]),this.minY=Math.min(this.minY,i[1]),this.maxX=Math.max(this.maxX,i[2]),this.maxY=Math.max(this.maxY,i[3])}updateCurvePathMinMax(t,i,s,r,o,c,h,f,p,m){const y=at.bezierBoundingBox(i,s,r,o,c,h,f,p,m);m||this.updateRectMinMax(t,y)}getPathBoundingBox(t=Le.FILL,i=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(t===Le.STROKE){i||It("Stroke bounding box must include transform.");const r=at.singularValueDecompose2dScale(i),o=r[0]*this.lineWidth/2,c=r[1]*this.lineWidth/2;s[0]-=o,s[1]-=c,s[2]+=o,s[3]+=c}return s}updateClipFromPath(){const t=at.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Le.FILL,i=null){return at.intersect(this.clipBox,this.getPathBoundingBox(t,i))}}function Xg(u,t){if(typeof ImageData<"u"&&t instanceof ImageData){u.putImageData(t,0,0);return}const i=t.height,s=t.width,r=i%Ue,o=(i-r)/Ue,c=r===0?o:o+1,h=u.createImageData(s,Ue);let f=0,p;const m=t.data,y=h.data;let b,A,S,E;if(t.kind===ql.GRAYSCALE_1BPP){const x=m.byteLength,w=new Uint32Array(y.buffer,0,y.byteLength>>2),M=w.length,O=s+7>>3,k=4294967295,H=Oe.isLittleEndian?4278190080:255;for(b=0;b<c;b++){for(S=b<o?Ue:r,p=0,A=0;A<S;A++){const j=x-f;let X=0;const Z=j>O?s:j*8-7,W=Z&-8;let tt=0,J=0;for(;X<W;X+=8)J=m[f++],w[p++]=J&128?k:H,w[p++]=J&64?k:H,w[p++]=J&32?k:H,w[p++]=J&16?k:H,w[p++]=J&8?k:H,w[p++]=J&4?k:H,w[p++]=J&2?k:H,w[p++]=J&1?k:H;for(;X<Z;X++)tt===0&&(J=m[f++],tt=128),w[p++]=J&tt?k:H,tt>>=1}for(;p<M;)w[p++]=0;u.putImageData(h,0,b*Ue)}}else if(t.kind===ql.RGBA_32BPP){for(A=0,E=s*Ue*4,b=0;b<o;b++)y.set(m.subarray(f,f+E)),f+=E,u.putImageData(h,0,A),A+=Ue;b<c&&(E=s*r*4,y.set(m.subarray(f,f+E)),u.putImageData(h,0,A))}else if(t.kind===ql.RGB_24BPP)for(S=Ue,E=s*S,b=0;b<c;b++){for(b>=o&&(S=r,E=s*S),p=0,A=E;A--;)y[p++]=m[f++],y[p++]=m[f++],y[p++]=m[f++],y[p++]=255;u.putImageData(h,0,b*Ue)}else throw new Error(`bad image kind: ${t.kind}`)}function Yg(u,t){if(t.bitmap){u.drawImage(t.bitmap,0,0);return}const i=t.height,s=t.width,r=i%Ue,o=(i-r)/Ue,c=r===0?o:o+1,h=u.createImageData(s,Ue);let f=0;const p=t.data,m=h.data;for(let y=0;y<c;y++){const b=y<o?Ue:r;({srcPos:f}=wS({src:p,srcPos:f,dest:m,width:s,height:b,nonBlackColor:0})),u.putImageData(h,0,y*Ue)}}function tr(u,t){const i=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of i)u[s]!==void 0&&(t[s]=u[s]);u.setLineDash!==void 0&&(t.setLineDash(u.getLineDash()),t.lineDashOffset=u.lineDashOffset)}function zl(u){if(u.strokeStyle=u.fillStyle="#000000",u.fillRule="nonzero",u.globalAlpha=1,u.lineWidth=1,u.lineCap="butt",u.lineJoin="miter",u.miterLimit=10,u.globalCompositeOperation="source-over",u.font="10px sans-serif",u.setLineDash!==void 0&&(u.setLineDash([]),u.lineDashOffset=0),!Me){const{filter:t}=u;t!=="none"&&t!==""&&(u.filter="none")}}function Kg(u,t){if(t)return!0;const i=at.singularValueDecompose2dScale(u);i[0]=Math.fround(i[0]),i[1]=Math.fround(i[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*Ks.PDF_TO_CSS_UNITS);return i[0]<=s&&i[1]<=s}const MS=["butt","round","square"],DS=["miter","round","bevel"],LS={},$g={};class js{constructor(t,i,s,r,o,{optionalContentConfig:c,markedContentStack:h=null},f,p){this.ctx=t,this.current=new Vg(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=i,this.objs=s,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=c,this.cachedCanvases=new CS(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,i=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):i}beginDrawing({transform:t,viewport:i,transparency:s=!1,background:r=null}){const o=this.ctx.canvas.width,c=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,c),this.ctx.fillStyle=h,s){const f=this.cachedCanvases.getCanvas("transparent",o,c);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...Xt(this.compositeCtx))}this.ctx.save(),zl(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...i.transform),this.viewportScale=i.scale,this.baseTransform=Xt(this.ctx)}executeOperatorList(t,i,s,r){const o=t.argsArray,c=t.fnArray;let h=i||0;const f=o.length;if(f===h)return h;const p=f-h>Gg&&typeof s=="function",m=p?Date.now()+xS:0;let y=0;const b=this.commonObjs,A=this.objs;let S;for(;;){if(r!==void 0&&h===r.nextBreakPoint)return r.breakIt(h,s),h;if(S=c[h],S!==fi.dependency)this[S].apply(this,o[h]);else for(const E of o[h]){const x=E.startsWith("g_")?b:A;if(!x.has(E))return x.get(E,s),h}if(h++,h===f)return h;if(p&&++y>Gg){if(Date.now()>m)return s(),h;y=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const i of t.values())typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&(i.width=i.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const i=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=i}}}_scaleImage(t,i){const s=t.width??t.displayWidth,r=t.height??t.displayHeight;let o=Math.max(Math.hypot(i[0],i[1]),1),c=Math.max(Math.hypot(i[2],i[3]),1),h=s,f=r,p="prescale1",m,y;for(;o>2&&h>1||c>2&&f>1;){let b=h,A=f;o>2&&h>1&&(b=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),o/=h/b),c>2&&f>1&&(A=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,c/=f/A),m=this.cachedCanvases.getCanvas(p,b,A),y=m.context,y.clearRect(0,0,b,A),y.drawImage(t,0,0,h,f,0,0,b,A),t=m.canvas,h=b,f=A,p=p==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:h,paintHeight:f}}_createMaskCanvas(t){const i=this.ctx,{width:s,height:r}=t,o=this.current.fillColor,c=this.current.patternFill,h=Xt(i);let f,p,m,y;if((t.bitmap||t.data)&&t.count>1){const Z=t.bitmap||t.data.buffer;p=JSON.stringify(c?h:[h.slice(0,4),o]),f=this._cachedBitmapsMap.get(Z),f||(f=new Map,this._cachedBitmapsMap.set(Z,f));const W=f.get(p);if(W&&!c){const tt=Math.round(Math.min(h[0],h[2])+h[4]),J=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:W,offsetX:tt,offsetY:J}}m=W}m||(y=this.cachedCanvases.getCanvas("maskCanvas",s,r),Yg(y.context,t));let b=at.transform(h,[1/s,0,0,-1/r,0,0]);b=at.transform(b,[1,0,0,1,0,-r]);const[A,S,E,x]=at.getAxialAlignedBoundingBox([0,0,s,r],b),w=Math.round(E-A)||1,M=Math.round(x-S)||1,O=this.cachedCanvases.getCanvas("fillCanvas",w,M),k=O.context,H=A,j=S;k.translate(-H,-j),k.transform(...b),m||(m=this._scaleImage(y.canvas,ji(k)),m=m.img,f&&c&&f.set(p,m)),k.imageSmoothingEnabled=Kg(Xt(k),t.interpolate),Hl(k,m,0,0,m.width,m.height,0,0,s,r),k.globalCompositeOperation="source-in";const X=at.transform(ji(k),[1,0,0,1,-H,-j]);return k.fillStyle=c?o.getPattern(i,this,X,Le.FILL):o,k.fillRect(0,0,s,r),f&&!c&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,O.canvas)),{canvas:O.canvas,offsetX:Math.round(H),offsetY:Math.round(j)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=MS[t]}setLineJoin(t){this.ctx.lineJoin=DS[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,i){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=i)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[i,s]of t)switch(i){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,i=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,t,i);this.suspendedCtx=this.ctx,this.ctx=r.context;const o=this.ctx;o.setTransform(...Xt(this.suspendedCtx)),tr(this.suspendedCtx,o),TS(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),tr(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const i=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,i,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,i,s,r){const o=r[0],c=r[1],h=r[2]-o,f=r[3]-c;h===0||f===0||(this.genericComposeSMask(i.context,s,h,f,i.subtype,i.backdrop,i.transferMap,o,c,i.offsetX,i.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(s.canvas,0,0),t.restore())}genericComposeSMask(t,i,s,r,o,c,h,f,p,m,y){let b=t.canvas,A=f-m,S=p-y;if(c){const x=at.makeHexColor(...c);if(A<0||S<0||A+s>b.width||S+r>b.height){const w=this.cachedCanvases.getCanvas("maskExtension",s,r),M=w.context;M.drawImage(b,-A,-S),M.globalCompositeOperation="destination-atop",M.fillStyle=x,M.fillRect(0,0,s,r),M.globalCompositeOperation="source-over",b=w.canvas,A=S=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const w=new Path2D;w.rect(A,S,s,r),t.clip(w),t.globalCompositeOperation="destination-atop",t.fillStyle=x,t.fillRect(A,S,s,r),t.restore()}}i.save(),i.globalAlpha=1,i.setTransform(1,0,0,1,0,0),o==="Alpha"&&h?i.filter=this.filterFactory.addAlphaFilter(h):o==="Luminosity"&&(i.filter=this.filterFactory.addLuminosityFilter(h));const E=new Path2D;E.rect(f,p,s,r),i.clip(E),i.globalCompositeOperation="destination-in",i.drawImage(b,A,S,s,r,f,p,s,r),i.restore()}save(){this.inSMaskMode?(tr(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),tr(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,i,s,r,o,c){this.ctx.transform(t,i,s,r,o,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,i,s){const r=this.ctx,o=this.current;let c=o.x,h=o.y,f,p;const m=Xt(r),y=m[0]===0&&m[3]===0||m[1]===0&&m[2]===0,b=y?s.slice(0):null;for(let A=0,S=0,E=t.length;A<E;A++)switch(t[A]|0){case fi.rectangle:c=i[S++],h=i[S++];const x=i[S++],w=i[S++],M=c+x,O=h+w;r.moveTo(c,h),x===0||w===0?r.lineTo(M,O):(r.lineTo(M,h),r.lineTo(M,O),r.lineTo(c,O)),y||o.updateRectMinMax(m,[c,h,M,O]),r.closePath();break;case fi.moveTo:c=i[S++],h=i[S++],r.moveTo(c,h),y||o.updatePathMinMax(m,c,h);break;case fi.lineTo:c=i[S++],h=i[S++],r.lineTo(c,h),y||o.updatePathMinMax(m,c,h);break;case fi.curveTo:f=c,p=h,c=i[S+4],h=i[S+5],r.bezierCurveTo(i[S],i[S+1],i[S+2],i[S+3],c,h),o.updateCurvePathMinMax(m,f,p,i[S],i[S+1],i[S+2],i[S+3],c,h,b),S+=6;break;case fi.curveTo2:f=c,p=h,r.bezierCurveTo(c,h,i[S],i[S+1],i[S+2],i[S+3]),o.updateCurvePathMinMax(m,f,p,c,h,i[S],i[S+1],i[S+2],i[S+3],b),c=i[S+2],h=i[S+3],S+=4;break;case fi.curveTo3:f=c,p=h,c=i[S+2],h=i[S+3],r.bezierCurveTo(i[S],i[S+1],c,h,c,h),o.updateCurvePathMinMax(m,f,p,i[S],i[S+1],c,h,c,h,b),S+=4;break;case fi.closePath:r.closePath();break}y&&o.updateScalingPathMinMax(m,b),o.setCurrentPoint(c,h)}closePath(){this.ctx.closePath()}stroke(t=!0){const i=this.ctx,s=this.current.strokeColor;i.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&s?.getPattern?(i.save(),i.strokeStyle=s.getPattern(i,this,ji(i),Le.STROKE),this.rescaleAndStroke(!1),i.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),i.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const i=this.ctx,s=this.current.fillColor,r=this.current.patternFill;let o=!1;r&&(i.save(),i.fillStyle=s.getPattern(i,this,ji(i),Le.FILL),o=!0);const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(i.fill("evenodd"),this.pendingEOFill=!1):i.fill()),o&&i.restore(),t&&this.consumePath(c)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=LS}eoClip(){this.pendingClip=$g}beginText(){this.current.textMatrix=Rm,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,i=this.ctx;if(t===void 0){i.beginPath();return}i.save(),i.beginPath();for(const s of t)i.setTransform(...s.transform),i.translate(s.x,s.y),s.addToPath(i,s.fontSize);i.restore(),i.clip(),i.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,i){const s=this.commonObjs.get(t),r=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=s.fontMatrix||Gu,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&_t("Invalid font matrix for font "+t),i<0?(i=-i,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=i,s.isType3Font)return;const o=s.loadedName||"sans-serif",c=s.systemFontInfo?.css||`"${o}", ${s.fallbackName}`;let h="normal";s.black?h="900":s.bold&&(h="bold");const f=s.italic?"italic":"normal";let p=i;i<Ig?p=Ig:i>jg&&(p=jg),this.current.fontSizeScale=i/p,this.ctx.font=`${f} ${h} ${p}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,i){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=i}setLeadingMoveText(t,i){this.setLeading(-i),this.moveText(t,i)}setTextMatrix(t,i,s,r,o,c){this.current.textMatrix=[t,i,s,r,o,c],this.current.textMatrixScale=Math.hypot(t,i),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,i,s,r){const o=this.ctx,c=this.current,h=c.font,f=c.textRenderingMode,p=c.fontSize/c.fontSizeScale,m=f&Te.FILL_STROKE_MASK,y=!!(f&Te.ADD_TO_PATH_FLAG),b=c.patternFill&&!h.missingFile;let A;(h.disableFontFace||y||b)&&(A=h.getPathGenerator(this.commonObjs,t)),h.disableFontFace||b?(o.save(),o.translate(i,s),o.beginPath(),A(o,p),r&&o.setTransform(...r),(m===Te.FILL||m===Te.FILL_STROKE)&&o.fill(),(m===Te.STROKE||m===Te.FILL_STROKE)&&o.stroke(),o.restore()):((m===Te.FILL||m===Te.FILL_STROKE)&&o.fillText(t,i,s),(m===Te.STROKE||m===Te.FILL_STROKE)&&o.strokeText(t,i,s)),y&&(this.pendingTextPaths||=[]).push({transform:Xt(o),x:i,y:s,fontSize:p,addToPath:A})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const i=t.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<i.length;r+=4)if(i[r]>0&&i[r]<255){s=!0;break}return Ct(this,"isFontSubpixelAAEnabled",s)}showText(t){const i=this.current,s=i.font;if(s.isType3Font)return this.showType3Text(t);const r=i.fontSize;if(r===0)return;const o=this.ctx,c=i.fontSizeScale,h=i.charSpacing,f=i.wordSpacing,p=i.fontDirection,m=i.textHScale*p,y=t.length,b=s.vertical,A=b?1:-1,S=s.defaultVMetrics,E=r*i.fontMatrix[0],x=i.textRenderingMode===Te.FILL&&!s.disableFontFace&&!i.patternFill;o.save(),o.transform(...i.textMatrix),o.translate(i.x,i.y+i.textRise),p>0?o.scale(m,-1):o.scale(m,1);let w;if(i.patternFill){o.save();const j=i.fillColor.getPattern(o,this,ji(o),Le.FILL);w=Xt(o),o.restore(),o.fillStyle=j}let M=i.lineWidth;const O=i.textMatrixScale;if(O===0||M===0){const j=i.textRenderingMode&Te.FILL_STROKE_MASK;(j===Te.STROKE||j===Te.FILL_STROKE)&&(M=this.getSinglePixelWidth())}else M/=O;if(c!==1&&(o.scale(c,c),M/=c),o.lineWidth=M,s.isInvalidPDFjsFont){const j=[];let X=0;for(const Z of t)j.push(Z.unicode),X+=Z.width;o.fillText(j.join(""),0,0),i.x+=X*E*m,o.restore(),this.compose();return}let k=0,H;for(H=0;H<y;++H){const j=t[H];if(typeof j=="number"){k+=A*j*r/1e3;continue}let X=!1;const Z=(j.isSpace?f:0)+h,W=j.fontChar,tt=j.accent;let J,ot,dt=j.width;if(b){const rt=j.vmetric||S,P=-(j.vmetric?rt[1]:dt*.5)*E,B=rt[2]*E;dt=rt?-rt[0]:dt,J=P/c,ot=(k+B)/c}else J=k/c,ot=0;if(s.remeasure&&dt>0){const rt=o.measureText(W).width*1e3/r*c;if(dt<rt&&this.isFontSubpixelAAEnabled){const P=dt/rt;X=!0,o.save(),o.scale(P,1),J/=P}else dt!==rt&&(J+=(dt-rt)/2e3*r/c)}if(this.contentVisible&&(j.isInFont||s.missingFile)){if(x&&!tt)o.fillText(W,J,ot);else if(this.paintChar(W,J,ot,w),tt){const rt=J+r*tt.offset.x/c,P=ot-r*tt.offset.y/c;this.paintChar(tt.fontChar,rt,P,w)}}const ht=b?dt*E-Z*p:dt*E+Z*p;k+=ht,X&&o.restore()}b?i.y-=k:i.x+=k*m,o.restore(),this.compose()}showType3Text(t){const i=this.ctx,s=this.current,r=s.font,o=s.fontSize,c=s.fontDirection,h=r.vertical?1:-1,f=s.charSpacing,p=s.wordSpacing,m=s.textHScale*c,y=s.fontMatrix||Gu,b=t.length,A=s.textRenderingMode===Te.INVISIBLE;let S,E,x,w;if(!(A||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),i.transform(...s.textMatrix),i.translate(s.x,s.y),i.scale(m,c),S=0;S<b;++S){if(E=t[S],typeof E=="number"){w=h*E*o/1e3,this.ctx.translate(w,0),s.x+=w*m;continue}const M=(E.isSpace?p:0)+f,O=r.charProcOperatorList[E.operatorListId];if(!O){_t(`Type3 character "${E.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=E,this.save(),i.scale(o,o),i.transform(...y),this.executeOperatorList(O),this.restore()),x=at.applyTransform([E.width,0],y)[0]*o+M,i.translate(x,0),s.x+=x*m}i.restore(),this.processingType3=null}}setCharWidth(t,i){}setCharWidthAndBounds(t,i,s,r,o,c){this.ctx.rect(s,r,o-s,c-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let i;if(t[0]==="TilingPattern"){const s=t[1],r=this.baseTransform||Xt(this.ctx),o={createCanvasGraphics:c=>new js(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};i=new yh(t,s,this.ctx,o,r)}else i=this._getPattern(t[1],t[2]);return i}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,i,s){this.ctx.strokeStyle=this.current.strokeColor=at.makeHexColor(t,i,s)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,i,s){this.ctx.fillStyle=this.current.fillColor=at.makeHexColor(t,i,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,i=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=ES(this.getObject(t)),this.cachedPatterns.set(t,s)),i&&(s.matrix=i),s}shadingFill(t){if(!this.contentVisible)return;const i=this.ctx;this.save();const s=this._getPattern(t);i.fillStyle=s.getPattern(i,this,ji(i),Le.SHADING);const r=ji(i);if(r){const{width:o,height:c}=i.canvas,[h,f,p,m]=at.getAxialAlignedBoundingBox([0,0,o,c],r);this.ctx.fillRect(h,f,p-h,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){It("Should not call beginInlineImage")}beginImageData(){It("Should not call beginImageData")}paintFormXObjectBegin(t,i){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Xt(this.ctx),i)){const s=i[2]-i[0],r=i[3]-i[1];this.ctx.rect(i[0],i[1],s,r),this.current.updateRectMinMax(Xt(this.ctx),i),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;t.isolated||to("TODO: Support non-isolated groups."),t.knockout&&_t("Knockout groups not supported.");const s=Xt(i);if(t.matrix&&i.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=at.getAxialAlignedBoundingBox(t.bbox,Xt(i));const o=[0,0,i.canvas.width,i.canvas.height];r=at.intersect(r,o)||[0,0,0,0];const c=Math.floor(r[0]),h=Math.floor(r[1]),f=Math.max(Math.ceil(r[2])-c,1),p=Math.max(Math.ceil(r[3])-h,1);this.current.startNewPathAndClipBox([0,0,f,p]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(m,f,p),b=y.context;b.translate(-c,-h),b.transform(...s),t.smask?this.smaskStack.push({canvas:y.canvas,context:b,offsetX:c,offsetY:h,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(i.setTransform(1,0,0,1,0,0),i.translate(c,h),i.save()),tr(i,b),this.ctx=b,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=Xt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=at.getAxialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],r);this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(t,i,s,r,o){if(this.#t(),zl(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const c=i[2]-i[0],h=i[3]-i[1];if(o&&this.annotationCanvasMap){s=s.slice(),s[4]-=i[0],s[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=c,i[3]=h;const[f,p]=at.singularValueDecompose2dScale(Xt(this.ctx)),{viewportScale:m}=this,y=Math.ceil(c*this.outputScaleX*m),b=Math.ceil(h*this.outputScaleY*m);this.annotationCanvas=this.canvasFactory.create(y,b);const{canvas:A,context:S}=this.annotationCanvas;this.annotationCanvasMap.set(t,A),this.annotationCanvas.savedCtx=this.ctx,this.ctx=S,this.ctx.save(),this.ctx.setTransform(f,0,0,-p,0,h*p),zl(this.ctx)}else zl(this.ctx),this.endPath(),this.ctx.rect(i[0],i[1],c,h),this.ctx.clip(),this.ctx.beginPath()}this.current=new Vg(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const i=t.count;t=this.getObject(t.data,t),t.count=i;const s=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=RS(t)),r.compiled)){r.compiled(s);return}const o=this._createMaskCanvas(t),c=o.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(c,o.offsetX,o.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,i,s=0,r=0,o,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const h=this.ctx;h.save();const f=Xt(h);h.transform(i,s,r,o,0,0);const p=this._createMaskCanvas(t);h.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]);for(let m=0,y=c.length;m<y;m+=2){const b=at.transform(f,[i,s,r,o,c[m],c[m+1]]),[A,S]=at.applyTransform([0,0],b);h.drawImage(p.canvas,A,S)}h.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const i=this.ctx,s=this.current.fillColor,r=this.current.patternFill;for(const o of t){const{data:c,width:h,height:f,transform:p}=o,m=this.cachedCanvases.getCanvas("maskCanvas",h,f),y=m.context;y.save();const b=this.getObject(c,o);Yg(y,b),y.globalCompositeOperation="source-in",y.fillStyle=r?s.getPattern(y,this,ji(i),Le.FILL):s,y.fillRect(0,0,h,f),y.restore(),i.save(),i.transform(...p),i.scale(1,-1),Hl(i,m.canvas,0,0,h,f,0,-1,1,1),i.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const i=this.getObject(t);if(!i){_t("Dependent image isn't ready yet");return}this.paintInlineImageXObject(i)}paintImageXObjectRepeat(t,i,s,r){if(!this.contentVisible)return;const o=this.getObject(t);if(!o){_t("Dependent image isn't ready yet");return}const c=o.width,h=o.height,f=[];for(let p=0,m=r.length;p<m;p+=2)f.push({transform:[i,0,0,s,r[p],r[p+1]],x:0,y:0,w:c,h});this.paintInlineImageXObjectGroup(o,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:i,width:s,height:r}=t,o=this.cachedCanvases.getCanvas("inlineImage",s,r),c=o.context;return c.filter=this.current.transferMaps,c.drawImage(i,0,0),c.filter="none",o.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const i=t.width,s=t.height,r=this.ctx;if(this.save(),!Me){const{filter:h}=r;h!=="none"&&h!==""&&(r.filter="none")}r.scale(1/i,-1/s);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",i,s).context;Xg(f,t),o=this.applyTransferMapsToCanvas(f)}const c=this._scaleImage(o,ji(r));r.imageSmoothingEnabled=Kg(Xt(r),t.interpolate),Hl(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-s,i,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,i){if(!this.contentVisible)return;const s=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const o=t.width,c=t.height,f=this.cachedCanvases.getCanvas("inlineImage",o,c).context;Xg(f,t),r=this.applyTransferMapsToCanvas(f)}for(const o of i)s.save(),s.transform(...o.transform),s.scale(1,-1),Hl(s,r,o.x,o.y,o.w,o.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,i){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,i){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const s=this.ctx;this.pendingClip&&(i||(this.pendingClip===$g?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Xt(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const i=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/i}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:i,b:s,c:r,d:o}=this.ctx.getTransform();let c,h;if(s===0&&r===0){const f=Math.abs(i),p=Math.abs(o);if(f===p)if(t===0)c=h=1/f;else{const m=f*t;c=h=m<1?1/m:1}else if(t===0)c=1/f,h=1/p;else{const m=f*t,y=p*t;c=m<1?1/m:1,h=y<1?1/y:1}}else{const f=Math.abs(i*o-s*r),p=Math.hypot(i,s),m=Math.hypot(r,o);if(t===0)c=m/f,h=p/f;else{const y=t*f;c=m>y?m/y:1,h=p>y?p/y:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:i}=this,{lineWidth:s}=this.current,[r,o]=this.getScaleForStroking();if(i.lineWidth=s||1,r===1&&o===1){i.stroke();return}const c=i.getLineDash();if(t&&i.save(),i.scale(r,o),c.length>0){const h=Math.max(r,o);i.setLineDash(c.map(f=>f/h)),i.lineDashOffset/=h}i.stroke(),t&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const u in fi)js.prototype[u]!==void 0&&(js.prototype[fi[u]]=js.prototype[u]);class or{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}const Ul={DATA:1,ERROR:2},ae={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ke(u){switch(u instanceof Error||typeof u=="object"&&u!==null||It('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),u.name){case"AbortException":return new Zn(u.message);case"MissingPDFException":return new Qn(u.message);case"PasswordException":return new qu(u.message,u.code);case"UnexpectedResponseException":return new eo(u.message,u.status);case"UnknownErrorException":return new Vu(u.message,u.details);default:return new Vu(u.message,u.toString())}}class sr{#t=new AbortController;constructor(t,i,s){this.sourceName=t,this.targetName=i,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#s(t);return}if(t.callback){const s=t.callbackId,r=this.callbackCapabilities[s];if(!r)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],t.callback===Ul.DATA)r.resolve(t.data);else if(t.callback===Ul.ERROR)r.reject(Ke(t.reason));else throw new Error("Unexpected callback case");return}const i=this.actionHandler[t.action];if(!i)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const s=this.sourceName,r=t.sourceName,o=this.comObj;new Promise(function(c){c(i(t.data))}).then(function(c){o.postMessage({sourceName:s,targetName:r,callback:Ul.DATA,callbackId:t.callbackId,data:c})},function(c){o.postMessage({sourceName:s,targetName:r,callback:Ul.ERROR,callbackId:t.callbackId,reason:Ke(c)})});return}if(t.streamId){this.#i(t);return}i(t.data)}on(t,i){const s=this.actionHandler;if(s[t])throw new Error(`There is already an actionName called "${t}"`);s[t]=i}send(t,i,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:i},s)}sendWithPromise(t,i,s){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:i},s)}catch(c){o.reject(c)}return o.promise}sendWithStream(t,i,s,r){const o=this.streamId++,c=this.sourceName,h=this.targetName,f=this.comObj;return new ReadableStream({start:p=>{const m=Promise.withResolvers();return this.streamControllers[o]={controller:p,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:c,targetName:h,action:t,streamId:o,data:i,desiredSize:p.desiredSize},r),m.promise},pull:p=>{const m=Promise.withResolvers();return this.streamControllers[o].pullCall=m,f.postMessage({sourceName:c,targetName:h,stream:ae.PULL,streamId:o,desiredSize:p.desiredSize}),m.promise},cancel:p=>{ue(p instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[o].cancelCall=m,this.streamControllers[o].isClosed=!0,f.postMessage({sourceName:c,targetName:h,stream:ae.CANCEL,streamId:o,reason:Ke(p)}),m.promise}},s)}#i(t){const i=t.streamId,s=this.sourceName,r=t.sourceName,o=this.comObj,c=this,h=this.actionHandler[t.action],f={enqueue(p,m=1,y){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=m,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:s,targetName:r,stream:ae.ENQUEUE,streamId:i,chunk:p},y)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:r,stream:ae.CLOSE,streamId:i}),delete c.streamSinks[i])},error(p){ue(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:r,stream:ae.ERROR,streamId:i,reason:Ke(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[i]=f,new Promise(function(p){p(h(t.data,f))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:ae.START_COMPLETE,streamId:i,success:!0})},function(p){o.postMessage({sourceName:s,targetName:r,stream:ae.START_COMPLETE,streamId:i,reason:Ke(p)})})}#s(t){const i=t.streamId,s=this.sourceName,r=t.sourceName,o=this.comObj,c=this.streamControllers[i],h=this.streamSinks[i];switch(t.stream){case ae.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(Ke(t.reason));break;case ae.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(Ke(t.reason));break;case ae.PULL:if(!h){o.postMessage({sourceName:s,targetName:r,stream:ae.PULL_COMPLETE,streamId:i,success:!0});break}h.desiredSize<=0&&t.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=t.desiredSize,new Promise(function(f){f(h.onPull?.())}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:ae.PULL_COMPLETE,streamId:i,success:!0})},function(f){o.postMessage({sourceName:s,targetName:r,stream:ae.PULL_COMPLETE,streamId:i,reason:Ke(f)})});break;case ae.ENQUEUE:if(ue(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case ae.CLOSE:if(ue(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),this.#a(c,i);break;case ae.ERROR:ue(c,"error should have stream controller"),c.controller.error(Ke(t.reason)),this.#a(c,i);break;case ae.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(Ke(t.reason)),this.#a(c,i);break;case ae.CANCEL:if(!h)break;new Promise(function(f){f(h.onCancel?.(Ke(t.reason)))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:ae.CANCEL_COMPLETE,streamId:i,success:!0})},function(f){o.postMessage({sourceName:s,targetName:r,stream:ae.CANCEL_COMPLETE,streamId:i,reason:Ke(f)})}),h.sinkCapability.reject(Ke(t.reason)),h.isCancelled=!0,delete this.streamSinks[i];break;default:throw new Error("Unexpected stream case")}}async#a(t,i){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[i]}destroy(){this.#t?.abort(),this.#t=null}}class OS{#t;#e;constructor({parsedData:t,rawData:i}){this.#t=t,this.#e=i}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}getAll(){return oh(this.#t)}has(t){return this.#t.has(t)}}const Bs=Symbol("INTERNAL");class kS{#t=!1;#e=!1;#i=!1;#s=!0;constructor(t,{name:i,intent:s,usage:r,rbGroups:o}){this.#t=!!(t&$e.DISPLAY),this.#e=!!(t&$e.PRINT),this.name=i,this.intent=s,this.usage=r,this.rbGroups=o}get visible(){if(this.#i)return this.#s;if(!this.#s)return!1;const{print:t,view:i}=this.usage;return this.#t?i?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,i,s=!1){t!==Bs&&It("Internal method `_setVisible` called."),this.#i=s,this.#s=i}}class NS{#t=null;#e=new Map;#i=null;#s=null;constructor(t,i=$e.DISPLAY){if(this.renderingIntent=i,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#s=t.order;for(const s of t.groups)this.#e.set(s.id,new kS(i,s));if(t.baseState==="OFF")for(const s of this.#e.values())s._setVisible(Bs,!1);for(const s of t.on)this.#e.get(s)._setVisible(Bs,!0);for(const s of t.off)this.#e.get(s)._setVisible(Bs,!1);this.#i=this.getHash()}}#a(t){const i=t.length;if(i<2)return!0;const s=t[0];for(let r=1;r<i;r++){const o=t[r];let c;if(Array.isArray(o))c=this.#a(o);else if(this.#e.has(o))c=this.#e.get(o).visible;else return _t(`Optional content group not found: ${o}`),!0;switch(s){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return s==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return to("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(_t(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const i of t.ids){if(!this.#e.has(i))return _t(`Optional content group not found: ${i}`),!0;if(this.#e.get(i).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const i of t.ids){if(!this.#e.has(i))return _t(`Optional content group not found: ${i}`),!0;if(!this.#e.get(i).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const i of t.ids){if(!this.#e.has(i))return _t(`Optional content group not found: ${i}`),!0;if(!this.#e.get(i).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const i of t.ids){if(!this.#e.has(i))return _t(`Optional content group not found: ${i}`),!0;if(this.#e.get(i).visible)return!1}return!0}return _t(`Unknown optional content policy ${t.policy}.`),!0}return _t(`Unknown group type ${t.type}.`),!0}setVisibility(t,i=!0,s=!0){const r=this.#e.get(t);if(!r){_t(`Optional content group not found: ${t}`);return}if(s&&i&&r.rbGroups.length)for(const o of r.rbGroups)for(const c of o)c!==t&&this.#e.get(c)?._setVisible(Bs,!1,!0);r._setVisible(Bs,!!i,!0),this.#t=null}setOCGState({state:t,preserveRB:i}){let s;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const o=this.#e.get(r);if(o)switch(s){case"ON":this.setVisibility(r,!0,i);break;case"OFF":this.setVisibility(r,!1,i);break;case"Toggle":this.setVisibility(r,!o.visible,i);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#s?this.#s.slice():[...this.#e.keys()]:null}getGroups(){return this.#e.size>0?oh(this.#e):null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new Om;for(const[i,s]of this.#e)t.update(`${i}:${s.visible}`);return this.#t=t.hexdigest()}}class PS{constructor(t,{disableRange:i=!1,disableStream:s=!1}){ue(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:c,contentDispositionFilename:h}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=h,o?.length>0){const f=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!s,this._isRangeSupported=!i,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((f,p)=>{this._onReceiveData({begin:f,chunk:p})}),t.addProgressListener((f,p)=>{this._onProgress({loaded:f,total:p})}),t.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:i}){const s=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(s),!0)});ue(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const i=this._rangeReaders.indexOf(t);i>=0&&this._rangeReaders.splice(i,1)}getFullReader(){ue(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new FS(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,i){if(i<=this._progressiveDataLength)return null;const s=new HS(this,t,i);return this._pdfDataRangeTransport.requestDataRange(t,i),this._rangeReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class FS{constructor(t,i,s=!1,r=null){this._stream=t,this._done=s||!1,this._filename=hh(r)?r:null,this._queuedChunks=i||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class HS{constructor(t,i,s){this._stream=t,this._begin=i,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function zS(u){let t=!0,i=s("filename\\*","i").exec(u);if(i){i=i[1];let m=h(i);return m=unescape(m),m=f(m),m=p(m),o(m)}if(i=c(u),i){const m=p(i);return o(m)}if(i=s("filename","i").exec(u),i){i=i[1];let m=h(i);return m=p(m),o(m)}function s(m,y){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function r(m,y){if(m){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const b=new TextDecoder(m,{fatal:!0}),A=io(y);y=b.decode(A),t=!1}catch{}}return y}function o(m){return t&&/[\x80-\xff]/.test(m)&&(m=r("utf-8",m),t&&(m=r("iso-8859-1",m))),m}function c(m){const y=[];let b;const A=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=A.exec(m))!==null;){let[,E,x,w]=b;if(E=parseInt(E,10),E in y){if(E===0)break;continue}y[E]=[x,w]}const S=[];for(let E=0;E<y.length&&E in y;++E){let[x,w]=y[E];w=h(w),x&&(w=unescape(w),E===0&&(w=f(w))),S.push(w)}return S.join("")}function h(m){if(m.startsWith('"')){const y=m.slice(1).split('\\"');for(let b=0;b<y.length;++b){const A=y[b].indexOf('"');A!==-1&&(y[b]=y[b].slice(0,A),y.length=b+1),y[b]=y[b].replaceAll(/\\(.)/g,"$1")}m=y.join('"')}return m}function f(m){const y=m.indexOf("'");if(y===-1)return m;const b=m.slice(0,y),S=m.slice(y+1).replace(/^[^']*'/,"");return r(b,S)}function p(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,b,A,S){if(A==="q"||A==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(E,x){return String.fromCharCode(parseInt(x,16))}),r(b,S);try{S=atob(S)}catch{}return r(b,S)})}return""}function bh(u,t){const i=new Headers;if(!u||!t||typeof t!="object")return i;for(const s in t){const r=t[s];r!==void 0&&i.append(s,r)}return i}function vh({responseHeaders:u,isHttp:t,rangeChunkSize:i,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(u.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*i)||s||!t||u.get("Accept-Ranges")!=="bytes"||(u.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function Ah(u){const t=u.get("Content-Disposition");if(t){let i=zS(t);if(i.includes("%"))try{i=decodeURIComponent(i)}catch{}if(hh(i))return i}return null}function ao(u,t){return u===404||u===0&&t.startsWith("file:")?new Qn('Missing PDF "'+t+'".'):new eo(`Unexpected server response (${u}) while retrieving PDF "${t}".`,u)}function Im(u){return u===200||u===206}function jm(u,t,i){return{method:"GET",headers:u,signal:i.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Gm(u){return u instanceof Uint8Array?u.buffer:u instanceof ArrayBuffer?u:(_t(`getArrayBuffer - unexpected data format: ${u}`),new Uint8Array(u).buffer)}class Wg{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=bh(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ue(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new US(this),this._fullRequestReader}getRangeReader(t,i){if(i<=this._progressiveDataLength)return null;const s=new BS(this,t,i);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class US{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const i=t.source;this._withCredentials=i.withCredentials||!1,this._contentLength=i.length,this._headersCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange;const s=new Headers(t.headers),r=i.url;fetch(r,jm(s,this._withCredentials,this._abortController)).then(o=>{if(!Im(o.status))throw ao(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const c=o.headers,{allowRangeRequests:h,suggestedLength:f}=vh({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=f||this._contentLength,this._filename=Ah(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Zn("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:i}=await this._reader.read();return i?{value:t,done:i}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Gm(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class BS{constructor(t,i,s){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${i}-${s-1}`);const c=r.url;fetch(c,jm(o,this._withCredentials,this._abortController)).then(h=>{if(!Im(h.status))throw ao(h.status,c);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:i}=await this._reader.read();return i?{value:t,done:i}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:Gm(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const zu=200,Uu=206;function IS(u){const t=u.response;return typeof t!="string"?t:io(t).buffer}class jS{constructor({url:t,httpHeaders:i,withCredentials:s}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=bh(this.isHttp,i),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,i,s){const r={begin:t,end:i};for(const o in s)r[o]=s[o];return this.request(r)}requestFull(t){return this.request(t)}request(t){const i=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:i};i.open("GET",this.url),i.withCredentials=this.withCredentials;for(const[o,c]of this.headers)i.setRequestHeader(o,c);return this.isHttp&&"begin"in t&&"end"in t?(i.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=Uu):r.expectedStatus=zu,i.responseType="arraybuffer",t.onError&&(i.onerror=function(o){t.onError(i.status)}),i.onreadystatechange=this.onStateChange.bind(this,s),i.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,i.send(null),s}onProgress(t,i){const s=this.pendingRequests[t];s&&s.onProgress?.(i)}onStateChange(t,i){const s=this.pendingRequests[t];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){s.onError?.(r.status);return}const o=r.status||zu;if(!(o===zu&&s.expectedStatus===Uu)&&o!==s.expectedStatus){s.onError?.(r.status);return}const h=IS(r);if(o===Uu){const f=r.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(f);s.onDone({begin:parseInt(p[1],10),chunk:h})}else h?s.onDone({begin:0,chunk:h}):s.onError?.(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const i=this.pendingRequests[t].xhr;delete this.pendingRequests[t],i.abort()}}class GS{constructor(t){this._source=t,this._manager=new jS(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const i=this._rangeRequestReaders.indexOf(t);i>=0&&this._rangeRequestReaders.splice(i,1)}getFullReader(){return ue(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new qS(this._manager,this._source),this._fullRequestReader}getRangeReader(t,i){const s=new VS(this._manager,t,i);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class qS{constructor(t,i){this._manager=t;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=i.url,this._fullRequestId=t.requestFull(s),this._headersCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._contentLength=i.length,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,i=this._manager.getRequestXhr(t),s=new Headers(i.getAllResponseHeaders().trim().split(/[\r\n]+/).map(c=>{const[h,...f]=c.split(": ");return[h,f.join(": ")]})),{allowRangeRequests:r,suggestedLength:o}=vh({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=Ah(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=ao(t,this._url),this._headersCapability.reject(this._storedError);for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class VS{constructor(t,i,s){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(i,s,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(t){const i=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:i,done:!1}):this._queuedChunk=i,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=ao(t,this._url);for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const XS=/^[a-z][a-z0-9\-+.]+:/i;function YS(u){if(XS.test(u))return new URL(u);const t=Sn.get("url");return new URL(t.pathToFileURL(u))}function qm(u,t,i){return u.protocol==="http:"?Sn.get("http").request(u,{headers:t},i):Sn.get("https").request(u,{headers:t},i)}class KS{constructor(t){this.source=t,this.url=YS(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=bh(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ue(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new QS(this):new $S(this),this._fullRequestReader}getRangeReader(t,i){if(i<=this._progressiveDataLength)return null;const s=this.isFsUrl?new ZS(this,t,i):new WS(this,t,i);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class Vm{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const i=t.source;this._contentLength=i.length,this._loaded=0,this._filename=null,this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",i=>{this._error(i)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Zn("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Xm{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=t.source;this._isStreamingSupported=!i.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",i=>{this._error(i)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class $S extends Vm{constructor(t){super(t);const i=Object.fromEntries(t.headers),s=r=>{if(r.statusCode===404){const f=new Qn(`Missing PDF "${this._url}".`);this._storedError=f,this._headersCapability.reject(f);return}this._headersCapability.resolve(),this._setReadableStream(r);const o=new Headers(this._readableStream.headers),{allowRangeRequests:c,suggestedLength:h}=vh({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=Ah(o)};this._request=qm(this._url,i,s),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class WS extends Xm{constructor(t,i,s){super(t);const r=Object.fromEntries(t.headers);r.Range=`bytes=${i}-${s-1}`;const o=c=>{if(c.statusCode===404){const h=new Qn(`Missing PDF "${this._url}".`);this._storedError=h;return}this._setReadableStream(c)};this._request=qm(this._url,r,o),this._request.on("error",c=>{this._storedError=c}),this._request.end()}}class QS extends Vm{constructor(t){super(t);const i=Sn.get("fs");i.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new Qn(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class ZS extends Xm{constructor(t,i,s){super(t);const r=Sn.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:i,end:s-1}))}}const JS=1e5,ze=30,t_=.8;let Qu=class ri{#t=Promise.withResolvers();#e=null;#i=!1;#s=!!globalThis.FontInspector?.enabled;#a=null;#n=null;#o=0;#c=0;#u=null;#l=null;#h=0;#r=0;#d=Object.create(null);#p=[];#f=null;#y=[];#m=new WeakMap;#g=null;static#b=new Map;static#A=new Map;static#T=new WeakMap;static#E=null;static#w=new Set;constructor({textContentSource:t,container:i,viewport:s}){if(t instanceof ReadableStream)this.#f=t;else if(typeof t=="object")this.#f=new ReadableStream({start(f){f.enqueue(t),f.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=i,this.#r=s.scale*(globalThis.devicePixelRatio||1),this.#h=s.rotation,this.#n={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:o,pageX:c,pageY:h}=s.rawDims;this.#g=[1,0,0,-1,-c,h+o],this.#c=r,this.#o=o,ri.#M(),Yn(i,s),this.#t.promise.finally(()=>{ri.#w.delete(this),this.#n=null,this.#d=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:i}=Oe.platform;return Ct(this,"fontFamilyMap",new Map([["sans-serif",`${t&&i?"Calibri, ":""}sans-serif`],["monospace",`${t&&i?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#u.read().then(({value:i,done:s})=>{if(s){this.#t.resolve();return}this.#a??=i.lang,Object.assign(this.#d,i.styles),this.#P(i.items),t()},this.#t.reject)};return this.#u=this.#f.getReader(),ri.#w.add(this),t(),this.#t.promise}update({viewport:t,onBefore:i=null}){const s=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==this.#h&&(i?.(),this.#h=r,Yn(this.#l,{rotation:r})),s!==this.#r){i?.(),this.#r=s;const o={div:null,properties:null,ctx:ri.#x(this.#a)};for(const c of this.#y)o.properties=this.#m.get(c),o.div=c,this.#S(o)}}cancel(){const t=new Zn("TextLayer task cancelled.");this.#u?.cancel(t).catch(()=>{}),this.#u=null,this.#t.reject(t)}get textDivs(){return this.#y}get textContentItemsStr(){return this.#p}#P(t){if(this.#i)return;this.#n.ctx??=ri.#x(this.#a);const i=this.#y,s=this.#p;for(const r of t){if(i.length>JS){_t("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const o=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),r.id!==null&&this.#e.setAttribute("id",`${r.id}`),o.append(this.#e)}else r.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}s.push(r.str),this.#C(r)}}#C(t){const i=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#y.push(i);const r=at.transform(this.#g,t.transform);let o=Math.atan2(r[1],r[0]);const c=this.#d[t.fontName];c.vertical&&(o+=Math.PI/2);let h=this.#s&&c.fontSubstitution||c.fontFamily;h=ri.fontFamilyMap.get(h)||h;const f=Math.hypot(r[2],r[3]),p=f*ri.#O(h,this.#a);let m,y;o===0?(m=r[4],y=r[5]-p):(m=r[4]+p*Math.sin(o),y=r[5]-p*Math.cos(o));const b="calc(var(--scale-factor)*",A=i.style;this.#e===this.#l?(A.left=`${(100*m/this.#c).toFixed(2)}%`,A.top=`${(100*y/this.#o).toFixed(2)}%`):(A.left=`${b}${m.toFixed(2)}px)`,A.top=`${b}${y.toFixed(2)}px)`),A.fontSize=`${b}${(ri.#E*f).toFixed(2)}px)`,A.fontFamily=h,s.fontSize=f,i.setAttribute("role","presentation"),i.textContent=t.str,i.dir=t.dir,this.#s&&(i.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),o!==0&&(s.angle=o*(180/Math.PI));let S=!1;if(t.str.length>1)S=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const E=Math.abs(t.transform[0]),x=Math.abs(t.transform[3]);E!==x&&Math.max(E,x)/Math.min(E,x)>1.5&&(S=!0)}if(S&&(s.canvasWidth=c.vertical?t.height:t.width),this.#m.set(i,s),this.#n.div=i,this.#n.properties=s,this.#S(this.#n),s.hasText&&this.#e.append(i),s.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),this.#e.append(E)}}#S(t){const{div:i,properties:s,ctx:r}=t,{style:o}=i;let c="";if(ri.#E>1&&(c=`scale(${1/ri.#E})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:h}=o,{canvasWidth:f,fontSize:p}=s;ri.#R(r,p*this.#r,h);const{width:m}=r.measureText(i.textContent);m>0&&(c=`scaleX(${f*this.#r/m}) ${c}`)}s.angle!==0&&(c=`rotate(${s.angle}deg) ${c}`),c.length>0&&(o.transform=c)}static cleanup(){if(!(this.#w.size>0)){this.#b.clear();for(const{canvas:t}of this.#A.values())t.remove();this.#A.clear()}}static#x(t=null){let i=this.#A.get(t||="");if(!i){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=t,document.body.append(s),i=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#A.set(t,i),this.#T.set(i,{size:0,family:""})}return i}static#R(t,i,s){const r=this.#T.get(t);i===r.size&&s===r.family||(t.font=`${i}px ${s}`,r.size=i,r.family=s)}static#M(){if(this.#E!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#E=t.getBoundingClientRect().height,t.remove()}static#O(t,i){const s=this.#b.get(t);if(s)return s;const r=this.#x(i);r.canvas.width=r.canvas.height=ze,this.#R(r,ze,t);const o=r.measureText("");let c=o.fontBoundingBoxAscent,h=Math.abs(o.fontBoundingBoxDescent);if(c){const m=c/(c+h);return this.#b.set(t,m),r.canvas.width=r.canvas.height=0,m}r.strokeStyle="red",r.clearRect(0,0,ze,ze),r.strokeText("g",0,0);let f=r.getImageData(0,0,ze,ze).data;h=0;for(let m=f.length-1-3;m>=0;m-=4)if(f[m]>0){h=Math.ceil(m/4/ze);break}r.clearRect(0,0,ze,ze),r.strokeText("A",0,ze),f=r.getImageData(0,0,ze,ze).data,c=0;for(let m=0,y=f.length;m<y;m+=4)if(f[m]>0){c=ze-Math.floor(m/4/ze);break}r.canvas.width=r.canvas.height=0;const p=c?c/(c+h):t_;return this.#b.set(t,p),p}};class ur{static textContent(t){const i=[],s={items:i,styles:Object.create(null)};function r(o){if(!o)return;let c=null;const h=o.name;if(h==="#text")c=o.value;else if(ur.shouldBuildText(h))o?.attributes?.textContent?c=o.attributes.textContent:o.value&&(c=o.value);else return;if(c!==null&&i.push({str:c}),!!o.children)for(const f of o.children)r(f)}return r(t),s}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const e_=65536,i_=100,n_=5e3,s_=Me?mS:fS,a_=Me?yS:Fm,r_=Me?gS:pS,l_=Me?bS:Um;function o_(u={}){typeof u=="string"||u instanceof URL?u={url:u}:(u instanceof ArrayBuffer||ArrayBuffer.isView(u))&&(u={data:u});const t=new Sh,{docId:i}=t,s=u.url?c_(u.url):null,r=u.data?u_(u.data):null,o=u.httpHeaders||null,c=u.withCredentials===!0,h=u.password??null,f=u.range instanceof Ym?u.range:null,p=Number.isInteger(u.rangeChunkSize)&&u.rangeChunkSize>0?u.rangeChunkSize:e_;let m=u.worker instanceof Gs?u.worker:null;const y=u.verbosity,b=typeof u.docBaseUrl=="string"&&!so(u.docBaseUrl)?u.docBaseUrl:null,A=typeof u.cMapUrl=="string"?u.cMapUrl:null,S=u.cMapPacked!==!1,E=u.CMapReaderFactory||a_,x=typeof u.standardFontDataUrl=="string"?u.standardFontDataUrl:null,w=u.StandardFontDataFactory||l_,M=u.stopAtErrors!==!0,O=Number.isInteger(u.maxImageSize)&&u.maxImageSize>-1?u.maxImageSize:-1,k=u.isEvalSupported!==!1,H=typeof u.isOffscreenCanvasSupported=="boolean"?u.isOffscreenCanvasSupported:!Me,j=typeof u.isChrome=="boolean"?u.isChrome:!Oe.platform.isFirefox&&typeof window<"u"&&!!window?.chrome,X=Number.isInteger(u.canvasMaxAreaInBytes)?u.canvasMaxAreaInBytes:-1,Z=typeof u.disableFontFace=="boolean"?u.disableFontFace:Me,W=u.fontExtraProperties===!0,tt=u.enableXfa===!0,J=u.ownerDocument||globalThis.document,ot=u.disableRange===!0,dt=u.disableStream===!0,ht=u.disableAutoFetch===!0,rt=u.pdfBug===!0,P=u.CanvasFactory||s_,B=u.FilterFactory||r_,Y=u.enableHWA===!0,gt=f?f.length:u.length??NaN,C=typeof u.useSystemFonts=="boolean"?u.useSystemFonts:!Me&&!Z,G=typeof u.useWorkerFetch=="boolean"?u.useWorkerFetch:E===Fm&&w===Um&&A&&x&&nr(A,document.baseURI)&&nr(x,document.baseURI);u.canvasFactory&&zg("`canvasFactory`-instance option, please use `CanvasFactory` instead."),u.filterFactory&&zg("`filterFactory`-instance option, please use `FilterFactory` instead.");const Q=null;qA(y);const $={canvasFactory:new P({ownerDocument:J,enableHWA:Y}),filterFactory:new B({docId:i,ownerDocument:J}),cMapReaderFactory:G?null:new E({baseUrl:A,isCompressed:S}),standardFontDataFactory:G?null:new w({baseUrl:x})};if(!m){const it={verbosity:y,port:or.workerPort};m=it.port?Gs.fromPort(it):new Gs(it),t._worker=m}const et={docId:i,apiVersion:"4.8.69",data:r,password:h,disableAutoFetch:ht,rangeChunkSize:p,length:gt,docBaseUrl:b,enableXfa:tt,evaluatorOptions:{maxImageSize:O,disableFontFace:Z,ignoreErrors:M,isEvalSupported:k,isOffscreenCanvasSupported:H,isChrome:j,canvasMaxAreaInBytes:X,fontExtraProperties:W,useSystemFonts:C,cMapUrl:G?A:null,standardFontDataUrl:G?x:null}},mt={disableFontFace:Z,fontExtraProperties:W,ownerDocument:J,pdfBug:rt,styleElement:Q,loadingParams:{disableAutoFetch:ht,enableXfa:tt}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const it=m.messageHandler.sendWithPromise("GetDocRequest",et,r?[r.buffer]:null);let yt;if(f)yt=new PS(f,{disableRange:ot,disableStream:dt});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");let Tt;Me?Tt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&nr(s)?Wg:KS:Tt=nr(s)?Wg:GS,yt=new Tt({url:s,length:gt,httpHeaders:o,withCredentials:c,rangeChunkSize:p,disableRange:ot,disableStream:dt})}return it.then(Tt=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const te=new sr(i,Tt,m.port),Nt=new p_(te,t,yt,mt,$);t._transport=Nt,te.send("Ready",null)})}).catch(t._capability.reject),t}function c_(u){if(u instanceof URL)return u.href;try{return new URL(u,window.location).href}catch{if(Me&&typeof u=="string")return u}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function u_(u){if(Me&&typeof Buffer<"u"&&u instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength)return u;if(typeof u=="string")return io(u);if(u instanceof ArrayBuffer||ArrayBuffer.isView(u)||typeof u=="object"&&!isNaN(u?.length))return new Uint8Array(u);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Qg(u){return typeof u=="object"&&Number.isInteger(u?.num)&&u.num>=0&&Number.isInteger(u?.gen)&&u.gen>=0}class Sh{static#t=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Sh.#t++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}let Ym=class{constructor(t,i,s=!1,r=null){this.length=t,this.initialData=i,this.progressiveDone=s,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,i){for(const s of this._rangeListeners)s(t,i)}onDataProgress(t,i){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(t,i)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const i of this._progressiveReadListeners)i(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,i){It("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class h_{constructor(t,i){this._pdfInfo=t,this._transport=i}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ct(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(i)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class d_{#t=null;#e=!1;constructor(t,i,s,r=!1){this._pageIndex=t,this._pageInfo=i,this._transport=s,this._stats=r?new Hg:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new Km,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:i=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:o=!1}={}){return new pr({viewBox:this.view,scale:t,rotation:i,offsetX:s,offsetY:r,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,i)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ct(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:i,intent:s="display",annotationMode:r=vn.ENABLE,transform:o=null,background:c=null,optionalContentConfigPromise:h=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:m=null,isEditing:y=!1}){this._stats?.time("Overall");const b=this._transport.getRenderingIntent(s,r,m,y),{renderingIntent:A,cacheKey:S}=b;this.#e=!1,this.#s(),h||=this._transport.getOptionalContentConfig(A);let E=this._intentStates.get(S);E||(E=Object.create(null),this._intentStates.set(S,E)),E.streamReaderCancelTimeout&&(clearTimeout(E.streamReaderCancelTimeout),E.streamReaderCancelTimeout=null);const x=!!(A&$e.PRINT);E.displayReadyCapability||(E.displayReadyCapability=Promise.withResolvers(),E.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(b));const w=k=>{E.renderTasks.delete(M),(this._maybeCleanupAfterRender||x)&&(this.#e=!0),this.#i(!x),k?(M.capability.reject(k),this._abortOperatorList({intentState:E,reason:k instanceof Error?k:new Error(k)})):M.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},M=new Is({callback:w,params:{canvasContext:t,viewport:i,transform:o,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:E.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:p});(E.renderTasks||=new Set).add(M);const O=M.task;return Promise.all([E.displayReadyCapability.promise,h]).then(([k,H])=>{if(this.destroyed){w();return}if(this._stats?.time("Rendering"),!(H.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");M.initializeGraphics({transparency:k,optionalContentConfig:H}),M.operatorListChanged()}).catch(w),O}getOperatorList({intent:t="display",annotationMode:i=vn.ENABLE,printAnnotationStorage:s=null,isEditing:r=!1}={}){function o(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(f))}const c=this._transport.getRenderingIntent(t,i,s,r,!0);let h=this._intentStates.get(c.cacheKey);h||(h=Object.create(null),this._intentStates.set(c.cacheKey,h));let f;return h.opListReadCapability||(f=Object.create(null),f.operatorListChanged=o,h.opListReadCapability=Promise.withResolvers(),(h.renderTasks||=new Set).add(f),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(c)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:i=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:i===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>ur.textContent(s));const i=this.streamTextContent(t);return new Promise(function(s,r){function o(){c.read().then(function({value:f,done:p}){if(p){s(h);return}h.lang??=f.lang,Object.assign(h.styles,f.styles),h.items.push(...f.items),o()},r)}const c=i.getReader(),h={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const i of this._intentStates.values())if(this._abortOperatorList({intentState:i,reason:new Error("Page was destroyed."),force:!0}),!i.opListReadCapability)for(const s of i.renderTasks)t.push(s.completed),s.cancel();return this.objs.clear(),this.#e=!1,this.#s(),Promise.all(t)}cleanup(t=!1){this.#e=!0;const i=this.#i(!1);return t&&i&&(this._stats&&=new Hg),i}#i(t=!1){if(this.#s(),!this.#e||this.destroyed)return!1;if(t)return this.#t=setTimeout(()=>{this.#t=null,this.#i(!1)},n_),!1;for(const{renderTasks:i,operatorList:s}of this._intentStates.values())if(i.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}#s(){this.#t&&(clearTimeout(this.#t),this.#t=null)}_startRenderPage(t,i){const s=this._intentStates.get(i);s&&(this._stats?.timeEnd("Page Request"),s.displayReadyCapability?.resolve(t))}_renderPageChunk(t,i){for(let s=0,r=t.length;s<r;s++)i.operatorList.fnArray.push(t.fnArray[s]),i.operatorList.argsArray.push(t.argsArray[s]);i.operatorList.lastChunk=t.lastChunk,i.operatorList.separateAnnots=t.separateAnnots;for(const s of i.renderTasks)s.operatorListChanged();t.lastChunk&&this.#i(!0)}_pumpOperatorList({renderingIntent:t,cacheKey:i,annotationStorageSerializable:s,modifiedIds:r}){const{map:o,transfer:c}=s,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:i,annotationStorage:o,modifiedIds:r},c).getReader(),p=this._intentStates.get(i);p.streamReader=f;const m=()=>{f.read().then(({value:y,done:b})=>{if(b){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,p),m())},y=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const b of p.renderTasks)b.operatorListChanged();this.#i(!0)}if(p.displayReadyCapability)p.displayReadyCapability.reject(y);else if(p.opListReadCapability)p.opListReadCapability.reject(y);else throw y}})};m()}_abortOperatorList({intentState:t,reason:i,force:s=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!s){if(t.renderTasks.size>0)return;if(i instanceof uh){let r=i_;i.extraDelay>0&&i.extraDelay<1e3&&(r+=i.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:i,force:!0})},r);return}}if(t.streamReader.cancel(new Zn(i.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}class f_{#t=new Map;#e=Promise.resolve();postMessage(t,i){const s={data:structuredClone(t,i?{transfer:i}:null)};this.#e.then(()=>{for(const[r]of this.#t)r.call(this,s)})}addEventListener(t,i,s=null){let r=null;if(s?.signal instanceof AbortSignal){const{signal:o}=s;if(o.aborted){_t("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,i);r=()=>o.removeEventListener("abort",c),o.addEventListener("abort",c)}this.#t.set(i,r)}removeEventListener(t,i){this.#t.get(i)?.(),this.#t.delete(i)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}var $l,Vn,Xn,Xs,Vl,Ys,Xl;const qt=class qt{constructor({name:t=null,port:i=null,verbosity:s=VA()}={}){Us(this,Xs);if(this.name=t,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,i){if(di(qt,Xn)?.has(i))throw new Error("Cannot use more than one PDFWorker per port.");(di(qt,Xn)||$a(qt,Xn,new WeakMap)).set(i,this),this._initializeFromPort(i);return}this._initialize()}get promise(){return Me?Promise.all([Sn.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new sr("main","worker",t),this._messageHandler.on("ready",function(){}),Nl(this,Xs,Vl).call(this)}_initialize(){if(di(qt,Vn)||di(qt,Ys,Xl)){this._setupFakeWorker();return}let{workerSrc:t}=qt;try{qt._isSameOrigin(window.location.href,t)||(t=qt._createCDNWrapper(new URL(t,window.location).href));const i=new Worker(t,{type:"module"}),s=new sr("main","worker",i),r=()=>{o.abort(),s.destroy(),i.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;i.addEventListener("error",()=>{this._webWorker||r()},{signal:o.signal}),s.on("test",h=>{if(o.abort(),this.destroyed||!h){r();return}this._messageHandler=s,this._port=i,this._webWorker=i,Nl(this,Xs,Vl).call(this)}),s.on("ready",h=>{if(o.abort(),this.destroyed){r();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const h=new Uint8Array;s.send("test",h,[h.buffer])};c();return}catch{to("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){di(qt,Vn)||(_t("Setting up fake worker."),$a(qt,Vn,!0)),qt._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const i=new f_;this._port=i;const s=`fake${yg(qt,$l)._++}`,r=new sr(s+"_worker",s,i);t.setup(r,i),this._messageHandler=new sr(s,s+"_worker",i),Nl(this,Xs,Vl).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),di(qt,Xn)?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const i=di(this,Xn)?.get(t.port);if(i){if(i._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return i}return new qt(t)}static get workerSrc(){if(or.workerSrc)return or.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ct(this,"_setupFakeWorkerGlobal",(async()=>di(this,Ys,Xl)?di(this,Ys,Xl):(await import(this.workerSrc)).WorkerMessageHandler)())}};$l=new WeakMap,Vn=new WeakMap,Xn=new WeakMap,Xs=new WeakSet,Vl=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Ys=new WeakSet,Xl=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Us(qt,Ys),Us(qt,$l,0),Us(qt,Vn,!1),Us(qt,Xn),Me&&($a(qt,Vn,!0),or.workerSrc||="./pdf.worker.mjs"),qt._isSameOrigin=(t,i)=>{let s;try{if(s=new URL(t),!s.origin||s.origin==="null")return!1}catch{return!1}const r=new URL(i,s);return s.origin===r.origin},qt._createCDNWrapper=t=>{const i=`await import("${t}");`;return URL.createObjectURL(new Blob([i],{type:"text/javascript"}))};let Gs=qt;class p_{#t=new Map;#e=new Map;#i=new Map;#s=new Map;#a=null;constructor(t,i,s,r,o){this.messageHandler=t,this.loadingTask=i,this.commonObjs=new Km,this.fontLoader=new hS({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#n(t,i=null){const s=this.#t.get(t);if(s)return s;const r=this.messageHandler.sendWithPromise(t,i);return this.#t.set(t,r),r}get annotationStorage(){return Ct(this,"annotationStorage",new gh)}getRenderingIntent(t,i=vn.ENABLE,s=null,r=!1,o=!1){let c=$e.DISPLAY,h=Yu;switch(t){case"any":c=$e.ANY;break;case"display":break;case"print":c=$e.PRINT;break;default:_t(`getRenderingIntent - invalid intent: ${t}`)}const f=c&$e.PRINT&&s instanceof km?s:this.annotationStorage;switch(i){case vn.DISABLE:c+=$e.ANNOTATIONS_DISABLE;break;case vn.ENABLE:break;case vn.ENABLE_FORMS:c+=$e.ANNOTATIONS_FORMS;break;case vn.ENABLE_STORAGE:c+=$e.ANNOTATIONS_STORAGE,h=f.serializable;break;default:_t(`getRenderingIntent - invalid annotationMode: ${i}`)}r&&(c+=$e.IS_EDITING),o&&(c+=$e.OPLIST);const{ids:p,hash:m}=f.modifiedIds,y=[c,h.hash,m];return{renderingIntent:c,cacheKey:y.join("_"),annotationStorageSerializable:h,modifiedIds:p}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const s of this.#e.values())t.push(s._destroy());this.#e.clear(),this.#i.clear(),this.#s.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const i=this.messageHandler.sendWithPromise("Terminate",null);return t.push(i),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),Qu.cleanup(),this._networkStream?.cancelAllRequests(new Zn("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:i}=this;t.on("GetReader",(s,r)=>{ue(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:c}){if(c){r.close();return}ue(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async s=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:c}=this._fullReader;return(!r||!o)&&(this._lastProgress&&i.onProgress?.(this._lastProgress),this._fullReader.onProgress=h=>{i.onProgress?.({loaded:h.loaded,total:h.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:c}}),t.on("GetRangeReader",(s,r)=>{ue(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(s.begin,s.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:c,done:h}){if(h){r.close();return}ue(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{r.error(c)})},r.onCancel=c=>{o.cancel(c),r.ready.catch(h=>{if(!this.destroyed)throw h})}}),t.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,i._capability.resolve(new h_(s,this))}),t.on("DocException",function(s){let r;switch(s.name){case"PasswordException":r=new qu(s.message,s.code);break;case"InvalidPDFException":r=new Mm(s.message);break;case"MissingPDFException":r=new Qn(s.message);break;case"UnexpectedResponseException":r=new eo(s.message,s.status);break;case"UnknownErrorException":r=new Vu(s.message,s.details);break;default:It("DocException - expected a valid Error.")}i._capability.reject(r)}),t.on("PasswordRequest",s=>{if(this.#a=Promise.withResolvers(),i.onPassword){const r=o=>{o instanceof Error?this.#a.reject(o):this.#a.resolve({password:o})};try{i.onPassword(r,s.code)}catch(o){this.#a.reject(o)}}else this.#a.reject(new qu(s.message,s.code));return this.#a.promise}),t.on("DataLoaded",s=>{i.onProgress?.({loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),t.on("StartRenderPage",s=>{if(this.destroyed)return;this.#e.get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),t.on("commonobj",([s,r,o])=>{if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":const{disableFontFace:c,fontExtraProperties:h,pdfBug:f}=this._params;if("error"in o){const b=o.error;_t(`Error during font loading: ${b}`),this.commonObjs.resolve(s,b);break}const p=f&&globalThis.FontInspector?.enabled?(b,A)=>globalThis.FontInspector.fontAdded(b,A):null,m=new dS(o,{disableFontFace:c,inspectFont:p});this.fontLoader.bind(m).catch(()=>t.sendWithPromise("FontFallback",{id:s})).finally(()=>{!h&&m.data&&(m.data=null),this.commonObjs.resolve(s,m)});break;case"CopyLocalImage":const{imageRef:y}=o;ue(y,"The imageRef must be defined.");for(const b of this.#e.values())for(const[,A]of b.objs)if(A?.ref===y)return A.dataLen?(this.commonObjs.resolve(s,structuredClone(A)),A.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([s,r,o,c])=>{if(this.destroyed)return;const h=this.#e.get(r);if(!h.objs.has(s)){if(h._intentStates.size===0){c?.bitmap?.close();return}switch(o){case"Image":h.objs.resolve(s,c),c?.dataLen>BA&&(h._maybeCleanupAfterRender=!0);break;case"Pattern":h.objs.resolve(s,c);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",s=>{this.destroyed||i.onProgress?.({loaded:s.loaded,total:s.total})}),t.on("FetchBuiltInCMap",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(s)}),t.on("FetchStandardFontData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&_t("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},i).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const i=t-1,s=this.#i.get(i);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#s.set(o.refStr,t);const c=new d_(i,o,this,this._params.pdfBug);return this.#e.set(i,c),c});return this.#i.set(i,r),r}getPageIndex(t){return Qg(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,i){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:i})}getFieldObjects(){return this.#n("GetFieldObjects")}hasJSActions(){return this.#n("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#n("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#n("GetOptionalContentConfig").then(i=>new NS(i,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",i=this.#t.get(t);if(i)return i;const s=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new OS(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const i of this.#e.values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),Qu.cleanup()}}cachedPageNumber(t){if(!Qg(t))return null;const i=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#s.get(i)??null}}const Bl=Symbol("INITIAL_DATA");class Km{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Bl}}get(t,i=null){if(i){const r=this.#e(t);return r.promise.then(()=>i(r.data)),null}const s=this.#t[t];if(!s||s.data===Bl)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return s.data}has(t){const i=this.#t[t];return!!i&&i.data!==Bl}resolve(t,i=null){const s=this.#e(t);s.data=i,s.resolve()}clear(){for(const t in this.#t){const{data:i}=this.#t[t];i?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:i}=this.#t[t];i!==Bl&&(yield[t,i])}}}class g_{#t=null;constructor(t){this.#t=t,this.onContinue=null}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:i}=this.#t;return t.form||t.canvas&&i?.size>0}}class Is{#t=null;static#e=new WeakSet;constructor({callback:t,params:i,objs:s,commonObjs:r,annotationCanvasMap:o,operatorList:c,pageIndex:h,canvasFactory:f,filterFactory:p,useRequestAnimationFrame:m=!1,pdfBug:y=!1,pageColors:b=null}){this.callback=t,this.params=i,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=h,this.canvasFactory=f,this.filterFactory=p,this._pdfBug=y,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new g_(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=i.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:i}){if(this.cancelled)return;if(this._canvas){if(Is.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Is.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:r,transform:o,background:c}=this.params;this.gfx=new js(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,i=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),Is.#e.delete(this._canvas),this.callback(t||new uh(`Rendering cancelled, page ${this._pageIndex+1}`,i))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Is.#e.delete(this._canvas),this.callback())))}}const m_="4.8.69",y_="3634dab10";function Zg(u){return Math.floor(Math.max(0,Math.min(1,u))*255).toString(16).padStart(2,"0")}function er(u){return Math.max(0,Math.min(255,255*u))}class Jg{static CMYK_G([t,i,s,r]){return["G",1-Math.min(1,.3*t+.59*s+.11*i+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=er(t),[t,t,t]}static G_HTML([t]){const i=Zg(t);return`#${i}${i}${i}`}static RGB_G([t,i,s]){return["G",.3*t+.59*i+.11*s]}static RGB_rgb(t){return t.map(er)}static RGB_HTML(t){return`#${t.map(Zg).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,i,s,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,s+r),1-Math.min(1,i+r)]}static CMYK_rgb([t,i,s,r]){return[er(1-Math.min(1,t+r)),er(1-Math.min(1,s+r)),er(1-Math.min(1,i+r))]}static CMYK_HTML(t){const i=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(i)}static RGB_CMYK([t,i,s]){const r=1-t,o=1-i,c=1-s,h=Math.min(r,o,c);return["CMYK",r,o,c,h]}}class b_{create(t,i,s=!1){if(t<=0||i<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${i}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${i}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){It("Abstract method `_createSVG` called.")}}class _h extends b_{_createSVG(t){return document.createElementNS(Gi,t)}}class $m{static setupStorage(t,i,s,r,o){const c=r.getValue(i,{value:null});switch(s.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),o==="print")break;t.addEventListener("input",h=>{r.setValue(i,{value:h.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(c.value===s.attributes.xfaOn?t.setAttribute("checked",!0):c.value===s.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",h=>{r.setValue(i,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),o==="print")break;t.addEventListener("input",h=>{r.setValue(i,{value:h.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const h of s.children)h.attributes.value===c.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}t.addEventListener("input",h=>{const f=h.target.options,p=f.selectedIndex===-1?"":f[f.selectedIndex].value;r.setValue(i,{value:p})});break}}static setAttributes({html:t,element:i,storage:s=null,intent:r,linkService:o}){const{attributes:c}=i,h=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${r}`);for(const[f,p]of Object.entries(c))if(p!=null)switch(f){case"class":p.length&&t.setAttribute(f,p.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",p);break;case"style":Object.assign(t.style,p);break;case"textContent":t.textContent=p;break;default:(!h||f!=="href"&&f!=="newWindow")&&t.setAttribute(f,p)}h&&o.addLinkAttributes(t,c.href,c.newWindow),s&&c.dataId&&this.setupStorage(t,c.dataId,i,s)}static render(t){const i=t.annotationStorage,s=t.linkService,r=t.xfaHtml,o=t.intent||"display",c=document.createElement(r.name);r.attributes&&this.setAttributes({html:c,element:r,intent:o,linkService:s});const h=o!=="richText",f=t.div;if(f.append(c),t.viewport){const y=`matrix(${t.viewport.transform.join(",")})`;f.style.transform=y}h&&f.setAttribute("class","xfaLayer xfaFont");const p=[];if(r.children.length===0){if(r.value){const y=document.createTextNode(r.value);c.append(y),h&&ur.shouldBuildText(r.name)&&p.push(y)}return{textDivs:p}}const m=[[r,-1,c]];for(;m.length>0;){const[y,b,A]=m.at(-1);if(b+1===y.children.length){m.pop();continue}const S=y.children[++m.at(-1)[1]];if(S===null)continue;const{name:E}=S;if(E==="#text"){const w=document.createTextNode(S.value);p.push(w),A.append(w);continue}const x=S?.attributes?.xmlns?document.createElementNS(S.attributes.xmlns,E):document.createElement(E);if(A.append(x),S.attributes&&this.setAttributes({html:x,element:S,storage:i,intent:o,linkService:s}),S.children?.length>0)m.push([S,-1,x]);else if(S.value){const w=document.createTextNode(S.value);h&&ur.shouldBuildText(E)&&p.push(w),x.append(w)}}for(const y of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))y.setAttribute("readOnly",!0);return{textDivs:p}}static update(t){const i=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=i,t.div.hidden=!1}}const mr=1e3,v_=9,Kn=new WeakSet;function Xi(u){return{width:u[2]-u[0],height:u[3]-u[1]}}class A_{static create(t){switch(t.data.annotationType){case oe.LINK:return new Wm(t);case oe.TEXT:return new S_(t);case oe.WIDGET:switch(t.data.fieldType){case"Tx":return new __(t);case"Btn":return t.data.radioButton?new Qm(t):t.data.checkBox?new w_(t):new x_(t);case"Ch":return new T_(t);case"Sig":return new E_(t)}return new Jn(t);case oe.POPUP:return new Zu(t);case oe.FREETEXT:return new Zm(t);case oe.LINE:return new R_(t);case oe.SQUARE:return new M_(t);case oe.CIRCLE:return new D_(t);case oe.POLYLINE:return new Jm(t);case oe.CARET:return new O_(t);case oe.INK:return new Eh(t);case oe.POLYGON:return new L_(t);case oe.HIGHLIGHT:return new ty(t);case oe.UNDERLINE:return new k_(t);case oe.SQUIGGLY:return new N_(t);case oe.STRIKEOUT:return new P_(t);case oe.STAMP:return new ey(t);case oe.FILEATTACHMENT:return new F_(t);default:return new Jt(t)}}}class Jt{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:i=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=i,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,i&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:i,richText:s}){return!!(t?.str||i?.str||s?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Jt._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#t||={rect:this.data.rect.slice(0)};const{rect:i}=t;i&&this.#s(i),this.#i?.popup.updateEdited(t)}resetEdited(){this.#t&&(this.#s(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#s(t){const{container:{style:i},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:c,pageX:h,pageY:f}}}}=this;s?.splice(0,4,...t);const{width:p,height:m}=Xi(t);i.left=`${100*(t[0]-h)/o}%`,i.top=`${100*(c-t[3]+f)/c}%`,r===0?(i.width=`${100*p/o}%`,i.height=`${100*m/c}%`):this.setRotation(r)}_createContainer(t){const{data:i,parent:{page:s,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",i.id),this instanceof Jn||(o.tabIndex=mr);const{style:c}=o;if(c.zIndex=this.parent.zIndex++,i.alternativeText&&(o.title=i.alternativeText),i.noRotate&&o.classList.add("norotate"),!i.rect||this instanceof Zu){const{rotation:E}=i;return!i.hasOwnCanvas&&E!==0&&this.setRotation(E,o),o}const{width:h,height:f}=Xi(i.rect);if(!t&&i.borderStyle.width>0){c.borderWidth=`${i.borderStyle.width}px`;const E=i.borderStyle.horizontalCornerRadius,x=i.borderStyle.verticalCornerRadius;if(E>0||x>0){const M=`calc(${E}px * var(--scale-factor)) / calc(${x}px * var(--scale-factor))`;c.borderRadius=M}else if(this instanceof Qm){const M=`calc(${h}px * var(--scale-factor)) / calc(${f}px * var(--scale-factor))`;c.borderRadius=M}switch(i.borderStyle.style){case Ja.SOLID:c.borderStyle="solid";break;case Ja.DASHED:c.borderStyle="dashed";break;case Ja.BEVELED:_t("Unimplemented border style: beveled");break;case Ja.INSET:_t("Unimplemented border style: inset");break;case Ja.UNDERLINE:c.borderBottomStyle="solid";break}const w=i.borderColor||null;w?(this.#e=!0,c.borderColor=at.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):c.borderWidth=0}const p=at.normalizeRect([i.rect[0],s.view[3]-i.rect[1]+s.view[1],i.rect[2],s.view[3]-i.rect[3]+s.view[1]]),{pageWidth:m,pageHeight:y,pageX:b,pageY:A}=r.rawDims;c.left=`${100*(p[0]-b)/m}%`,c.top=`${100*(p[1]-A)/y}%`;const{rotation:S}=i;return i.hasOwnCanvas||S===0?(c.width=`${100*h/m}%`,c.height=`${100*f/y}%`):this.setRotation(S,o),o}setRotation(t,i=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims,{width:o,height:c}=Xi(this.data.rect);let h,f;t%180===0?(h=100*o/s,f=100*c/r):(h=100*c/s,f=100*o/r),i.style.width=`${h}%`,i.style.height=`${f}%`,i.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(i,s,r)=>{const o=r.detail[i],c=o[0],h=o.slice(1);r.target.style[s]=Jg[`${c}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[s]:Jg[`${c}_rgb`](h)})};return Ct(this,"_commonActions",{display:i=>{const{display:s}=i.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:i=>{this.annotationStorage.setValue(this.data.id,{noPrint:!i.detail.print})},hidden:i=>{const{hidden:s}=i.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:i=>{setTimeout(()=>i.target.focus({preventScroll:!1}),0)},userName:i=>{i.target.title=i.detail.userName},readonly:i=>{i.target.disabled=i.detail.readonly},required:i=>{this._setRequired(i.target,i.detail.required)},bgColor:i=>{t("bgColor","backgroundColor",i)},fillColor:i=>{t("fillColor","backgroundColor",i)},fgColor:i=>{t("fgColor","color",i)},textColor:i=>{t("textColor","color",i)},borderColor:i=>{t("borderColor","borderColor",i)},strokeColor:i=>{t("strokeColor","borderColor",i)},rotation:i=>{const s=i.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(t,i){const s=this._commonActions;for(const r of Object.keys(i.detail))(t[r]||s[r])?.(i)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const i=this.annotationStorage.getRawValue(this.data.id);if(!i)return;const s=this._commonActions;for(const[r,o]of Object.entries(i)){const c=s[r];if(c){const h={detail:{[r]:o},target:t};c(h),delete i[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[i,s,r,o]=this.data.rect.map(E=>Math.fround(E));if(t.length===8){const[E,x,w,M]=t.subarray(2,6);if(r===E&&o===x&&i===w&&s===M)return}const{style:c}=this.container;let h;if(this.#e){const{borderColor:E,borderWidth:x}=c;c.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${E}" stroke-width="${x}">`],this.container.classList.add("hasBorder")}const f=r-i,p=o-s,{svgFactory:m}=this,y=m.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0);const b=m.createElement("defs");y.append(b);const A=m.createElement("clipPath"),S=`clippath_${this.data.id}`;A.setAttribute("id",S),A.setAttribute("clipPathUnits","objectBoundingBox"),b.append(A);for(let E=2,x=t.length;E<x;E+=8){const w=t[E],M=t[E+1],O=t[E+2],k=t[E+3],H=m.createElement("rect"),j=(O-i)/f,X=(o-M)/p,Z=(w-O)/f,W=(M-k)/p;H.setAttribute("x",j),H.setAttribute("y",X),H.setAttribute("width",Z),H.setAttribute("height",W),A.append(H),h?.push(`<rect vector-effect="non-scaling-stroke" x="${j}" y="${X}" width="${Z}" height="${W}"/>`)}this.#e&&(h.push("</g></svg>')"),c.backgroundImage=h.join("")),this.container.append(y),this.container.style.clipPath=`url(#${S})`}_createPopup(){const{data:t}=this,i=this.#i=new Zu({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(i.render())}render(){It("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,i=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:o,id:c,exportValues:h}of r){if(o===-1||c===i)continue;const f=typeof h=="string"?h:null,p=document.querySelector(`[data-element-id="${c}"]`);if(p&&!Kn.has(p)){_t(`_getElementsByName - element not allowed: ${c}`);continue}s.push({id:c,exportValue:f,domElement:p})}return s}for(const r of document.getElementsByName(t)){const{exportValue:o}=r,c=r.getAttribute("data-element-id");c!==i&&Kn.has(r)&&s.push({id:c,exportValue:o,domElement:r})}return s}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const i of t)i.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:i}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:i})})}}class Wm extends Jt{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!i?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let r=!1;return t.url?(i.addLinkAttributes(s,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(s,t.action),r=!0):t.attachment?(this.#e(s,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(this.#i(s,t.setOCGState),r=!0):t.dest?(this._bindLink(s,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),r=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(s,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(s),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,i){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&this.#t()}_bindNamedAction(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),this.#t()}#e(t,i,s=null){t.href=this.linkService.getAnchorUrl(""),i.description&&(t.title=i.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(i.content,i.filename,s),!1),this.#t()}#i(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),this.#t()}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(i.actions)){const o=s.get(r);o&&(t[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:r}}),!1))}t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,i){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){_t('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{s?.();const{fields:r,refs:o,include:c}=i,h=[];if(r.length!==0||o.length!==0){const m=new Set(o);for(const y of r){const b=this._fieldObjects[y]||[];for(const{id:A}of b)m.add(A)}for(const y of Object.values(this._fieldObjects))for(const b of y)m.has(b.id)===c&&h.push(b)}else for(const m of Object.values(this._fieldObjects))h.push(...m);const f=this.annotationStorage,p=[];for(const m of h){const{id:y}=m;switch(p.push(y),m.type){case"text":{const A=m.defaultValue||"";f.setValue(y,{value:A});break}case"checkbox":case"radiobutton":{const A=m.defaultValue===m.exportValues;f.setValue(y,{value:A});break}case"combobox":case"listbox":{const A=m.defaultValue||"";f.setValue(y,{value:A});break}default:continue}const b=document.querySelector(`[data-element-id="${y}"]`);if(b){if(!Kn.has(b)){_t(`_bindResetFormAction - element not allowed: ${y}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:p,name:"ResetForm"}}),!1}}}class S_ extends Jt{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Jn extends Jt{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Oe.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,i,s,r,o){s.includes("mouse")?t.addEventListener(s,c=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(s,c=>{if(s==="blur"){if(!i.focused||!c.relatedTarget)return;i.focused=!1}else if(s==="focus"){if(i.focused)return;i.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(c)}})})}_setEventListeners(t,i,s,r){for(const[o,c]of s)(c==="Action"||this.data.actions?.[c])&&((c==="Focus"||c==="Blur")&&(i||={focused:!1}),this._setEventListener(t,i,o,c,r),c==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,i,"blur","Blur",null):c==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,i,"focus","Focus",null))}_setBackgroundColor(t){const i=this.data.backgroundColor||null;t.style.backgroundColor=i===null?"transparent":at.makeHexColor(i[0],i[1],i[2])}_setTextStyle(t){const i=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||v_,o=t.style;let c;const h=2,f=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h),m=Math.round(p/(Nu*r))||1,y=p/m;c=Math.min(r,f(y/Nu))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h);c=Math.min(r,f(p/Nu))}o.fontSize=`calc(${c}px * var(--scale-factor))`,o.color=at.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(o.textAlign=i[this.data.textAlignment])}_setRequired(t,i){i?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",i)}}class __ extends Jn{constructor(t){const i=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:i})}setPropertyOnSiblings(t,i,s,r){const o=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[i]=s),o.setValue(c.id,{[r]:s})}render(){const t=this.annotationStorage,i=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const r=t.getValue(i,{value:this.data.fieldValue});let o=r.value||"";const c=t.getValue(i,{charLimit:this.data.maxLen}).charLimit;c&&o.length>c&&(o=o.slice(0,c));let h=r.formattedValue||this.data.textContent?.join(`
`)||null;h&&this.data.comb&&(h=h.replaceAll(/\s+/g,""));const f={userValue:o,formattedValue:h,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=h??o,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",h??o),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),Kn.add(s),s.setAttribute("data-element-id",i),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=mr,this._setRequired(s,this.data.required),c&&(s.maxLength=c),s.addEventListener("input",m=>{t.setValue(i,{value:m.target.value}),this.setPropertyOnSiblings(s,"value",m.target.value,"value"),f.formattedValue=null}),s.addEventListener("resetform",m=>{const y=this.data.defaultFieldValue??"";s.value=f.userValue=y,f.formattedValue=null});let p=m=>{const{formattedValue:y}=f;y!=null&&(m.target.value=y),m.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",y=>{if(f.focused)return;const{target:b}=y;f.userValue&&(b.value=f.userValue),f.lastCommittedValue=b.value,f.commitKey=1,this.data.actions?.Focus||(f.focused=!0)}),s.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const b={value(A){f.userValue=A.detail.value??"",t.setValue(i,{value:f.userValue.toString()}),A.target.value=f.userValue},formattedValue(A){const{formattedValue:S}=A.detail;f.formattedValue=S,S!=null&&A.target!==document.activeElement&&(A.target.value=S),t.setValue(i,{formattedValue:S})},selRange(A){A.target.setSelectionRange(...A.detail.selRange)},charLimit:A=>{const{charLimit:S}=A.detail,{target:E}=A;if(S===0){E.removeAttribute("maxLength");return}E.setAttribute("maxLength",S);let x=f.userValue;!x||x.length<=S||(x=x.slice(0,S),E.value=f.userValue=x,t.setValue(i,{value:x}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:x,willCommit:!0,commitKey:1,selStart:E.selectionStart,selEnd:E.selectionEnd}}))}};this._dispatchEventFromSandbox(b,y)}),s.addEventListener("keydown",y=>{f.commitKey=1;let b=-1;if(y.key==="Escape"?b=0:y.key==="Enter"&&!this.data.multiLine?b=2:y.key==="Tab"&&(f.commitKey=3),b===-1)return;const{value:A}=y.target;f.lastCommittedValue!==A&&(f.lastCommittedValue=A,f.userValue=A,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:A,willCommit:!0,commitKey:b,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const m=p;p=null,s.addEventListener("blur",y=>{if(!f.focused||!y.relatedTarget)return;this.data.actions?.Blur||(f.focused=!1);const{value:b}=y.target;f.userValue=b,f.lastCommittedValue!==b&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:b,willCommit:!0,commitKey:f.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}),m(y)}),this.data.actions?.Keystroke&&s.addEventListener("beforeinput",y=>{f.lastCommittedValue=null;const{data:b,target:A}=y,{value:S,selectionStart:E,selectionEnd:x}=A;let w=E,M=x;switch(y.inputType){case"deleteWordBackward":{const O=S.substring(0,E).match(/\w*[^\w]*$/);O&&(w-=O[0].length);break}case"deleteWordForward":{const O=S.substring(E).match(/^[^\w]*\w*/);O&&(M+=O[0].length);break}case"deleteContentBackward":E===x&&(w-=1);break;case"deleteContentForward":E===x&&(M+=1);break}y.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:S,change:b||"",willCommit:!1,selStart:w,selEnd:M}})}),this._setEventListeners(s,f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(p&&s.addEventListener("blur",p),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/c;s.classList.add("comb"),s.style.letterSpacing=`calc(${y}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class E_ extends Jn{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class w_ extends Jn{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,i=this.data,s=i.id;let r=t.getValue(s,{value:i.exportValue===i.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return Kn.add(o),o.setAttribute("data-element-id",s),o.disabled=i.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=i.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",i.exportValue),o.tabIndex=mr,o.addEventListener("change",c=>{const{name:h,checked:f}=c.target;for(const p of this._getElementsByName(h,s)){const m=f&&p.exportValue===i.exportValue;p.domElement&&(p.domElement.checked=m),t.setValue(p.id,{value:m})}t.setValue(s,{value:f})}),o.addEventListener("resetform",c=>{const h=i.defaultFieldValue||"Off";c.target.checked=h===i.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",c=>{const h={value(f){f.target.checked=f.detail.value!=="Off",t.setValue(s,{value:f.target.checked})}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Qm extends Jn{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,i=this.data,s=i.id;let r=t.getValue(s,{value:i.fieldValue===i.buttonValue}).value;if(typeof r=="string"&&(r=r!==i.buttonValue,t.setValue(s,{value:r})),r)for(const c of this._getElementsByName(i.fieldName,s))t.setValue(c.id,{value:!1});const o=document.createElement("input");if(Kn.add(o),o.setAttribute("data-element-id",s),o.disabled=i.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=i.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=mr,o.addEventListener("change",c=>{const{name:h,checked:f}=c.target;for(const p of this._getElementsByName(h,s))t.setValue(p.id,{value:!1});t.setValue(s,{value:f})}),o.addEventListener("resetform",c=>{const h=i.defaultFieldValue;c.target.checked=h!=null&&h===i.buttonValue}),this.enableScripting&&this.hasJSActions){const c=i.buttonValue;o.addEventListener("updatefromsandbox",h=>{const f={value:p=>{const m=c===p.detail.value;for(const y of this._getElementsByName(p.target.name)){const b=m&&y.id===s;y.domElement&&(y.domElement.checked=b),t.setValue(y.id,{value:b})}}};this._dispatchEventFromSandbox(f,h)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class x_ extends Wm{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const i=t.lastChild;return this.enableScripting&&this.hasJSActions&&i&&(this._setDefaultPropertiesFromJS(i),i.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),t}}class T_ extends Jn{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,i=this.data.id,s=t.getValue(i,{value:this.data.fieldValue}),r=document.createElement("select");Kn.add(r),r.setAttribute("data-element-id",i),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=mr;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",m=>{const y=this.data.defaultFieldValue;for(const b of r.options)b.selected=b.value===y});for(const m of this.data.options){const y=document.createElement("option");y.textContent=m.displayValue,y.value=m.exportValue,s.value.includes(m.exportValue)&&(y.setAttribute("selected",!0),o=!1),r.append(y)}let c=null;if(o){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),r.prepend(m),c=()=>{m.remove(),r.removeEventListener("input",c),c=null},r.addEventListener("input",c)}const h=m=>{const y=m?"value":"textContent",{options:b,multiple:A}=r;return A?Array.prototype.filter.call(b,S=>S.selected).map(S=>S[y]):b.selectedIndex===-1?null:b[b.selectedIndex][y]};let f=h(!1);const p=m=>{const y=m.target.options;return Array.prototype.map.call(y,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",m=>{const y={value(b){c?.();const A=b.detail.value,S=new Set(Array.isArray(A)?A:[A]);for(const E of r.options)E.selected=S.has(E.value);t.setValue(i,{value:h(!0)}),f=h(!1)},multipleSelection(b){r.multiple=!0},remove(b){const A=r.options,S=b.detail.remove;A[S].selected=!1,r.remove(S),A.length>0&&Array.prototype.findIndex.call(A,x=>x.selected)===-1&&(A[0].selected=!0),t.setValue(i,{value:h(!0),items:p(b)}),f=h(!1)},clear(b){for(;r.length!==0;)r.remove(0);t.setValue(i,{value:null,items:[]}),f=h(!1)},insert(b){const{index:A,displayValue:S,exportValue:E}=b.detail.insert,x=r.children[A],w=document.createElement("option");w.textContent=S,w.value=E,x?x.before(w):r.append(w),t.setValue(i,{value:h(!0),items:p(b)}),f=h(!1)},items(b){const{items:A}=b.detail;for(;r.length!==0;)r.remove(0);for(const S of A){const{displayValue:E,exportValue:x}=S,w=document.createElement("option");w.textContent=E,w.value=x,r.append(w)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(i,{value:h(!0),items:p(b)}),f=h(!1)},indices(b){const A=new Set(b.detail.indices);for(const S of b.target.options)S.selected=A.has(S.index);t.setValue(i,{value:h(!0)}),f=h(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(y,m)}),r.addEventListener("input",m=>{const y=h(!0),b=h(!1);t.setValue(i,{value:y}),m.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:f,change:b,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):r.addEventListener("input",function(m){t.setValue(i,{value:h(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Zu extends Jt{constructor(t){const{data:i,elements:s}=t;super(t,{isRenderable:Jt._hasPopupData(i)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new C_({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),i=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${ch}${s}`).join(",")),this.container}}class C_{#t=this.#P.bind(this);#e=this.#R.bind(this);#i=this.#x.bind(this);#s=this.#S.bind(this);#a=null;#n=null;#o=null;#c=null;#u=null;#l=null;#h=null;#r=!1;#d=null;#p=null;#f=null;#y=null;#m=null;#g=null;#b=!1;constructor({container:t,color:i,elements:s,titleObj:r,modificationDate:o,contentsObj:c,richText:h,parent:f,rect:p,parentRect:m,open:y}){this.#n=t,this.#m=r,this.#o=c,this.#y=h,this.#l=f,this.#a=i,this.#f=p,this.#h=m,this.#u=s,this.#c=Lm.toDateObject(o),this.trigger=s.flatMap(b=>b.getElementsToTriggerPopup());for(const b of this.trigger)b.addEventListener("click",this.#s),b.addEventListener("mouseenter",this.#i),b.addEventListener("mouseleave",this.#e),b.classList.add("popupTriggerArea");for(const b of s)b.container?.addEventListener("keydown",this.#t);this.#n.hidden=!0,y&&this.#S()}render(){if(this.#d)return;const t=this.#d=document.createElement("div");if(t.className="popup",this.#a){const o=t.style.outlineColor=at.makeHexColor(...this.#a);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:t.style.backgroundColor=at.makeHexColor(...this.#a.map(h=>Math.floor(.7*(255-h)+h)))}const i=document.createElement("span");i.className="header";const s=document.createElement("h1");if(i.append(s),{dir:s.dir,str:s.textContent}=this.#m,t.append(i),this.#c){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),i.append(o)}const r=this.#A;if(r)$m.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(this.#o);t.append(o)}this.#n.append(t)}get#A(){const t=this.#y,i=this.#o;return t?.str&&(!i?.str||i.str===t.str)&&this.#y.html||null}get#T(){return this.#A?.attributes?.style?.fontSize||0}get#E(){return this.#A?.attributes?.style?.color||null}#w(t){const i=[],s={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:i}]}},r={style:{color:this.#E,fontSize:this.#T?`calc(${this.#T}px * var(--scale-factor))`:""}};for(const o of t.split(`
`))i.push({name:"span",value:o,attributes:r});return s}_formatContents({str:t,dir:i}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=i;const r=t.split(/(?:\r\n?|\n)/);for(let o=0,c=r.length;o<c;++o){const h=r[o];s.append(document.createTextNode(h)),o<c-1&&s.append(document.createElement("br"))}return s}#P(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#r)&&this.#S()}updateEdited({rect:t,popupContent:i}){this.#g||={contentsObj:this.#o,richText:this.#y},t&&(this.#p=null),i&&(this.#y=this.#w(i),this.#o=null),this.#d?.remove(),this.#d=null}resetEdited(){this.#g&&({contentsObj:this.#o,richText:this.#y}=this.#g,this.#g=null,this.#d?.remove(),this.#d=null,this.#p=null)}#C(){if(this.#p!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:i,pageHeight:s,pageX:r,pageY:o}}}=this.#l;let c=!!this.#h,h=c?this.#h:this.#f;for(const S of this.#u)if(!h||at.intersect(S.data.rect,h)!==null){h=S.data.rect,c=!0;break}const f=at.normalizeRect([h[0],t[3]-h[1]+t[1],h[2],t[3]-h[3]+t[1]]),m=c?h[2]-h[0]+5:0,y=f[0]+m,b=f[1];this.#p=[100*(y-r)/i,100*(b-o)/s];const{style:A}=this.#n;A.left=`${this.#p[0]}%`,A.top=`${this.#p[1]}%`}#S(){this.#r=!this.#r,this.#r?(this.#x(),this.#n.addEventListener("click",this.#s),this.#n.addEventListener("keydown",this.#t)):(this.#R(),this.#n.removeEventListener("click",this.#s),this.#n.removeEventListener("keydown",this.#t))}#x(){this.#d||this.render(),this.isVisible?this.#r&&this.#n.classList.add("focused"):(this.#C(),this.#n.hidden=!1,this.#n.style.zIndex=parseInt(this.#n.style.zIndex)+1e3)}#R(){this.#n.classList.remove("focused"),!(this.#r||!this.isVisible)&&(this.#n.hidden=!0,this.#n.style.zIndex=parseInt(this.#n.style.zIndex)-1e3)}forceHide(){this.#b=this.isVisible,this.#b&&(this.#n.hidden=!0)}maybeShow(){this.#b&&(this.#d||this.#x(),this.#b=!1,this.#n.hidden=!1)}get isVisible(){return this.#n.hidden===!1}}class Zm extends Jt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=At.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const i of this.textContent){const s=document.createElement("span");s.textContent=i,t.append(s)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class R_ extends Jt{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:i,height:s}=Xi(t.rect),r=this.svgFactory.create(i,s,!0),o=this.#t=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class M_ extends Jt{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:i,height:s}=Xi(t.rect),r=this.svgFactory.create(i,s,!0),o=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:rect");return c.setAttribute("x",o/2),c.setAttribute("y",o/2),c.setAttribute("width",i-o),c.setAttribute("height",s-o),c.setAttribute("stroke-width",o||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),r.append(c),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class D_ extends Jt{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:i,height:s}=Xi(t.rect),r=this.svgFactory.create(i,s,!0),o=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:ellipse");return c.setAttribute("cx",i/2),c.setAttribute("cy",s/2),c.setAttribute("rx",i/2-o/2),c.setAttribute("ry",s/2-o/2),c.setAttribute("stroke-width",o||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),r.append(c),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Jm extends Jt{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:s,popupRef:r}}=this;if(!i)return this.container;const{width:o,height:c}=Xi(t),h=this.svgFactory.create(o,c,!0);let f=[];for(let m=0,y=i.length;m<y;m+=2){const b=i[m]-t[0],A=t[3]-i[m+1];f.push(`${b},${A}`)}f=f.join(" ");const p=this.#t=this.svgFactory.createElement(this.svgElementName);return p.setAttribute("points",f),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),h.append(p),this.container.append(h),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class L_ extends Jm{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class O_ extends Jt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Eh extends Jt{#t=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?At.HIGHLIGHT:At.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:i,borderStyle:s,popupRef:r}}=this,{width:o,height:c}=Xi(t),h=this.svgFactory.create(o,c,!0);for(const f of i){let p=[];for(let y=0,b=f.length;y<b;y+=2){const A=f[y]-t[0],S=t[3]-f[y+1];p.push(`${A},${S}`)}p=p.join(" ");const m=this.svgFactory.createElement(this.svgElementName);this.#t.push(m),m.setAttribute("points",p),m.setAttribute("stroke-width",s.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),h.append(m)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class ty extends Jt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=At.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class k_ extends Jt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class N_ extends Jt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class P_ extends Jt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class ey extends Jt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=At.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class F_ extends Jt{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:i}=this.data;this.filename=i.filename,this.content=i.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let s;i.hasAppearance||i.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),s.addEventListener("dblclick",this.#e.bind(this)),this.#t=s;const{isMac:r}=Oe.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&this.#e()}),!i.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let H_=class{#t=null;#e=null;#i=new Map;#s=null;constructor({div:t,accessibilityManager:i,annotationCanvasMap:s,annotationEditorUIManager:r,page:o,viewport:c,structTreeLayer:h}){this.div=t,this.#t=i,this.#e=s,this.#s=h||null,this.page=o,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return this.#i.size>0}async#a(t,i){const s=t.firstChild||t,r=s.id=`${ch}${i}`,o=await this.#s?.getAriaAttributes(r);if(o)for(const[c,h]of o)s.setAttribute(c,h);this.div.append(t),this.#t?.moveElementInDOM(this.div,t,s,!1)}async render(t){const{annotations:i}=t,s=this.div;Yn(s,this.viewport);const r=new Map,o={data:null,layer:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new _h,annotationStorage:t.annotationStorage||new gh,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of i){if(c.noHTML)continue;const h=c.annotationType===oe.POPUP;if(h){const m=r.get(c.id);if(!m)continue;o.elements=m}else{const{width:m,height:y}=Xi(c.rect);if(m<=0||y<=0)continue}o.data=c;const f=A_.create(o);if(!f.isRenderable)continue;if(!h&&c.popupRef){const m=r.get(c.popupRef);m?m.push(f):r.set(c.popupRef,[f])}const p=f.render();c.hidden&&(p.style.visibility="hidden"),await this.#a(p,c.id),f._isEditable&&(this.#i.set(f.data.id,f),this._annotationEditorUIManager?.renderAnnotationElement(f))}this.#n()}update({viewport:t}){const i=this.div;this.viewport=t,Yn(i,{rotation:t.rotation}),this.#n(),i.hidden=!1}#n(){if(!this.#e)return;const t=this.div;for(const[i,s]of this.#e){const r=t.querySelector(`[data-annotation-id="${i}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(s):o.classList.contains("annotationContent")?o.after(s):o.before(s):r.append(s)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#i.values())}getEditableAnnotation(t){return this.#i.get(t)}};const Il=/\r\n?|\n/g;class ce extends ft{#t;#e="";#i=`${this.id}-editor`;#s=null;#a;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=ce.prototype,i=o=>o.isEmpty(),s=An.TRANSLATE_SMALL,r=An.TRANSLATE_BIG;return Ct(this,"_keyboardManager",new gr([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}]]))}static _type="freetext";static _editorType=At.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#t=t.color||ce._defaultColor||ft._defaultLineColor,this.#a=t.fontSize||ce._defaultFontSize}static initialize(t,i){ft.initialize(t,i);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case pt.FREETEXT_SIZE:ce._defaultFontSize=i;break;case pt.FREETEXT_COLOR:ce._defaultColor=i;break}}updateParams(t,i){switch(t){case pt.FREETEXT_SIZE:this.#n(i);break;case pt.FREETEXT_COLOR:this.#o(i);break}}static get defaultPropertiesToUpdate(){return[[pt.FREETEXT_SIZE,ce._defaultFontSize],[pt.FREETEXT_COLOR,ce._defaultColor||ft._defaultLineColor]]}get propertiesToUpdate(){return[[pt.FREETEXT_SIZE,this.#a],[pt.FREETEXT_COLOR,this.#t]]}#n(t){const i=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-this.#a)*this.parentScale),this.#a=r,this.#u()},s=this.#a;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#o(t){const i=r=>{this.#t=this.editorDiv.style.color=r},s=this.#t;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-ce._internalPadding*t,-(ce._internalPadding+this.#a)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(At.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#s=new AbortController;const t=this._uiManager.combinedSignal(this.#s);this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#i),this._isDraggable=!0,this.#s?.abort(),this.#s=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#c(){const t=[];this.editorDiv.normalize();let i=null;for(const s of this.editorDiv.childNodes)i?.nodeType===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(ce.#l(s)),i=s);return t.join(`
`)}#u(){const[t,i]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:r,div:o}=this,c=o.style.display,h=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),s=o.getBoundingClientRect(),o.remove(),o.style.display=c,o.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/i):(this.width=s.height/t,this.height=s.width/i),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#e,i=this.#e=this.#c().trimEnd();if(t===i)return;const s=r=>{if(this.#e=r,!r){this.remove();return}this.#h(),this._uiManager.rebuild(this),this.#u()};this.addCommands({cmd:()=>{s(i)},undo:()=>{s(t)},mustExec:!1}),this.#u()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){ce._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#i),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${this.#a}px * var(--scale-factor))`,s.color=this.#t,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Kl(this,this.div,["dblclick","keydown"]),this.width){const[r,o]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[h,f]=this.getInitialTranslation();[h,f]=this.pageTranslationToScreen(h,f);const[p,m]=this.pageDimensions,[y,b]=this.pageTranslation;let A,S;switch(this.rotation){case 0:A=t+(c[0]-y)/p,S=i+this.height-(c[1]-b)/m;break;case 90:A=t+(c[0]-y)/p,S=i-(c[1]-b)/m,[h,f]=[f,-h];break;case 180:A=t-this.width+(c[0]-y)/p,S=i-(c[1]-b)/m,[h,f]=[-h,-f];break;case 270:A=t+(c[0]-y-this.height*m)/p,S=i+(c[1]-b-this.width*p)/m,[h,f]=[-f,h];break}this.setAt(A*r,S*o,h,f)}else this.setAt(t*r,i*o,this.width*r,this.height*o);this.#h(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#l(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Il,"")}editorDivPaste(t){const i=t.clipboardData||window.clipboardData,{types:s}=i;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const r=ce.#d(i.getData("text")||"").replaceAll(Il,`
`);if(!r)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const c=o.getRangeAt(0);if(!r.includes(`
`)){c.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:h,startOffset:f}=c,p=[],m=[];if(h.nodeType===Node.TEXT_NODE){const A=h.parentElement;if(m.push(h.nodeValue.slice(f).replaceAll(Il,"")),A!==this.editorDiv){let S=p;for(const E of this.editorDiv.childNodes){if(E===A){S=m;continue}S.push(ce.#l(E))}}p.push(h.nodeValue.slice(0,f).replaceAll(Il,""))}else if(h===this.editorDiv){let A=p,S=0;for(const E of this.editorDiv.childNodes)S++===f&&(A=m),A.push(ce.#l(E))}this.#e=`${p.join(`
`)}${r}${m.join(`
`)}`,this.#h();const y=new Range;let b=p.reduce((A,S)=>A+S.length,0);for(const{firstChild:A}of this.editorDiv.childNodes)if(A.nodeType===Node.TEXT_NODE){const S=A.nodeValue.length;if(b<=S){y.setStart(A,b),y.setEnd(A,b);break}b-=S}o.removeAllRanges(),o.addRange(y)}#h(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const t of this.#e.split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}}#r(){return this.#e.replaceAll(""," ")}static#d(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static async deserialize(t,i,s){let r=null;if(t instanceof Zm){const{data:{defaultAppearanceData:{fontSize:c,fontColor:h},rect:f,rotation:p,id:m,popupRef:y},textContent:b,textPosition:A,parent:{page:{pageNumber:S}}}=t;if(!b||b.length===0)return null;r=t={annotationType:At.FREETEXT,color:Array.from(h),fontSize:c,value:b.join(`
`),position:A,pageIndex:S-1,rect:f.slice(0),rotation:p,id:m,deleted:!1,popupRef:y}}const o=await super.deserialize(t,i,s);return o.#a=t.fontSize,o.#t=at.makeHexColor(...t.color),o.#e=ce.#d(t.value),o.annotationElementId=t.id||null,o._initialData=r,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=ce._internalPadding*this.parentScale,s=this.getRect(i,i),r=ft._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#t),o={annotationType:At.FREETEXT,color:r,fontSize:this.#a,value:this.#r(),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!this.#p(o)?null:(o.id=this.annotationElementId,o)}#p(t){const{value:i,fontSize:s,color:r,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==i||t.fontSize!==s||t.color.some((c,h)=>c!==r[h])||t.pageIndex!==o}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(this.deleted)return i;const{style:s}=i;s.fontSize=`calc(${this.#a}px * var(--scale-factor))`,s.color=this.#t,i.replaceChildren();for(const o of this.#e.split(`
`)){const c=document.createElement("div");c.append(o?document.createTextNode(o):document.createElement("br")),i.append(c)}const r=ce._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(r,r),popupContent:this.#e}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class iy{toSVGPath(){It("Abstract method `toSVGPath` must be implemented.")}get box(){It("Abstract getter `box` must be implemented.")}serialize(t,i){It("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){It("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){It("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}class qn{#t;#e=[];#i;#s;#a=[];#n=new Float64Array(18);#o;#c;#u;#l;#h;#r;#d=[];static#p=8;static#f=2;static#y=qn.#p+qn.#f;constructor({x:t,y:i},s,r,o,c,h=0){this.#t=s,this.#r=o*r,this.#s=c,this.#n.set([NaN,NaN,NaN,NaN,t,i],6),this.#i=h,this.#l=qn.#p*r,this.#u=qn.#y*r,this.#h=r,this.#d.push(t,i)}isEmpty(){return isNaN(this.#n[8])}#m(){const t=this.#n.subarray(4,6),i=this.#n.subarray(16,18),[s,r,o,c]=this.#t;return[(this.#o+(t[0]-i[0])/2-s)/o,(this.#c+(t[1]-i[1])/2-r)/c,(this.#o+(i[0]-t[0])/2-s)/o,(this.#c+(i[1]-t[1])/2-r)/c]}add({x:t,y:i}){this.#o=t,this.#c=i;const[s,r,o,c]=this.#t;let[h,f,p,m]=this.#n.subarray(8,12);const y=t-p,b=i-m,A=Math.hypot(y,b);if(A<this.#u)return!1;const S=A-this.#l,E=S/A,x=E*y,w=E*b;let M=h,O=f;h=p,f=m,p+=x,m+=w,this.#d?.push(t,i);const k=-w/S,H=x/S,j=k*this.#r,X=H*this.#r;return this.#n.set(this.#n.subarray(2,8),0),this.#n.set([p+j,m+X],4),this.#n.set(this.#n.subarray(14,18),12),this.#n.set([p-j,m-X],16),isNaN(this.#n[6])?(this.#a.length===0&&(this.#n.set([h+j,f+X],2),this.#a.push(NaN,NaN,NaN,NaN,(h+j-s)/o,(f+X-r)/c),this.#n.set([h-j,f-X],14),this.#e.push(NaN,NaN,NaN,NaN,(h-j-s)/o,(f-X-r)/c)),this.#n.set([M,O,h,f,p,m],6),!this.isEmpty()):(this.#n.set([M,O,h,f,p,m],6),Math.abs(Math.atan2(O-f,M-h)-Math.atan2(w,x))<Math.PI/2?([h,f,p,m]=this.#n.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((h+p)/2-s)/o,((f+m)/2-r)/c),[h,f,M,O]=this.#n.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((M+h)/2-s)/o,((O+f)/2-r)/c),!0):([M,O,h,f,p,m]=this.#n.subarray(0,6),this.#a.push(((M+5*h)/6-s)/o,((O+5*f)/6-r)/c,((5*h+p)/6-s)/o,((5*f+m)/6-r)/c,((h+p)/2-s)/o,((f+m)/2-r)/c),[p,m,h,f,M,O]=this.#n.subarray(12,18),this.#e.push(((M+5*h)/6-s)/o,((O+5*f)/6-r)/c,((5*h+p)/6-s)/o,((5*f+m)/6-r)/c,((h+p)/2-s)/o,((f+m)/2-r)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,i=this.#e;if(isNaN(this.#n[6])&&!this.isEmpty())return this.#g();const s=[];s.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?s.push(`L${t[r+4]} ${t[r+5]}`):s.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#A(s);for(let r=i.length-6;r>=6;r-=6)isNaN(i[r])?s.push(`L${i[r+4]} ${i[r+5]}`):s.push(`C${i[r]} ${i[r+1]} ${i[r+2]} ${i[r+3]} ${i[r+4]} ${i[r+5]}`);return this.#b(s),s.join(" ")}#g(){const[t,i,s,r]=this.#t,[o,c,h,f]=this.#m();return`M${(this.#n[2]-t)/s} ${(this.#n[3]-i)/r} L${(this.#n[4]-t)/s} ${(this.#n[5]-i)/r} L${o} ${c} L${h} ${f} L${(this.#n[16]-t)/s} ${(this.#n[17]-i)/r} L${(this.#n[14]-t)/s} ${(this.#n[15]-i)/r} Z`}#b(t){const i=this.#e;t.push(`L${i[4]} ${i[5]} Z`)}#A(t){const[i,s,r,o]=this.#t,c=this.#n.subarray(4,6),h=this.#n.subarray(16,18),[f,p,m,y]=this.#m();t.push(`L${(c[0]-i)/r} ${(c[1]-s)/o} L${f} ${p} L${m} ${y} L${(h[0]-i)/r} ${(h[1]-s)/o}`)}newFreeDrawOutline(t,i,s,r,o,c){return new ny(t,i,s,r,o,c)}getOutlines(){const t=this.#a,i=this.#e,s=this.#n,[r,o,c,h]=this.#t,f=new Float64Array((this.#d?.length??0)+2);for(let y=0,b=f.length-2;y<b;y+=2)f[y]=(this.#d[y]-r)/c,f[y+1]=(this.#d[y+1]-o)/h;if(f[f.length-2]=(this.#o-r)/c,f[f.length-1]=(this.#c-o)/h,isNaN(s[6])&&!this.isEmpty())return this.#T(f);const p=new Float64Array(this.#a.length+24+this.#e.length);let m=t.length;for(let y=0;y<m;y+=2){if(isNaN(t[y])){p[y]=p[y+1]=NaN;continue}p[y]=t[y],p[y+1]=t[y+1]}m=this.#w(p,m);for(let y=i.length-6;y>=6;y-=6)for(let b=0;b<6;b+=2){if(isNaN(i[y+b])){p[m]=p[m+1]=NaN,m+=2;continue}p[m]=i[y+b],p[m+1]=i[y+b+1],m+=2}return this.#E(p,m),this.newFreeDrawOutline(p,f,this.#t,this.#h,this.#i,this.#s)}#T(t){const i=this.#n,[s,r,o,c]=this.#t,[h,f,p,m]=this.#m(),y=new Float64Array(36);return y.set([NaN,NaN,NaN,NaN,(i[2]-s)/o,(i[3]-r)/c,NaN,NaN,NaN,NaN,(i[4]-s)/o,(i[5]-r)/c,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(i[16]-s)/o,(i[17]-r)/c,NaN,NaN,NaN,NaN,(i[14]-s)/o,(i[15]-r)/c],0),this.newFreeDrawOutline(y,t,this.#t,this.#h,this.#i,this.#s)}#E(t,i){const s=this.#e;return t.set([NaN,NaN,NaN,NaN,s[4],s[5]],i),i+=6}#w(t,i){const s=this.#n.subarray(4,6),r=this.#n.subarray(16,18),[o,c,h,f]=this.#t,[p,m,y,b]=this.#m();return t.set([NaN,NaN,NaN,NaN,(s[0]-o)/h,(s[1]-c)/f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,y,b,NaN,NaN,NaN,NaN,(r[0]-o)/h,(r[1]-c)/f],i),i+=24}}class ny extends iy{#t;#e=null;#i;#s;#a;#n;#o;constructor(t,i,s,r,o,c){super(),this.#o=t,this.#a=i,this.#t=s,this.#n=r,this.#i=o,this.#s=c,this.#l(c);const{x:h,y:f,width:p,height:m}=this.#e;for(let y=0,b=t.length;y<b;y+=2)t[y]=(t[y]-h)/p,t[y+1]=(t[y+1]-f)/m;for(let y=0,b=i.length;y<b;y+=2)i[y]=(i[y]-h)/p,i[y+1]=(i[y+1]-f)/m}toSVGPath(){const t=[`M${this.#o[4]} ${this.#o[5]}`];for(let i=6,s=this.#o.length;i<s;i+=6){if(isNaN(this.#o[i])){t.push(`L${this.#o[i+4]} ${this.#o[i+5]}`);continue}t.push(`C${this.#o[i]} ${this.#o[i+1]} ${this.#o[i+2]} ${this.#o[i+3]} ${this.#o[i+4]} ${this.#o[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,s,r],o){const c=s-t,h=r-i;let f,p;switch(o){case 0:f=this.#c(this.#o,t,r,c,-h),p=this.#c(this.#a,t,r,c,-h);break;case 90:f=this.#u(this.#o,t,i,c,h),p=this.#u(this.#a,t,i,c,h);break;case 180:f=this.#c(this.#o,s,i,-c,h),p=this.#c(this.#a,s,i,-c,h);break;case 270:f=this.#u(this.#o,s,r,-c,-h),p=this.#u(this.#a,s,r,-c,-h);break}return{outline:Array.from(f),points:[Array.from(p)]}}#c(t,i,s,r,o){const c=new Float64Array(t.length);for(let h=0,f=t.length;h<f;h+=2)c[h]=i+t[h]*r,c[h+1]=s+t[h+1]*o;return c}#u(t,i,s,r,o){const c=new Float64Array(t.length);for(let h=0,f=t.length;h<f;h+=2)c[h]=i+t[h+1]*r,c[h+1]=s+t[h]*o;return c}#l(t){const i=this.#o;let s=i[4],r=i[5],o=s,c=r,h=s,f=r,p=s,m=r;const y=t?Math.max:Math.min;for(let x=6,w=i.length;x<w;x+=6){if(isNaN(i[x]))o=Math.min(o,i[x+4]),c=Math.min(c,i[x+5]),h=Math.max(h,i[x+4]),f=Math.max(f,i[x+5]),m<i[x+5]?(p=i[x+4],m=i[x+5]):m===i[x+5]&&(p=y(p,i[x+4]));else{const M=at.bezierBoundingBox(s,r,...i.slice(x,x+6));o=Math.min(o,M[0]),c=Math.min(c,M[1]),h=Math.max(h,M[2]),f=Math.max(f,M[3]),m<M[3]?(p=M[2],m=M[3]):m===M[3]&&(p=y(p,M[2]))}s=i[x+4],r=i[x+5]}const b=o-this.#i,A=c-this.#i,S=h-o+2*this.#i,E=f-c+2*this.#i;this.#e={x:b,y:A,width:S,height:E,lastPoint:[p,m]}}get box(){return this.#e}newOutliner(t,i,s,r,o,c=0){return new qn(t,i,s,r,o,c)}getNewOutline(t,i){const{x:s,y:r,width:o,height:c}=this.#e,[h,f,p,m]=this.#t,y=o*p,b=c*m,A=s*p+h,S=r*m+f,E=this.newOutliner({x:this.#a[0]*y+A,y:this.#a[1]*b+S},this.#t,this.#n,t,this.#s,i??this.#i);for(let x=2;x<this.#a.length;x+=2)E.add({x:this.#a[x]*y+A,y:this.#a[x+1]*b+S});return E.getOutlines()}get mustRemoveSelfIntersections(){return!0}}class tm{#t;#e=[];#i=[];constructor(t,i=0,s=0,r=!0){let o=1/0,c=-1/0,h=1/0,f=-1/0;const p=10**-4;for(const{x,y:w,width:M,height:O}of t){const k=Math.floor((x-i)/p)*p,H=Math.ceil((x+M+i)/p)*p,j=Math.floor((w-i)/p)*p,X=Math.ceil((w+O+i)/p)*p,Z=[k,j,X,!0],W=[H,j,X,!1];this.#e.push(Z,W),o=Math.min(o,k),c=Math.max(c,H),h=Math.min(h,j),f=Math.max(f,X)}const m=c-o+2*s,y=f-h+2*s,b=o-s,A=h-s,S=this.#e.at(r?-1:-2),E=[S[0],S[2]];for(const x of this.#e){const[w,M,O]=x;x[0]=(w-b)/m,x[1]=(M-A)/y,x[2]=(O-A)/y}this.#t={x:b,y:A,width:m,height:y,lastPoint:E}}getOutlines(){this.#e.sort((i,s)=>i[0]-s[0]||i[1]-s[1]||i[2]-s[2]);const t=[];for(const i of this.#e)i[3]?(t.push(...this.#c(i)),this.#n(i)):(this.#o(i),t.push(...this.#c(i)));return this.#s(t)}#s(t){const i=[],s=new Set;for(const c of t){const[h,f,p]=c;i.push([h,f,c],[h,p,c])}i.sort((c,h)=>c[1]-h[1]||c[0]-h[0]);for(let c=0,h=i.length;c<h;c+=2){const f=i[c][2],p=i[c+1][2];f.push(p),p.push(f),s.add(f),s.add(p)}const r=[];let o;for(;s.size>0;){const c=s.values().next().value;let[h,f,p,m,y]=c;s.delete(c);let b=h,A=f;for(o=[h,p],r.push(o);;){let S;if(s.has(m))S=m;else if(s.has(y))S=y;else break;s.delete(S),[h,f,p,m,y]=S,b!==h&&(o.push(b,A,h,A===f?f:p),b=h),A=A===f?p:f}o.push(b,A)}return new z_(r,this.#t)}#a(t){const i=this.#i;let s=0,r=i.length-1;for(;s<=r;){const o=s+r>>1,c=i[o][0];if(c===t)return o;c<t?s=o+1:r=o-1}return r+1}#n([,t,i]){const s=this.#a(t);this.#i.splice(s,0,[t,i])}#o([,t,i]){const s=this.#a(t);for(let r=s;r<this.#i.length;r++){const[o,c]=this.#i[r];if(o!==t)break;if(o===t&&c===i){this.#i.splice(r,1);return}}for(let r=s-1;r>=0;r--){const[o,c]=this.#i[r];if(o!==t)break;if(o===t&&c===i){this.#i.splice(r,1);return}}}#c(t){const[i,s,r]=t,o=[[i,s,r]],c=this.#a(r);for(let h=0;h<c;h++){const[f,p]=this.#i[h];for(let m=0,y=o.length;m<y;m++){const[,b,A]=o[m];if(!(p<=b||A<=f)){if(b>=f){if(A>p)o[m][1]=p;else{if(y===1)return[];o.splice(m,1),m--,y--}continue}o[m][2]=f,A>p&&o.push([i,p,A])}}}return o}}class z_ extends iy{#t;#e;constructor(t,i){super(),this.#e=t,this.#t=i}toSVGPath(){const t=[];for(const i of this.#e){let[s,r]=i;t.push(`M${s} ${r}`);for(let o=2;o<i.length;o+=2){const c=i[o],h=i[o+1];c===s?(t.push(`V${h}`),r=h):h===r&&(t.push(`H${c}`),s=c)}t.push("Z")}return t.join(" ")}serialize([t,i,s,r],o){const c=[],h=s-t,f=r-i;for(const p of this.#e){const m=new Array(p.length);for(let y=0;y<p.length;y+=2)m[y]=t+p[y]*h,m[y+1]=r-p[y+1]*f;c.push(m)}return c}get box(){return this.#t}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}class Ju extends qn{newFreeDrawOutline(t,i,s,r,o,c){return new U_(t,i,s,r,o,c)}get classNamesForDrawing(){return["highlight","free"]}}class U_ extends ny{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,i,s,r,o,c=0){return new Ju(t,i,s,r,o,c)}}class li{#t=null;#e=null;#i;#s=null;#a=!1;#n=!1;#o=null;#c;#u=null;#l=null;#h;static#r=null;static get _keyboardManager(){return Ct(this,"_keyboardManager",new gr([[["Escape","mac+Escape"],li.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],li.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],li.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],li.prototype._moveToPrevious],[["Home","mac+Home"],li.prototype._moveToBeginning],[["End","mac+End"],li.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:i=null}){t?(this.#n=!1,this.#h=pt.HIGHLIGHT_COLOR,this.#o=t):(this.#n=!0,this.#h=pt.HIGHLIGHT_DEFAULT_COLOR),this.#l=t?._uiManager||i,this.#c=this.#l._eventBus,this.#i=t?.color||this.#l?.highlightColors.values().next().value||"#FFFF98",li.#r||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const i=this.#l._signal;t.addEventListener("click",this.#y.bind(this),{signal:i}),t.addEventListener("keydown",this.#f.bind(this),{signal:i});const s=this.#e=document.createElement("span");return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=this.#i,t.append(s),t}renderMainDropdown(){const t=this.#s=this.#d();return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}#d(){const t=document.createElement("div"),i=this.#l._signal;t.addEventListener("contextmenu",oi,{signal:i}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,r]of this.#l.highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=s,o.setAttribute("data-l10n-id",li.#r[s]);const c=document.createElement("span");o.append(c),c.className="swatch",c.style.backgroundColor=r,o.setAttribute("aria-selected",r===this.#i),o.addEventListener("click",this.#p.bind(this,r),{signal:i}),t.append(o)}return t.addEventListener("keydown",this.#f.bind(this),{signal:i}),t}#p(t,i){i.stopPropagation(),this.#c.dispatch("switchannotationeditorparams",{source:this,type:this.#h,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#y(t);return}const i=t.target.getAttribute("data-color");i&&this.#p(i,t)}_moveToNext(t){if(!this.#g){this.#y(t);return}if(t.target===this.#t){this.#s.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#s?.firstChild||t.target===this.#t){this.#g&&this._hideDropdownFromKeyboard();return}this.#g||this.#y(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#g){this.#y(t);return}this.#s.firstChild?.focus()}_moveToEnd(t){if(!this.#g){this.#y(t);return}this.#s.lastChild?.focus()}#f(t){li._keyboardManager.exec(this,t)}#y(t){if(this.#g){this.hideDropdown();return}if(this.#a=t.detail===0,this.#u||(this.#u=new AbortController,window.addEventListener("pointerdown",this.#m.bind(this),{signal:this.#l.combinedSignal(this.#u)})),this.#s){this.#s.classList.remove("hidden");return}const i=this.#s=this.#d();this.#t.append(i)}#m(t){this.#s?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#s?.classList.add("hidden"),this.#u?.abort(),this.#u=null}get#g(){return this.#s&&!this.#s.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#n){if(!this.#g){this.#o?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#s)return;const i=this.#l.highlightColors.values();for(const s of this.#s.children)s.setAttribute("aria-selected",i.next().value===t)}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#s?.remove(),this.#s=null}}class Zt extends ft{#t=null;#e=0;#i;#s=null;#a=null;#n=null;#o=null;#c=0;#u=null;#l=null;#h=null;#r=!1;#d=null;#p;#f=null;#y="";#m;#g="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=At.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=Zt.prototype;return Ct(this,"_keyboardManager",new gr([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||Zt._defaultColor,this.#m=t.thickness||Zt._defaultThickness,this.#p=t.opacity||Zt._defaultOpacity,this.#i=t.boxes||null,this.#g=t.methodOfCreation||"",this.#y=t.text||"",this._isDraggable=!1,t.highlightId>-1?(this.#r=!0,this.#A(t),this.#C()):this.#i&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#o=t.focusNode,this.#c=t.focusOffset,this.#b(),this.#C(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#r?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#m,methodOfCreation:this.#g}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#b(){const t=new tm(this.#i,.001);this.#l=t.getOutlines(),{x:this.x,y:this.y,width:this.width,height:this.height}=this.#l.box;const i=new tm(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#n=i.getOutlines();const{lastPoint:s}=this.#n.box;this.#d=[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height]}#A({highlightOutlines:t,highlightId:i,clipPathId:s}){this.#l=t;const r=1.5;if(this.#n=t.getNewOutline(this.#m/2+r,.0025),i>=0)this.#h=i,this.#s=s,this.parent.drawLayer.finalizeLine(i,t),this.#f=this.parent.drawLayer.drawOutline(this.#n);else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#h,t),this.parent.drawLayer.updateBox(this.#h,Zt.#S(this.#l.box,(m-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#f,this.#n),this.parent.drawLayer.updateBox(this.#f,Zt.#S(this.#n.box,m))}const{x:o,y:c,width:h,height:f}=t.box;switch(this.rotation){case 0:this.x=o,this.y=c,this.width=h,this.height=f;break;case 90:{const[m,y]=this.parentDimensions;this.x=c,this.y=1-o,this.width=h*y/m,this.height=f*m/y;break}case 180:this.x=1-o,this.y=1-c,this.width=h,this.height=f;break;case 270:{const[m,y]=this.parentDimensions;this.x=1-c,this.y=o,this.width=h*y/m,this.height=f*m/y;break}}const{lastPoint:p}=this.#n.box;this.#d=[(p[0]-o)/h,(p[1]-c)/f]}static initialize(t,i){ft.initialize(t,i),Zt._defaultColor||=i.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,i){switch(t){case pt.HIGHLIGHT_DEFAULT_COLOR:Zt._defaultColor=i;break;case pt.HIGHLIGHT_THICKNESS:Zt._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return this.#d}updateParams(t,i){switch(t){case pt.HIGHLIGHT_COLOR:this.#T(i);break;case pt.HIGHLIGHT_THICKNESS:this.#E(i);break}}static get defaultPropertiesToUpdate(){return[[pt.HIGHLIGHT_DEFAULT_COLOR,Zt._defaultColor],[pt.HIGHLIGHT_THICKNESS,Zt._defaultThickness]]}get propertiesToUpdate(){return[[pt.HIGHLIGHT_COLOR,this.color||Zt._defaultColor],[pt.HIGHLIGHT_THICKNESS,this.#m||Zt._defaultThickness],[pt.HIGHLIGHT_FREE,this.#r]]}#T(t){const i=(o,c)=>{this.color=o,this.parent?.drawLayer.changeColor(this.#h,o),this.#a?.updateColor(o),this.#p=c,this.parent?.drawLayer.changeOpacity(this.#h,c)},s=this.color,r=this.#p;this.addCommands({cmd:i.bind(this,t,Zt._defaultOpacity),undo:i.bind(this,s,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#E(t){const i=this.#m,s=r=>{this.#m=r,this.#w(r)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(this.#a=new li({editor:this}),t.addColorPicker(this.#a)),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#M())}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,this.#M())}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#P(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#C(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let i=!1;this.parent&&!t?this.#P():t&&(this.#C(t),i=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),i&&this.select()}#w(t){if(!this.#r)return;this.#A({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition();const[i,s]=this.parentDimensions;this.setDims(this.width*i,this.height*s)}#P(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#f),this.#f=null)}#C(t=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#s}=t.drawLayer.draw(this.#l,this.color,this.#p),this.#f=t.drawLayer.drawOutline(this.#n),this.#u&&(this.#u.style.clipPath=this.#s))}static#S({x:t,y:i,width:s,height:r},o){switch(o){case 90:return{x:1-i-r,y:t,width:r,height:s};case 180:return{x:1-t-s,y:1-i-r,width:s,height:r};case 270:return{x:i,y:1-t-s,width:r,height:s}}return{x:t,y:i,width:s,height:r}}rotate(t){const{drawLayer:i}=this.parent;let s;this.#r?(t=(t-this.rotation+360)%360,s=Zt.#S(this.#l.box,t)):s=Zt.#S(this,t),i.rotate(this.#h,t),i.rotate(this.#f,t),i.updateBox(this.#h,s),i.updateBox(this.#f,Zt.#S(this.#n.box,t))}render(){if(this.div)return this.div;const t=super.render();this.#y&&(t.setAttribute("aria-label",this.#y),t.setAttribute("role","mark")),this.#r?t.classList.add("free"):this.div.addEventListener("keydown",this.#x.bind(this),{signal:this._uiManager._signal});const i=this.#u=document.createElement("div");t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=this.#s;const[s,r]=this.parentDimensions;return this.setDims(this.width*s,this.height*r),Kl(this,this.#u,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(this.#f,"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(this.#f,"hovered")}#x(t){Zt._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#R(!0);break;case 1:case 3:this.#R(!1);break}}#R(t){if(!this.#t)return;const i=window.getSelection();t?i.setPosition(this.#t,this.#e):i.setPosition(this.#o,this.#c)}select(){super.select(),this.#f&&(this.parent?.drawLayer.removeClass(this.#f,"hovered"),this.parent?.drawLayer.addClass(this.#f,"selected"))}unselect(){super.unselect(),this.#f&&(this.parent?.drawLayer.removeClass(this.#f,"selected"),this.#r||this.#R(!1))}get _mustFixPosition(){return!this.#r}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(this.#h,t),this.parent.drawLayer.show(this.#f,t))}#M(){return this.#r?this.rotation:0}#O(){if(this.#r)return null;const[t,i]=this.pageDimensions,[s,r]=this.pageTranslation,o=this.#i,c=new Float32Array(o.length*8);let h=0;for(const{x:f,y:p,width:m,height:y}of o){const b=f*t+s,A=(1-p-y)*i+r;c[h]=c[h+4]=b,c[h+1]=c[h+3]=A,c[h+2]=c[h+6]=b+m*t,c[h+5]=c[h+7]=A+y*i,h+=8}return c}#_(t){return this.#l.serialize(t,this.#M())}static startHighlighting(t,i,{target:s,x:r,y:o}){const{x:c,y:h,width:f,height:p}=s.getBoundingClientRect(),m=new AbortController,y=t.combinedSignal(m),b=S=>{S.preventDefault(),S.stopPropagation()},A=S=>{m.abort(),this.#k(t,S)};window.addEventListener("blur",A,{signal:y}),window.addEventListener("pointerup",A,{signal:y}),window.addEventListener("pointerdown",b,{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",oi,{signal:y}),s.addEventListener("pointermove",this.#v.bind(this,t),{signal:y}),this._freeHighlight=new Ju({x:r,y:o},[c,h,f,p],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static#v(t,i){this._freeHighlight.add(i)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#k(t,i){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,i,s){let r=null;if(t instanceof ty){const{data:{quadPoints:S,rect:E,rotation:x,id:w,color:M,opacity:O,popupRef:k},parent:{page:{pageNumber:H}}}=t;r=t={annotationType:At.HIGHLIGHT,color:Array.from(M),opacity:O,quadPoints:S,boxes:null,pageIndex:H-1,rect:E.slice(0),rotation:x,id:w,deleted:!1,popupRef:k}}else if(t instanceof Eh){const{data:{inkLists:S,rect:E,rotation:x,id:w,color:M,borderStyle:{rawWidth:O},popupRef:k},parent:{page:{pageNumber:H}}}=t;r=t={annotationType:At.HIGHLIGHT,color:Array.from(M),thickness:O,inkLists:S,boxes:null,pageIndex:H-1,rect:E.slice(0),rotation:x,id:w,deleted:!1,popupRef:k}}const{color:o,quadPoints:c,inkLists:h,opacity:f}=t,p=await super.deserialize(t,i,s);p.color=at.makeHexColor(...o),p.#p=f||1,h&&(p.#m=t.thickness),p.annotationElementId=t.id||null,p._initialData=r;const[m,y]=p.pageDimensions,[b,A]=p.pageTranslation;if(c){const S=p.#i=[];for(let E=0;E<c.length;E+=8)S.push({x:(c[E]-b)/m,y:1-(c[E+1]-A)/y,width:(c[E+2]-c[E])/m,height:(c[E+1]-c[E+5])/y});p.#b(),p.#C(),p.rotate(p.rotation)}else if(h){p.#r=!0;const S=h[0],E={x:S[0]-b,y:y-(S[1]-A)},x=new Ju(E,[0,0,m,y],1,p.#m/2,!0,.001);for(let O=0,k=S.length;O<k;O+=2)E.x=S[O]-b,E.y=y-(S[O+1]-A),x.add(E);const{id:w,clipPathId:M}=i.drawLayer.draw(x,p.color,p._defaultOpacity,!0);p.#A({highlightOutlines:x.getOutlines(),highlightId:w,clipPathId:M}),p.#C()}return p}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),s=ft._colorManager.convert(this.color),r={annotationType:At.HIGHLIGHT,color:s,opacity:this.#p,thickness:this.#m,quadPoints:this.#O(),outlines:this.#_(i),pageIndex:this.pageIndex,rect:i,rotation:this.#M(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#N(r)?null:(r.id=this.annotationElementId,r)}#N(t){const{color:i}=this._initialData;return t.color.some((s,r)=>s!==i[r])}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class _e extends ft{#t=0;#e=0;#i=null;#s=new Path2D;#a=!1;#n=null;#o=!1;#c=!1;#u=null;#l=null;#h=0;#r=0;#d=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=At.INK;constructor(t){super({...t,name:"inkEditor"}),this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,i){ft.initialize(t,i)}static updateDefaultParams(t,i){switch(t){case pt.INK_THICKNESS:_e._defaultThickness=i;break;case pt.INK_COLOR:_e._defaultColor=i;break;case pt.INK_OPACITY:_e._defaultOpacity=i/100;break}}updateParams(t,i){switch(t){case pt.INK_THICKNESS:this.#p(i);break;case pt.INK_COLOR:this.#f(i);break;case pt.INK_OPACITY:this.#y(i);break}}static get defaultPropertiesToUpdate(){return[[pt.INK_THICKNESS,_e._defaultThickness],[pt.INK_COLOR,_e._defaultColor||ft._defaultLineColor],[pt.INK_OPACITY,Math.round(_e._defaultOpacity*100)]]}get propertiesToUpdate(){return[[pt.INK_THICKNESS,this.thickness||_e._defaultThickness],[pt.INK_COLOR,this.color||_e._defaultColor||ft._defaultLineColor],[pt.INK_OPACITY,Math.round(100*(this.opacity??_e._defaultOpacity))]]}#p(t){const i=r=>{this.thickness=r,this.#D()},s=this.thickness;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#f(t){const i=r=>{this.color=r,this.#S()},s=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#y(t){const i=r=>{this.opacity=r,this.#S()};t/=100;const s=this.opacity;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#O(),this.#_()),this.isAttachedToDOM||(this.parent.add(this),this.#v()),this.#D()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#i&&(clearTimeout(this.#i),this.#i=null),this.#u?.disconnect(),this.#u=null,super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,i]=this.parentDimensions,s=this.width*t,r=this.height*i;this.setDimensions(s,r)}enableEditMode(){this.#a||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.#x())}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.#R())}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#m(){const{parentRotation:t,parentDimensions:[i,s]}=this;switch(t){case 90:return[0,s,s,i];case 180:return[i,s,i,s];case 270:return[i,0,s,i];default:return[0,0,i,s]}}#g(){const{ctx:t,color:i,opacity:s,thickness:r,parentScale:o,scaleFactor:c}=this;t.lineWidth=r*o/c,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${i}${lS(s)}`}#b(t,i){this.canvas.addEventListener("contextmenu",oi,{signal:this._uiManager._signal}),this.#R(),this.#n=new AbortController;const s=this._uiManager.combinedSignal(this.#n);this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:s}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:s}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:s}),this.isEditing=!0,this.#c||(this.#c=!0,this.#v(),this.thickness||=_e._defaultThickness,this.color||=_e._defaultColor||ft._defaultLineColor,this.opacity??=_e._defaultOpacity),this.currentPath.push([t,i]),this.#o=!1,this.#g(),this.#d=()=>{this.#w(),this.#d&&window.requestAnimationFrame(this.#d)},window.requestAnimationFrame(this.#d)}#A(t,i){const[s,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===s&&i===r)return;const o=this.currentPath;let c=this.#s;if(o.push([t,i]),this.#o=!0,o.length<=2){c.moveTo(...o[0]),c.lineTo(t,i);return}o.length===3&&(this.#s=c=new Path2D,c.moveTo(...o[0])),this.#P(c,...o.at(-3),...o.at(-2),t,i)}#T(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);this.#s.lineTo(...t)}#E(t,i){this.#d=null,t=Math.min(Math.max(t,0),this.canvas.width),i=Math.min(Math.max(i,0),this.canvas.height),this.#A(t,i),this.#T();let s;if(this.currentPath.length!==1)s=this.#C();else{const f=[t,i];s=[[f,f.slice(),f.slice(),f]]}const r=this.#s,o=this.currentPath;this.currentPath=[],this.#s=new Path2D;const c=()=>{this.allRawPaths.push(o),this.paths.push(s),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},h=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#O(),this.#_()),this.#D())};this.addCommands({cmd:c,undo:h,mustExec:!0})}#w(){if(!this.#o)return;this.#o=!1;const t=Math.ceil(this.thickness*this.parentScale),i=this.currentPath.slice(-3),s=i.map(c=>c[0]),r=i.map(c=>c[1]);Math.min(...s)-t,Math.max(...s)+t,Math.min(...r)-t,Math.max(...r)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const c of this.bezierPath2D)o.stroke(c);o.stroke(this.#s),o.restore()}#P(t,i,s,r,o,c,h){const f=(i+r)/2,p=(s+o)/2,m=(r+c)/2,y=(o+h)/2;t.bezierCurveTo(f+2*(r-f)/3,p+2*(o-p)/3,m+2*(r-m)/3,y+2*(o-y)/3,m,y)}#C(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const i=[];let s,[r,o]=t[0];for(s=1;s<t.length-2;s++){const[b,A]=t[s],[S,E]=t[s+1],x=(b+S)/2,w=(A+E)/2,M=[r+2*(b-r)/3,o+2*(A-o)/3],O=[x+2*(b-x)/3,w+2*(A-w)/3];i.push([[r,o],M,O,[x,w]]),[r,o]=[x,w]}const[c,h]=t[s],[f,p]=t[s+1],m=[r+2*(c-r)/3,o+2*(h-o)/3],y=[f+2*(c-f)/3,p+2*(h-p)/3];return i.push([[r,o],m,y,[f,p]]),i}#S(){if(this.isEmpty()){this.#N();return}this.#g();const{canvas:t,ctx:i}=this;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,t.width,t.height),this.#N();for(const s of this.bezierPath2D)i.stroke(s)}commit(){this.#a||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#a=!0,this.div.classList.add("disabled"),this.#D(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}#x(){if(this.#l)return;this.#l=new AbortController;const t=this._uiManager.combinedSignal(this.#l);this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})}#R(){this.pointerdownAC?.abort(),this.pointerdownAC=null}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||this.#a||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#b(t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),this.#A(t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),this.#M(t)}canvasPointerleave(t){this.#M(t)}#M(t){this.#n?.abort(),this.#n=null,this.#x(),this.#i&&clearTimeout(this.#i),this.#i=setTimeout(()=>{this.#i=null,this.canvas.removeEventListener("contextmenu",oi)},10),this.#E(t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#O(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#_(){this.#u=new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&this.setDimensions(i.width,i.height)}),this.#u.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#u?.disconnect(),this.#u=null},{once:!0})}get isResizable(){return!this.isEmpty()&&this.#a}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[s,r,o,c]=this.#m();if(this.setAt(s,r,0,0),this.setDims(o,c),this.#O(),this.width){const[h,f]=this.parentDimensions;this.setAspectRatio(this.width*h,this.height*f),this.setAt(t*h,i*f,this.width*h,this.height*f),this.#c=!0,this.#v(),this.setDims(this.width*h,this.height*f),this.#S(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#_(),this.div}#v(){if(!this.#c)return;const[t,i]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*i),this.#N()}setDimensions(t,i){const s=Math.round(t),r=Math.round(i);if(this.#h===s&&this.#r===r)return;this.#h=s,this.#r=r,this.canvas.style.visibility="hidden";const[o,c]=this.parentDimensions;this.width=t/o,this.height=i/c,this.fixAndSetPosition(),this.#a&&this.#k(t,i),this.#v(),this.#S(),this.canvas.style.visibility="visible",this.fixDims()}#k(t,i){const s=this.#I(),r=(t-s)/this.#e,o=(i-s)/this.#t;this.scaleFactor=Math.min(r,o)}#N(){const t=this.#I()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)}static#F(t){const i=new Path2D;for(let s=0,r=t.length;s<r;s++){const[o,c,h,f]=t[s];s===0&&i.moveTo(...o),i.bezierCurveTo(c[0],c[1],h[0],h[1],f[0],f[1])}return i}static#j(t,i,s){const[r,o,c,h]=i;switch(s){case 0:for(let f=0,p=t.length;f<p;f+=2)t[f]+=r,t[f+1]=h-t[f+1];break;case 90:for(let f=0,p=t.length;f<p;f+=2){const m=t[f];t[f]=t[f+1]+r,t[f+1]=m+o}break;case 180:for(let f=0,p=t.length;f<p;f+=2)t[f]=c-t[f],t[f+1]+=o;break;case 270:for(let f=0,p=t.length;f<p;f+=2){const m=t[f];t[f]=c-t[f+1],t[f+1]=h-m}break;default:throw new Error("Invalid rotation")}return t}static#U(t,i,s){const[r,o,c,h]=i;switch(s){case 0:for(let f=0,p=t.length;f<p;f+=2)t[f]-=r,t[f+1]=h-t[f+1];break;case 90:for(let f=0,p=t.length;f<p;f+=2){const m=t[f];t[f]=t[f+1]-o,t[f+1]=m-r}break;case 180:for(let f=0,p=t.length;f<p;f+=2)t[f]=c-t[f],t[f+1]-=o;break;case 270:for(let f=0,p=t.length;f<p;f+=2){const m=t[f];t[f]=h-t[f+1],t[f+1]=c-m}break;default:throw new Error("Invalid rotation")}return t}#H(t,i,s,r){const o=[],c=this.thickness/2,h=t*i+c,f=t*s+c;for(const p of this.paths){const m=[],y=[];for(let b=0,A=p.length;b<A;b++){const[S,E,x,w]=p[b];if(S[0]===w[0]&&S[1]===w[1]&&A===1){const tt=t*S[0]+h,J=t*S[1]+f;m.push(tt,J),y.push(tt,J);break}const M=t*S[0]+h,O=t*S[1]+f,k=t*E[0]+h,H=t*E[1]+f,j=t*x[0]+h,X=t*x[1]+f,Z=t*w[0]+h,W=t*w[1]+f;b===0&&(m.push(M,O),y.push(M,O)),m.push(k,H,j,X,Z,W),y.push(k,H),b===A-1&&y.push(Z,W)}o.push({bezier:_e.#j(m,r,this.rotation),points:_e.#j(y,r,this.rotation)})}return o}#z(){let t=1/0,i=-1/0,s=1/0,r=-1/0;for(const o of this.paths)for(const[c,h,f,p]of o){const m=at.bezierBoundingBox(...c,...h,...f,...p);t=Math.min(t,m[0]),s=Math.min(s,m[1]),i=Math.max(i,m[2]),r=Math.max(r,m[3])}return[t,s,i,r]}#I(){return this.#a?Math.ceil(this.thickness*this.parentScale):0}#D(t=!1){if(this.isEmpty())return;if(!this.#a){this.#S();return}const i=this.#z(),s=this.#I();this.#e=Math.max(ft.MIN_SIZE,i[2]-i[0]),this.#t=Math.max(ft.MIN_SIZE,i[3]-i[1]);const r=Math.ceil(s+this.#e*this.scaleFactor),o=Math.ceil(s+this.#t*this.scaleFactor),[c,h]=this.parentDimensions;this.width=r/c,this.height=o/h,this.setAspectRatio(r,o);const f=this.translationX,p=this.translationY;this.translationX=-i[0],this.translationY=-i[1],this.#v(),this.#S(),this.#h=r,this.#r=o,this.setDims(r,o);const m=t?s/this.scaleFactor/2:0;this.translate(f-this.translationX-m,p-this.translationY-m)}static async deserialize(t,i,s){if(t instanceof Eh)return null;const r=await super.deserialize(t,i,s);r.thickness=t.thickness,r.color=at.makeHexColor(...t.color),r.opacity=t.opacity;const[o,c]=r.pageDimensions,h=r.width*o,f=r.height*c,p=r.parentScale,m=t.thickness/2;r.#a=!0,r.#h=Math.round(h),r.#r=Math.round(f);const{paths:y,rect:b,rotation:A}=t;for(let{bezier:E}of y){E=_e.#U(E,b,A);const x=[];r.paths.push(x);let w=p*(E[0]-m),M=p*(E[1]-m);for(let k=2,H=E.length;k<H;k+=6){const j=p*(E[k]-m),X=p*(E[k+1]-m),Z=p*(E[k+2]-m),W=p*(E[k+3]-m),tt=p*(E[k+4]-m),J=p*(E[k+5]-m);x.push([[w,M],[j,X],[Z,W],[tt,J]]),w=tt,M=J}const O=this.#F(x);r.bezierPath2D.push(O)}const S=r.#z();return r.#e=Math.max(ft.MIN_SIZE,S[2]-S[0]),r.#t=Math.max(ft.MIN_SIZE,S[3]-S[1]),r.#k(h,f),r}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),i=ft._colorManager.convert(this.ctx.strokeStyle);return{annotationType:At.INK,color:i,thickness:this.thickness,opacity:this.opacity,paths:this.#H(this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class wh extends ft{#t=null;#e=null;#i=null;#s=null;#a=null;#n="";#o=null;#c=null;#u=null;#l=!1;#h=!1;static _type="stamp";static _editorType=At.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#s=t.bitmapUrl,this.#a=t.bitmapFile}static initialize(t,i){ft.initialize(t,i)}static get supportedTypes(){return Ct(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return Ct(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,i){i.pasteEditor(At.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const i=t.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}#r(t,i=!1){if(!t){this.remove();return}this.#t=t.bitmap,i||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#n=t.file.name),this.#f()}#d(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#o){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:o,height:c}=t||this.copyCanvas(null,null,!0).imageData,h=await s.guess({name:"altText",request:{data:r,width:o,height:c,channels:r.length/(o*c)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const f=h.output;return await this.setGuessedAltText(f),i&&!this.hasAltTextData()&&(this.altTextData={alt:f,decorative:!1}),f}#p(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(s=>this.#r(s,!0)).finally(()=>this.#d());return}if(this.#s){const s=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(s).then(r=>this.#r(r)).finally(()=>this.#d());return}if(this.#a){const s=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(s).then(r=>this.#r(r)).finally(()=>this.#d());return}const t=document.createElement("input");t.type="file",t.accept=wh.supportedTypesStr;const i=this._uiManager._signal;this.#i=new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#r(r)}s()},{signal:i}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:i})}).finally(()=>this.#d()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#o?.remove(),this.#o=null,this.#c?.disconnect(),this.#c=null,this.#u&&(clearTimeout(this.#u),this.#u=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#p();return}super.rebuild(),this.div!==null&&(this.#e&&this.#o===null&&this.#p(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#s||this.#a||this.#e)}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;if(this.width&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),this.#t?this.#f():this.#p(),this.width&&!this.annotationElementId){const[s,r]=this.parentDimensions;this.setAt(t*s,i*r,this.width*s,this.height*r)}return this.div}#f(){const{div:t}=this;let{width:i,height:s}=this.#t;const[r,o]=this.pageDimensions,c=.75;if(this.width)i=this.width*r,s=this.height*o;else if(i>c*r||s>c*o){const m=Math.min(c*r/i,c*o/s);i*=m,s*=m}const[h,f]=this.parentDimensions;this.setDims(i*h/r,s*f/o),this._uiManager.enableWaiting(!1);const p=this.#o=document.createElement("canvas");p.setAttribute("role","img"),this.addContainer(p),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#g(i,s),this.#A(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#n&&p.setAttribute("aria-label",this.#n)}copyCanvas(t,i,s=!1){t||(t=224);const{width:r,height:o}=this.#t,c=new Xu;let h=this.#t,f=r,p=o,m=null;if(i){if(r>i||o>i){const j=Math.min(i/r,i/o);f=Math.floor(r*j),p=Math.floor(o*j)}m=document.createElement("canvas");const b=m.width=Math.ceil(f*c.sx),A=m.height=Math.ceil(p*c.sy);this.#l||(h=this.#m(b,A));const S=m.getContext("2d");S.filter=this._uiManager.hcmFilter;let E="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(E="#8f8f9d",x="#42414d");const w=15,M=w*c.sx,O=w*c.sy,k=new OffscreenCanvas(M*2,O*2),H=k.getContext("2d");H.fillStyle=E,H.fillRect(0,0,M*2,O*2),H.fillStyle=x,H.fillRect(0,0,M,O),H.fillRect(M,O,M,O),S.fillStyle=S.createPattern(k,"repeat"),S.fillRect(0,0,b,A),S.drawImage(h,0,0,h.width,h.height,0,0,b,A)}let y=null;if(s){let b,A;if(c.symmetric&&h.width<t&&h.height<t)b=h.width,A=h.height;else if(h=this.#t,r>t||o>t){const x=Math.min(t/r,t/o);b=Math.floor(r*x),A=Math.floor(o*x),this.#l||(h=this.#m(b,A))}const E=new OffscreenCanvas(b,A).getContext("2d",{willReadFrequently:!0});E.drawImage(h,0,0,h.width,h.height,0,0,b,A),y={width:b,height:A,data:E.getImageData(0,0,b,A).data}}return{canvas:m,width:f,height:p,imageData:y}}#y(t,i){const[s,r]=this.parentDimensions;this.width=t/s,this.height=i/r,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#u!==null&&clearTimeout(this.#u);const o=200;this.#u=setTimeout(()=>{this.#u=null,this.#g(t,i)},o)}#m(t,i){const{width:s,height:r}=this.#t;let o=s,c=r,h=this.#t;for(;o>2*t||c>2*i;){const f=o,p=c;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),c>2*i&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const m=new OffscreenCanvas(o,c);m.getContext("2d").drawImage(h,0,0,f,p,0,0,o,c),h=m.transferToImageBitmap()}return h}#g(t,i){const s=new Xu,r=Math.ceil(t*s.sx),o=Math.ceil(i*s.sy),c=this.#o;if(!c||c.width===r&&c.height===o)return;c.width=r,c.height=o;const h=this.#l?this.#t:this.#m(r,o),f=c.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(h,0,0,h.width,h.height,0,0,r,o)}getImageForAltText(){return this.#o}#b(t){if(t){if(this.#l){const r=this._uiManager.imageManager.getSvgUrl(this.#e);if(r)return r}const i=document.createElement("canvas");return{width:i.width,height:i.height}=this.#t,i.getContext("2d").drawImage(this.#t,0,0),i.toDataURL()}if(this.#l){const[i,s]=this.pageDimensions,r=Math.round(this.width*i*Ks.PDF_TO_CSS_UNITS),o=Math.round(this.height*s*Ks.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(r,o);return c.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,r,o),c.transferToImageBitmap()}return structuredClone(this.#t)}#A(){this._uiManager._signal&&(this.#c=new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&this.#y(i.width,i.height)}),this.#c.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#c?.disconnect(),this.#c=null},{once:!0}))}static async deserialize(t,i,s){let r=null;if(t instanceof ey){const{data:{rect:S,rotation:E,id:x,structParent:w,popupRef:M},container:O,parent:{page:{pageNumber:k}}}=t,H=O.querySelector("canvas"),j=s.imageManager.getFromCanvas(O.id,H);H.remove();const X=(await i._structTree.getAriaAttributes(`${ch}${x}`))?.get("aria-label")||"";r=t={annotationType:At.STAMP,bitmapId:j.id,bitmap:j.bitmap,pageIndex:k-1,rect:S.slice(0),rotation:E,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:X},isSvg:!1,structParent:w,popupRef:M}}const o=await super.deserialize(t,i,s),{rect:c,bitmap:h,bitmapUrl:f,bitmapId:p,isSvg:m,accessibilityData:y}=t;p&&s.imageManager.isValidId(p)?(o.#e=p,h&&(o.#t=h)):o.#s=f,o.#l=m;const[b,A]=o.pageDimensions;return o.width=(c[2]-c[0])/b,o.height=(c[3]-c[1])/A,o.annotationElementId=t.id||null,y&&(o.altTextData=y),o._initialData=r,o.#h=!!r,o}serialize(t=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:At.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#l,structTreeParentId:this._structTreeParentId};if(t)return s.bitmapUrl=this.#b(!0),s.accessibilityData=this.serializeAltText(!0),s;const{decorative:r,altText:o}=this.serializeAltText(!1);if(!r&&o&&(s.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const h=this.#T(s);if(h.isSame)return null;h.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,i===null)return s;i.stamps||=new Map;const c=this.#l?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!i.stamps.has(this.#e))i.stamps.set(this.#e,{area:c,serialized:s}),s.bitmap=this.#b(!1);else if(this.#l){const h=i.stamps.get(this.#e);c>h.area&&(h.area=c,h.serialized.bitmap.close(),h.serialized.bitmap=this.#b(!1))}return s}#T(t){const{rect:i,pageIndex:s,accessibilityData:{altText:r}}=this._initialData,o=t.rect.every((f,p)=>Math.abs(f-i[p])<1),c=t.pageIndex===s,h=(t.accessibilityData?.alt||"")===r;return{isSame:o&&c&&h,isSameAltText:h}}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}class qi{#t;#e=!1;#i=null;#s=null;#a=null;#n=new Map;#o=!1;#c=!1;#u=!1;#l=null;#h=null;#r;static _initialized=!1;static#d=new Map([ce,_e,wh,Zt].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:i,div:s,structTreeLayer:r,accessibilityManager:o,annotationLayer:c,drawLayer:h,textLayer:f,viewport:p,l10n:m}){const y=[...qi.#d.values()];if(!qi._initialized){qi._initialized=!0;for(const b of y)b.initialize(m,t)}t.registerEditorTypes(y),this.#r=t,this.pageIndex=i,this.div=s,this.#t=o,this.#i=c,this.viewport=p,this.#l=f,this.drawLayer=h,this._structTree=r,this.#r.addLayer(this)}get isEmpty(){return this.#n.size===0}get isInvisible(){return this.isEmpty&&this.#r.getMode()===At.NONE}updateToolbar(t){this.#r.updateToolbar(t)}updateMode(t=this.#r.getMode()){switch(this.#g(),t){case At.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case At.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case At.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:i}=this.div;for(const s of qi.#d.values())i.toggle(`${s._type}Editing`,t===s._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#l?.div}addInkEditorIfNeeded(t){if(this.#r.getMode()!==At.INK)return;if(!t){for(const s of this.#n.values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){this.#r.setEditingState(t)}addCommands(t){this.#r.addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const s of this.#n.values())s.enableEditing(),s.show(!0),s.annotationElementId&&(this.#r.removeChangedExistingAnnotation(s),t.add(s.annotationElementId));if(!this.#i)return;const i=this.#i.getEditableAnnotations();for(const s of i){if(s.hide(),this.#r.isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){this.#u=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,i=new Map;for(const r of this.#n.values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){t.set(r.annotationElementId,r);continue}else i.set(r.annotationElementId,r);this.getEditableAnnotation(r.annotationElementId)?.show(),r.remove()}if(this.#i){const r=this.#i.getEditableAnnotations();for(const o of r){const{id:c}=o.data;if(this.#r.isDeletedAnnotationElement(c))continue;let h=i.get(c);if(h){h.resetAnnotationElement(o),h.show(!1),o.show();continue}h=t.get(c),h&&(this.#r.addChangedExistingAnnotation(h),h.renderAnnotationElement(o)&&h.show(!1)),o.show()}}this.#g(),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const r of qi.#d.values())s.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#u=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#r.getActive()!==t&&this.#r.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#l?.div&&!this.#h){this.#h=new AbortController;const t=this.#r.combinedSignal(this.#h);this.#l.div.addEventListener("pointerdown",this.#p.bind(this),{signal:t}),this.#l.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#l?.div&&this.#h&&(this.#h.abort(),this.#h=null,this.#l.div.classList.remove("highlighting"))}#p(t){this.#r.unselectAll();const{target:i}=t;if(i===this.#l.div||(i.getAttribute("role")==="img"||i.classList.contains("endOfContent"))&&this.#l.div.contains(i)){const{isMac:s}=Oe.platform;if(t.button!==0||t.ctrlKey&&s)return;this.#r.showAllEditors("highlight",!0,!0),this.#l.div.classList.add("free"),this.toggleDrawing(),Zt.startHighlighting(this,this.#r.direction==="ltr",{target:this.#l.div,x:t.x,y:t.y}),this.#l.div.addEventListener("pointerup",()=>{this.#l.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#r._signal}),t.preventDefault()}}enableClick(){if(this.#s)return;this.#s=new AbortController;const t=this.#r.combinedSignal(this.#s);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){this.#s?.abort(),this.#s=null}attach(t){this.#n.set(t.id,t);const{annotationElementId:i}=t;i&&this.#r.isDeletedAnnotationElement(i)&&this.#r.removeDeletedAnnotationElement(t)}detach(t){this.#n.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#u&&t.annotationElementId&&this.#r.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#r.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,this.#c||this.addInkEditorIfNeeded(!1)}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#r.addDeletedAnnotationElement(t.annotationElementId),ft.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#r.addEditor(t),this.attach(t),!t.isAttachedToDOM){const i=t.render();this.div.append(i),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),this.#r.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:i}=document;t.div.contains(i)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#r._signal}),i.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const i=()=>t._uiManager.rebuild(t),s=()=>{t.remove()};this.addCommands({cmd:i,undo:s,mustExec:!1})}getNextId(){return this.#r.getId()}get#f(){return qi.#d.get(this.#r.getMode())}combinedSignal(t){return this.#r.combinedSignal(t)}#y(t){const i=this.#f;return i?new i.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#f?.canCreateNewEmptyEditor()}pasteEditor(t,i){this.#r.updateToolbar(t),this.#r.updateMode(t);const{offsetX:s,offsetY:r}=this.#m(),o=this.getNextId(),c=this.#y({parent:this,id:o,x:s,y:r,uiManager:this.#r,isCentered:!0,...i});c&&this.add(c)}async deserialize(t){return await qi.#d.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#r)||null}createAndAddNewEditor(t,i,s={}){const r=this.getNextId(),o=this.#y({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#r,isCentered:i,...s});return o&&this.add(o),o}#m(){const{x:t,y:i,width:s,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,t),c=Math.max(0,i),h=Math.min(window.innerWidth,t+s),f=Math.min(window.innerHeight,i+r),p=(o+h)/2-t,m=(c+f)/2-i,[y,b]=this.viewport.rotation%180===0?[p,m]:[m,p];return{offsetX:y,offsetY:b}}addNewEditor(){this.createAndAddNewEditor(this.#m(),!0)}setSelected(t){this.#r.setSelected(t)}toggleSelected(t){this.#r.toggleSelected(t)}unselect(t){this.#r.unselect(t)}pointerup(t){const{isMac:i}=Oe.platform;if(!(t.button!==0||t.ctrlKey&&i)&&t.target===this.div&&this.#o){if(this.#o=!1,!this.#e){this.#e=!0;return}if(this.#r.getMode()===At.STAMP){this.#r.unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(this.#r.getMode()===At.HIGHLIGHT&&this.enableTextSelection(),this.#o){this.#o=!1;return}const{isMac:i}=Oe.platform;if(t.button!==0||t.ctrlKey&&i||t.target!==this.div)return;this.#o=!0;const s=this.#r.getActive();this.#e=!s||s.isEmpty()}findNewParent(t,i,s){const r=this.#r.findParent(i,s);return r===null||r===this?!1:(r.changeParent(t),!0)}destroy(){this.#r.getActive()?.parent===this&&(this.#r.commitOrRemove(),this.#r.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#n.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#n.clear(),this.#r.removeLayer(this)}#g(){this.#c=!0;for(const t of this.#n.values())t.isEmpty()&&t.remove();this.#c=!1}render({viewport:t}){this.viewport=t,Yn(this.div,t);for(const i of this.#r.getEditors(this.pageIndex))this.add(i),i.rebuild();this.updateMode()}update({viewport:t}){this.#r.commitOrRemove(),this.#g();const i=this.viewport.rotation,s=t.rotation;if(this.viewport=t,Yn(this.div,{rotation:s}),i!==s)for(const r of this.#n.values())r.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:i}=this.viewport.rawDims;return[t,i]}get scale(){return this.#r.viewParameters.realScale}}class Ce{#t=null;#e=0;#i=new Map;#s=new Map;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#i.size>0)for(const i of this.#i.values())i.remove(),t.append(i);this.#t=t}}static get _svgFactory(){return Ct(this,"_svgFactory",new _h)}static#a(t,{x:i=0,y:s=0,width:r=1,height:o=1}={}){const{style:c}=t;c.top=`${100*s}%`,c.left=`${100*i}%`,c.width=`${100*r}%`,c.height=`${100*o}%`}#n(t){const i=Ce._svgFactory.create(1,1,!0);return this.#t.append(i),i.setAttribute("aria-hidden",!0),Ce.#a(i,t),i}#o(t,i){const s=Ce._svgFactory.createElement("clipPath");t.append(s);const r=`clip_${i}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const o=Ce._svgFactory.createElement("use");return s.append(o),o.setAttribute("href",`#${i}`),o.classList.add("clip"),r}draw(t,i,s,r=!1){const o=this.#e++,c=this.#n(t.box);c.classList.add(...t.classNamesForDrawing);const h=Ce._svgFactory.createElement("defs");c.append(h);const f=Ce._svgFactory.createElement("path");h.append(f);const p=`path_p${this.pageIndex}_${o}`;f.setAttribute("id",p),f.setAttribute("d",t.toSVGPath()),r&&this.#s.set(o,f);const m=this.#o(h,p),y=Ce._svgFactory.createElement("use");return c.append(y),c.setAttribute("fill",i),c.setAttribute("fill-opacity",s),y.setAttribute("href",`#${p}`),this.#i.set(o,c),{id:o,clipPathId:`url(#${m})`}}drawOutline(t){const i=this.#e++,s=this.#n(t.box);s.classList.add(...t.classNamesForOutlining);const r=Ce._svgFactory.createElement("defs");s.append(r);const o=Ce._svgFactory.createElement("path");r.append(o);const c=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",c),o.setAttribute("d",t.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let h;if(t.mustRemoveSelfIntersections){const m=Ce._svgFactory.createElement("mask");r.append(m),h=`mask_p${this.pageIndex}_${i}`,m.setAttribute("id",h),m.setAttribute("maskUnits","objectBoundingBox");const y=Ce._svgFactory.createElement("rect");m.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const b=Ce._svgFactory.createElement("use");m.append(b),b.setAttribute("href",`#${c}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const f=Ce._svgFactory.createElement("use");s.append(f),f.setAttribute("href",`#${c}`),h&&f.setAttribute("mask",`url(#${h})`);const p=f.cloneNode();return s.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.#i.set(i,s),i}finalizeLine(t,i){const s=this.#s.get(t);this.#s.delete(t),this.updateBox(t,i.box),s.setAttribute("d",i.toSVGPath())}updateLine(t,i){this.#i.get(t).firstChild.firstChild.setAttribute("d",i.toSVGPath())}updatePath(t,i){this.#s.get(t).setAttribute("d",i.toSVGPath())}updateBox(t,i){Ce.#a(this.#i.get(t),i)}show(t,i){this.#i.get(t).classList.toggle("hidden",!i)}rotate(t,i){this.#i.get(t).setAttribute("data-main-rotation",i)}changeColor(t,i){this.#i.get(t).setAttribute("fill",i)}changeOpacity(t,i){this.#i.get(t).setAttribute("fill-opacity",i)}addClass(t,i){this.#i.get(t).classList.add(i)}removeClass(t,i){this.#i.get(t).classList.remove(i)}getSVGRoot(t){return this.#i.get(t)}remove(t){this.#s.delete(t),this.#t!==null&&(this.#i.get(t).remove(),this.#i.delete(t))}destroy(){this.#t=null;for(const t of this.#i.values())t.remove();this.#i.clear(),this.#s.clear()}}var B_=bt.AbortException,I_=bt.AnnotationEditorLayer,j_=bt.AnnotationEditorParamsType,G_=bt.AnnotationEditorType,q_=bt.AnnotationEditorUIManager,sy=bt.AnnotationLayer,ay=bt.AnnotationMode,V_=bt.ColorPicker,X_=bt.DOMSVGFactory,Y_=bt.DrawLayer,K_=bt.FeatureTest,xh=bt.GlobalWorkerOptions,$_=bt.ImageKind,W_=bt.InvalidPDFException,Q_=bt.MissingPDFException,Z_=bt.OPS,J_=bt.OutputScale,tE=bt.PDFDataRangeTransport,eE=bt.PDFDateString,iE=bt.PDFWorker,nE=bt.PasswordResponses,sE=bt.PermissionFlag,aE=bt.PixelsPerInch,rE=bt.RenderingCancelledException,ry=bt.TextLayer,lE=bt.UnexpectedResponseException,oE=bt.Util,cE=bt.VerbosityLevel,uE=bt.XfaLayer,hE=bt.build,dE=bt.createValidAbsoluteUrl,fE=bt.fetchData,ly=bt.getDocument,pE=bt.getFilenameFromUrl,gE=bt.getPdfFilenameFromUrl,mE=bt.getXfaPageViewport,yE=bt.isDataScheme,bE=bt.isPdfFile,vE=bt.noContextMenu,AE=bt.normalizeUnicode,SE=bt.setLayerDimensions,_E=bt.shadow,EE=bt.version;const wE=Object.freeze(Object.defineProperty({__proto__:null,AbortException:B_,AnnotationEditorLayer:I_,AnnotationEditorParamsType:j_,AnnotationEditorType:G_,AnnotationEditorUIManager:q_,AnnotationLayer:sy,AnnotationMode:ay,ColorPicker:V_,DOMSVGFactory:X_,DrawLayer:Y_,FeatureTest:K_,GlobalWorkerOptions:xh,ImageKind:$_,InvalidPDFException:W_,MissingPDFException:Q_,OPS:Z_,OutputScale:J_,PDFDataRangeTransport:tE,PDFDateString:eE,PDFWorker:iE,PasswordResponses:nE,PermissionFlag:sE,PixelsPerInch:aE,RenderingCancelledException:rE,TextLayer:ry,UnexpectedResponseException:lE,Util:oE,VerbosityLevel:cE,XfaLayer:uE,build:hE,createValidAbsoluteUrl:dE,fetchData:fE,getDocument:ly,getFilenameFromUrl:pE,getPdfFilenameFromUrl:gE,getXfaPageViewport:mE,isDataScheme:yE,isPdfFile:bE,noContextMenu:vE,normalizeUnicode:AE,setLayerDimensions:SE,shadow:_E,version:EE},Symbol.toStringTag,{value:"Module"}));var ye=function(u,t,i){if(i||arguments.length===2)for(var s=0,r=t.length,o;s<r;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return u.concat(o||Array.prototype.slice.call(t))},xE=["onCopy","onCut","onPaste"],TE=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],CE=["onFocus","onBlur"],RE=["onInput","onInvalid","onReset","onSubmit"],ME=["onLoad","onError"],DE=["onKeyDown","onKeyPress","onKeyUp"],LE=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],OE=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],kE=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],NE=["onSelect"],PE=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],FE=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],HE=["onScroll"],zE=["onWheel"],UE=["onAnimationStart","onAnimationEnd","onAnimationIteration"],BE=["onTransitionEnd"],IE=["onToggle"],jE=["onChange"],GE=ye(ye(ye(ye(ye(ye(ye(ye(ye(ye(ye(ye(ye(ye(ye(ye(ye(ye([],xE,!0),TE,!0),CE,!0),RE,!0),ME,!0),DE,!0),LE,!0),OE,!0),kE,!0),NE,!0),PE,!0),FE,!0),HE,!0),zE,!0),UE,!0),BE,!0),jE,!0),IE,!0);function oy(u,t){var i={};return GE.forEach(function(s){var r=u[s];r&&(t?i[s]=function(o){return r(o,t(s))}:i[s]=r)}),i}function yr(u){var t=!1,i=new Promise(function(s,r){u.then(function(o){return!t&&s(o)}).catch(function(o){return!t&&r(o)})});return{promise:i,cancel:function(){t=!0}}}function cy(u){var t,i,s="";if(typeof u=="string"||typeof u=="number")s+=u;else if(typeof u=="object")if(Array.isArray(u)){var r=u.length;for(t=0;t<r;t++)u[t]&&(i=cy(u[t]))&&(s&&(s+=" "),s+=i)}else for(i in u)u[i]&&(s&&(s+=" "),s+=i);return s}function ro(){for(var u,t,i=0,s="",r=arguments.length;i<r;i++)(u=arguments[i])&&(t=cy(u))&&(s&&(s+=" "),s+=t);return s}var qE="Invariant failed";function Ut(u,t){if(!u)throw new Error(qE)}var Bu,em;function VE(){if(em)return Bu;em=1;var u=function(){};return Bu=u,Bu}var XE=VE();const Re=Pv(XE);var im=Object.prototype.hasOwnProperty;function nm(u,t,i){for(i of u.keys())if(qs(i,t))return i}function qs(u,t){var i,s,r;if(u===t)return!0;if(u&&t&&(i=u.constructor)===t.constructor){if(i===Date)return u.getTime()===t.getTime();if(i===RegExp)return u.toString()===t.toString();if(i===Array){if((s=u.length)===t.length)for(;s--&&qs(u[s],t[s]););return s===-1}if(i===Set){if(u.size!==t.size)return!1;for(s of u)if(r=s,r&&typeof r=="object"&&(r=nm(t,r),!r)||!t.has(r))return!1;return!0}if(i===Map){if(u.size!==t.size)return!1;for(s of u)if(r=s[0],r&&typeof r=="object"&&(r=nm(t,r),!r)||!qs(s[1],t.get(r)))return!1;return!0}if(i===ArrayBuffer)u=new Uint8Array(u),t=new Uint8Array(t);else if(i===DataView){if((s=u.byteLength)===t.byteLength)for(;s--&&u.getInt8(s)===t.getInt8(s););return s===-1}if(ArrayBuffer.isView(u)){if((s=u.byteLength)===t.byteLength)for(;s--&&u[s]===t[s];);return s===-1}if(!i||typeof u=="object"){s=0;for(i in u)if(im.call(u,i)&&++s&&!im.call(t,i)||!(i in t)||!qs(u[i],t[i]))return!1;return Object.keys(t).length===s}}return u!==u&&t!==t}const uy=L.createContext(null);function Vs({children:u,type:t}){return K.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:u})}const YE="noopener noreferrer nofollow";class KE{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Ut(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Ut(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(i=>{Ut(this.pdfDocument),Ut(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(i):Array.isArray(t)?i(t):t.then(i)}).then(i=>{Ut(Array.isArray(i));const s=i[0];new Promise(r=>{Ut(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(o=>{r(o)}).catch(()=>{Ut(!1)}):typeof s=="number"?r(s):Ut(!1)}).then(r=>{const o=r+1;Ut(this.pdfViewer),Ut(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:i,pageIndex:r,pageNumber:o})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const i=t-1;Ut(this.pdfViewer),Ut(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:i,pageNumber:t})}addLinkAttributes(t,i,s){t.href=i,t.rel=this.externalLinkRel||YE,t.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const sm={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},lo=typeof window<"u",hy=lo&&window.location.protocol==="file:";function $E(u){return typeof u<"u"}function Gn(u){return $E(u)&&u!==null}function WE(u){return typeof u=="string"}function QE(u){return u instanceof ArrayBuffer}function ZE(u){return Ut(lo),u instanceof Blob}function th(u){return WE(u)&&/^data:/.test(u)}function am(u){Ut(th(u));const[t="",i=""]=u.split(",");return t.split(";").indexOf("base64")!==-1?atob(i):unescape(i)}function JE(){return lo&&window.devicePixelRatio||1}const dy="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function rm(){Re(!hy,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${dy}`)}function tw(){Re(!hy,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${dy}`)}function $n(u){u?.cancel&&u.cancel()}function eh(u,t){return Object.defineProperty(u,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(u,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(u,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(u,"originalHeight",{get(){return this.view[3]},configurable:!0}),u}function ew(u){return u.name==="RenderingCancelledException"}function iw(u){return new Promise((t,i)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return i(new Error("Error while reading a file."));t(s.result)},s.onerror=r=>{if(!r.target)return i(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return i(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return i(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return i(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return i(new Error("Error while reading a file: Aborted."));default:return i(new Error("Error while reading a file."))}},s.readAsArrayBuffer(u)})}function nw(u,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return u}}function $s(){return L.useReducer(nw,{value:void 0,error:void 0})}var sw=function(u,t,i,s){function r(o){return o instanceof i?o:new i(function(c){c(o)})}return new(i||(i=Promise))(function(o,c){function h(m){try{p(s.next(m))}catch(y){c(y)}}function f(m){try{p(s.throw(m))}catch(y){c(y)}}function p(m){m.done?o(m.value):r(m.value).then(h,f)}p((s=s.apply(u,t||[])).next())})},lm=function(u,t){var i={};for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&t.indexOf(s)<0&&(i[s]=u[s]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(u);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(u,s[r])&&(i[s[r]]=u[s[r]]);return i};const{PDFDataRangeTransport:aw}=wE,rw=(u,t)=>{switch(t){case sm.NEED_PASSWORD:{const i=prompt("Enter the password to open this PDF file.");u(i);break}case sm.INCORRECT_PASSWORD:{const i=prompt("Invalid password. Please try again.");u(i);break}}};function om(u){return typeof u=="object"&&u!==null&&("data"in u||"range"in u||"url"in u)}const lw=L.forwardRef(function(t,i){var{children:s,className:r,error:o="Failed to load PDF file.",externalLinkRel:c,externalLinkTarget:h,file:f,inputRef:p,imageResourcesPath:m,loading:y="Loading PDF",noData:b="No PDF file specified.",onItemClick:A,onLoadError:S,onLoadProgress:E,onLoadSuccess:x,onPassword:w=rw,onSourceError:M,onSourceSuccess:O,options:k,renderMode:H,rotate:j}=t,X=lm(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[Z,W]=$s(),{value:tt,error:J}=Z,[ot,dt]=$s(),{value:ht,error:rt}=ot,P=L.useRef(new KE),B=L.useRef([]),Y=L.useRef(void 0),gt=L.useRef(void 0);f&&f!==Y.current&&om(f)&&(Re(!qs(f,Y.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Y.current=f),k&&k!==gt.current&&(Re(!qs(k,gt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),gt.current=k);const C=L.useRef({scrollPageIntoView:Lt=>{const{dest:jt,pageNumber:he,pageIndex:ee=he-1}=Lt;if(A){A({dest:jt,pageIndex:ee,pageNumber:he});return}const be=B.current[ee];if(be){be.scrollIntoView();return}Re(!1,`An internal link leading to page ${he} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});L.useImperativeHandle(i,()=>({linkService:P,pages:B,viewer:C}),[]);function G(){O&&O()}function Q(){J&&(Re(!1,J.toString()),M&&M(J))}function $(){W({type:"RESET"})}L.useEffect($,[f,W]);const et=L.useCallback(()=>sw(this,void 0,void 0,function*(){if(!f)return null;if(typeof f=="string")return th(f)?{data:am(f)}:(rm(),{url:f});if(f instanceof aw)return{range:f};if(QE(f))return{data:f};if(lo&&ZE(f))return{data:yield iw(f)};if(Ut(typeof f=="object"),Ut(om(f)),"url"in f&&typeof f.url=="string"){if(th(f.url)){const{url:Lt}=f,jt=lm(f,["url"]),he=am(Lt);return Object.assign({data:he},jt)}rm()}return f}),[f]);L.useEffect(()=>{const Lt=yr(et());return Lt.promise.then(jt=>{W({type:"RESOLVE",value:jt})}).catch(jt=>{W({type:"REJECT",error:jt})}),()=>{$n(Lt)}},[et,W]),L.useEffect(()=>{if(!(typeof tt>"u")){if(tt===!1){Q();return}G()}},[tt]);function mt(){ht&&(x&&x(ht),B.current=new Array(ht.numPages),P.current.setDocument(ht))}function it(){rt&&(Re(!1,rt.toString()),S&&S(rt))}L.useEffect(function(){dt({type:"RESET"})},[dt,tt]),L.useEffect(function(){if(!tt)return;const jt=k?Object.assign(Object.assign({},tt),k):tt,he=ly(jt);E&&(he.onProgress=E),w&&(he.onPassword=w);const ee=he,be=ee.promise.then(En=>{dt({type:"RESOLVE",value:En})}).catch(En=>{ee.destroyed||dt({type:"REJECT",error:En})});return()=>{be.finally(()=>ee.destroy())}},[k,dt,tt]),L.useEffect(()=>{if(!(typeof ht>"u")){if(ht===!1){it();return}mt()}},[ht]),L.useEffect(function(){P.current.setViewer(C.current),P.current.setExternalLinkRel(c),P.current.setExternalLinkTarget(h)},[c,h]);const yt=L.useCallback((Lt,jt)=>{B.current[Lt]=jt},[]),Tt=L.useCallback(Lt=>{delete B.current[Lt]},[]),te=L.useMemo(()=>({imageResourcesPath:m,linkService:P.current,onItemClick:A,pdf:ht,registerPage:yt,renderMode:H,rotate:j,unregisterPage:Tt}),[m,A,ht,yt,H,j,Tt]),Nt=L.useMemo(()=>oy(X,()=>ht),[X,ht]);function pi(){return K.jsx(uy.Provider,{value:te,children:s})}function wi(){return f?ht==null?K.jsx(Vs,{type:"loading",children:typeof y=="function"?y():y}):ht===!1?K.jsx(Vs,{type:"error",children:typeof o=="function"?o():o}):pi():K.jsx(Vs,{type:"no-data",children:typeof b=="function"?b():b})}return K.jsx("div",Object.assign({className:ro("react-pdf__Document",r),ref:p,style:{"--scale-factor":"1"}},Nt,{children:wi()}))});function fy(){return L.useContext(uy)}function py(){for(var u=[],t=0;t<arguments.length;t++)u[t]=arguments[t];var i=u.filter(Boolean);if(i.length<=1){var s=i[0];return s||null}return function(o){i.forEach(function(c){typeof c=="function"?c(o):c&&(c.current=o)})}}const gy=L.createContext(null),my={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},ow=/^H(\d+)$/;function cw(u){return u in my}function oo(u){return"children"in u}function yy(u){return oo(u)?u.children.length===1&&0 in u.children&&"id"in u.children[0]:!1}function uw(u){const t={};if(oo(u)){const{role:i}=u,s=i.match(ow);if(s)t.role="heading",t["aria-level"]=Number(s[1]);else if(cw(i)){const r=my[i];r&&(t.role=r)}}return t}function by(u){const t={};if(oo(u)){if(u.alt!==void 0&&(t["aria-label"]=u.alt),u.lang!==void 0&&(t.lang=u.lang),yy(u)){const[i]=u.children;if(i){const s=by(i);return Object.assign(Object.assign({},t),s)}}}else"id"in u&&(t["aria-owns"]=u.id);return t}function hw(u){return u?Object.assign(Object.assign({},uw(u)),by(u)):null}function vy({className:u,node:t}){const i=L.useMemo(()=>hw(t),[t]),s=L.useMemo(()=>!oo(t)||yy(t)?null:t.children.map((r,o)=>K.jsx(vy,{node:r},o)),[t]);return K.jsx("span",Object.assign({className:u},i,{children:s}))}function co(){return L.useContext(gy)}function dw(){const u=co();Ut(u);const{onGetStructTreeError:t,onGetStructTreeSuccess:i}=u,[s,r]=$s(),{value:o,error:c}=s,{customTextRenderer:h,page:f}=u;function p(){o&&i&&i(o)}function m(){c&&(Re(!1,c.toString()),t&&t(c))}return L.useEffect(function(){r({type:"RESET"})},[r,f]),L.useEffect(function(){if(h||!f)return;const b=yr(f.getStructTree()),A=b;return b.promise.then(S=>{r({type:"RESOLVE",value:S})}).catch(S=>{r({type:"REJECT",error:S})}),()=>$n(A)},[h,f,r]),L.useEffect(()=>{if(o!==void 0){if(o===!1){m();return}p()}},[o]),o?K.jsx(vy,{className:"react-pdf__Page__structTree structTree",node:o}):null}const cm=ay;function fw(u){const t=co();Ut(t);const i=Object.assign(Object.assign({},t),u),{_className:s,canvasBackground:r,devicePixelRatio:o=JE(),onRenderError:c,onRenderSuccess:h,page:f,renderForms:p,renderTextLayer:m,rotate:y,scale:b}=i,{canvasRef:A}=u;Ut(f);const S=L.useRef(null);function E(){f&&h&&h(eh(f,b))}function x(k){ew(k)||(Re(!1,k.toString()),c&&c(k))}const w=L.useMemo(()=>f.getViewport({scale:b*o,rotation:y}),[o,f,y,b]),M=L.useMemo(()=>f.getViewport({scale:b,rotation:y}),[f,y,b]);L.useEffect(function(){if(!f)return;f.cleanup();const{current:H}=S;if(!H)return;H.width=w.width,H.height=w.height,H.style.width=`${Math.floor(M.width)}px`,H.style.height=`${Math.floor(M.height)}px`,H.style.visibility="hidden";const j={annotationMode:p?cm.ENABLE_FORMS:cm.ENABLE,canvasContext:H.getContext("2d",{alpha:!1}),viewport:w};r&&(j.background=r);const X=f.render(j),Z=X;return X.promise.then(()=>{H.style.visibility="",E()}).catch(x),()=>$n(Z)},[r,f,p,w,M]);const O=L.useCallback(()=>{const{current:k}=S;k&&(k.width=0,k.height=0)},[]);return L.useEffect(()=>O,[O]),K.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:py(A,S),style:{display:"block",userSelect:"none"},children:m?K.jsx(dw,{}):null})}function pw(u){return"str"in u}function gw(){const u=co();Ut(u);const{customTextRenderer:t,onGetTextError:i,onGetTextSuccess:s,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:c,pageIndex:h,pageNumber:f,rotate:p,scale:m}=u;Ut(c);const[y,b]=$s(),{value:A,error:S}=y,E=L.useRef(null);Re(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function x(){A&&s&&s(A)}function w(){S&&(Re(!1,S.toString()),i&&i(S))}L.useEffect(function(){b({type:"RESET"})},[c,b]),L.useEffect(function(){if(!c)return;const Z=yr(c.getTextContent()),W=Z;return Z.promise.then(tt=>{b({type:"RESOLVE",value:tt})}).catch(tt=>{b({type:"REJECT",error:tt})}),()=>$n(W)},[c,b]),L.useEffect(()=>{if(A!==void 0){if(A===!1){w();return}x()}},[A]);const M=L.useCallback(()=>{o&&o()},[o]),O=L.useCallback(X=>{Re(!1,X.toString()),r&&r(X)},[r]);function k(){const X=E.current;X&&X.classList.add("selecting")}function H(){const X=E.current;X&&X.classList.remove("selecting")}const j=L.useMemo(()=>c.getViewport({scale:m,rotation:p}),[c,p,m]);return L.useLayoutEffect(function(){if(!c||!A)return;const{current:Z}=E;if(!Z)return;Z.innerHTML="";const W=c.streamTextContent({includeMarkedContent:!0}),tt={container:Z,textContentSource:W,viewport:j},J=new ry(tt),ot=J;return J.render().then(()=>{const dt=document.createElement("div");dt.className="endOfContent",Z.append(dt);const ht=Z.querySelectorAll('[role="presentation"]');if(t){let rt=0;A.items.forEach((P,B)=>{if(!pw(P))return;const Y=ht[rt];if(!Y)return;const gt=t(Object.assign({pageIndex:h,pageNumber:f,itemIndex:B},P));Y.innerHTML=gt,rt+=P.str&&P.hasEOL?2:1})}M()}).catch(O),()=>$n(ot)},[t,O,M,c,h,f,A,j]),K.jsx("div",{className:ro("react-pdf__Page__textContent","textLayer"),onMouseUp:H,onMouseDown:k,ref:E})}function mw(){const u=fy(),t=co();Ut(t);const i=Object.assign(Object.assign({},u),t),{imageResourcesPath:s,linkService:r,onGetAnnotationsError:o,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:f,page:p,pdf:m,renderForms:y,rotate:b,scale:A=1}=i;Ut(m),Ut(p),Ut(r);const[S,E]=$s(),{value:x,error:w}=S,M=L.useRef(null);Re(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function O(){x&&c&&c(x)}function k(){w&&(Re(!1,w.toString()),o&&o(w))}L.useEffect(function(){E({type:"RESET"})},[E,p]),L.useEffect(function(){if(!p)return;const W=yr(p.getAnnotations()),tt=W;return W.promise.then(J=>{E({type:"RESOLVE",value:J})}).catch(J=>{E({type:"REJECT",error:J})}),()=>{$n(tt)}},[E,p]),L.useEffect(()=>{if(x!==void 0){if(x===!1){k();return}O()}},[x]);function H(){f&&f()}function j(Z){Re(!1,`${Z}`),h&&h(Z)}const X=L.useMemo(()=>p.getViewport({scale:A,rotation:b}),[p,b,A]);return L.useEffect(function(){if(!m||!p||!r||!x)return;const{current:W}=M;if(!W)return;const tt=X.clone({dontFlip:!0}),J={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:W,l10n:null,page:p,structTreeLayer:null,viewport:tt},ot={annotations:x,annotationStorage:m.annotationStorage,div:W,imageResourcesPath:s,linkService:r,page:p,renderForms:y,viewport:tt};W.innerHTML="";try{new sy(J).render(ot),H()}catch(dt){j(dt)}return()=>{}},[x,s,r,p,m,y,X]),K.jsx("div",{className:ro("react-pdf__Page__annotations","annotationLayer"),ref:M})}var yw=function(u,t){var i={};for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&t.indexOf(s)<0&&(i[s]=u[s]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(u);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(u,s[r])&&(i[s[r]]=u[s[r]]);return i};const um=1;function bw(u){const t=fy(),i=Object.assign(Object.assign({},t),u),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:c,children:h,className:f,customRenderer:p,customTextRenderer:m,devicePixelRatio:y,error:b="Failed to load the page.",height:A,inputRef:S,loading:E="Loading page",noData:x="No page specified.",onGetAnnotationsError:w,onGetAnnotationsSuccess:M,onGetStructTreeError:O,onGetStructTreeSuccess:k,onGetTextError:H,onGetTextSuccess:j,onLoadError:X,onLoadSuccess:Z,onRenderAnnotationLayerError:W,onRenderAnnotationLayerSuccess:tt,onRenderError:J,onRenderSuccess:ot,onRenderTextLayerError:dt,onRenderTextLayerSuccess:ht,pageIndex:rt,pageNumber:P,pdf:B,registerPage:Y,renderAnnotationLayer:gt=!0,renderForms:C=!1,renderMode:G="canvas",renderTextLayer:Q=!0,rotate:$,scale:et=um,unregisterPage:mt,width:it}=i,yt=yw(i,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Tt,te]=$s(),{value:Nt,error:pi}=Tt,wi=L.useRef(null);Ut(B);const Lt=Gn(P)?P-1:rt??null,jt=P??(Gn(rt)?rt+1:null),he=$??(Nt?Nt.rotate:null),ee=L.useMemo(()=>{if(!Nt)return null;let ie=1;const Be=et??um;if(it||A){const de=Nt.getViewport({scale:1,rotation:he});it?ie=it/de.width:A&&(ie=A/de.height)}return Be*ie},[A,Nt,he,et,it]);L.useEffect(function(){return()=>{Gn(Lt)&&r&&mt&&mt(Lt)}},[r,B,Lt,mt]);function be(){if(Z){if(!Nt||!ee)return;Z(eh(Nt,ee))}if(r&&Y){if(!Gn(Lt)||!wi.current)return;Y(Lt,wi.current)}}function En(){pi&&(Re(!1,pi.toString()),X&&X(pi))}L.useEffect(function(){te({type:"RESET"})},[te,B,Lt]),L.useEffect(function(){if(!B||!jt)return;const Be=yr(B.getPage(jt)),de=Be;return Be.promise.then(Zs=>{te({type:"RESOLVE",value:Zs})}).catch(Zs=>{te({type:"REJECT",error:Zs})}),()=>$n(de)},[te,B,jt]),L.useEffect(()=>{if(Nt!==void 0){if(Nt===!1){En();return}be()}},[Nt,ee]);const br=L.useMemo(()=>Nt&&Gn(Lt)&&jt&&Gn(he)&&Gn(ee)?{_className:s,canvasBackground:o,customTextRenderer:m,devicePixelRatio:y,onGetAnnotationsError:w,onGetAnnotationsSuccess:M,onGetStructTreeError:O,onGetStructTreeSuccess:k,onGetTextError:H,onGetTextSuccess:j,onRenderAnnotationLayerError:W,onRenderAnnotationLayerSuccess:tt,onRenderError:J,onRenderSuccess:ot,onRenderTextLayerError:dt,onRenderTextLayerSuccess:ht,page:Nt,pageIndex:Lt,pageNumber:jt,renderForms:C,renderTextLayer:Q,rotate:he,scale:ee}:null,[s,o,m,y,w,M,O,k,H,j,W,tt,J,ot,dt,ht,Nt,Lt,jt,C,Q,he,ee]),vr=L.useMemo(()=>oy(yt,()=>Nt&&(ee?eh(Nt,ee):void 0)),[yt,Nt,ee]),xi=`${Lt}@${ee}/${he}`;function uo(){switch(G){case"custom":return Ut(p),K.jsx(p,{},`${xi}_custom`);case"none":return null;case"canvas":default:return K.jsx(fw,{canvasRef:c},`${xi}_canvas`)}}function Ar(){return Q?K.jsx(gw,{},`${xi}_text`):null}function ho(){return gt?K.jsx(mw,{},`${xi}_annotations`):null}function fo(){return K.jsxs(gy.Provider,{value:br,children:[uo(),Ar(),ho(),h]})}function wn(){return jt?B===null||Nt===void 0||Nt===null?K.jsx(Vs,{type:"loading",children:typeof E=="function"?E():E}):B===!1||Nt===!1?K.jsx(Vs,{type:"error",children:typeof b=="function"?b():b}):fo():K.jsx(Vs,{type:"no-data",children:typeof x=="function"?x():x})}return K.jsx("div",Object.assign({className:ro(s,f),"data-page-number":jt,ref:py(S,wi),style:{"--scale-factor":`${ee}`,backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},vr,{children:wn()}))}tw();xh.workerSrc="pdf.worker.mjs";xh.workerSrc="/JZSITE2025/pdf.worker.min.js";function vw(){const[u,t]=L.useState(null),[i,s]=L.useState(800);L.useEffect(()=>{function o(){const c=window.innerWidth-64;s(Math.min(c,800))}return window.addEventListener("resize",o),o(),()=>window.removeEventListener("resize",o)},[]);const r="/JZSITE2025/Jacky_Zhao_resume.pdf";return K.jsxs("section",{className:"pt-20 min-h-screen bg-gradient-to-tr bg-blue-50 min-h-screen p-6",children:[K.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 mb-8",children:[K.jsx("h2",{className:"text-4xl font-semibold text-blue-800 text-center",children:"Jacky Zhao - Resume"}),K.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition",children:"View Full PDF"})]}),K.jsx(lw,{file:r,onLoadSuccess:({numPages:o})=>t(o),onLoadError:o=>console.error("PDF load error:",o),children:Array.from({length:u||0},(o,c)=>K.jsx("div",{className:"flex justify-center",children:K.jsx("div",{className:"bg-black rounded-lg shadow-xl p-1.5 mb-8",style:{width:i+32},children:K.jsx(bw,{pageNumber:c+1,width:i,renderAnnotationLayer:!0,renderTextLayer:!0})})},c))})]})}function Aw(){return K.jsxs(aA,{children:[K.jsx(gA,{}),K.jsx("div",{children:K.jsxs(F0,{children:[K.jsx(ir,{path:"/",element:K.jsx(vA,{})}),K.jsx(ir,{path:"/projects",element:K.jsx(FA,{})}),K.jsx(ir,{path:"/hobbies",element:K.jsx(HA,{})}),K.jsx(ir,{path:"/resume",element:K.jsx(vw,{})})]})})]})}Vv.createRoot(document.getElementById("root")).render(K.jsx(L.StrictMode,{children:K.jsx(Aw,{})}));
